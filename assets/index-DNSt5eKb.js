(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function FE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _p={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function mA(){if(jv)return zl;jv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=t,zl.jsx=e,zl.jsxs=e,zl}var qv;function gA(){return qv||(qv=1,_p.exports=mA()),_p.exports}var B=gA(),vp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function yA(){if(Hv)return Ct;Hv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,q={};function k(V,at,ct){this.props=V,this.context=at,this.refs=q,this.updater=ct||O}k.prototype.isReactComponent={},k.prototype.setState=function(V,at){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,at,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=k.prototype;function K(V,at,ct){this.props=V,this.context=at,this.refs=q,this.updater=ct||O}var z=K.prototype=new F;z.constructor=K,M(z,k.prototype),z.isPureReactComponent=!0;var nt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function C(V,at,ct,st,yt,Nt){return ct=Nt.ref,{$$typeof:i,type:V,key:at,ref:ct!==void 0?ct:null,props:Nt}}function A(V,at){return C(V.type,at,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function I(V){var at={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return at[ct]})}var N=/\/+/g;function P(V,at){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):at.toString(36)}function D(){}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(at){V.status==="pending"&&(V.status="fulfilled",V.value=at)},function(at){V.status==="pending"&&(V.status="rejected",V.reason=at)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function xt(V,at,ct,st,yt){var Nt=typeof V;(Nt==="undefined"||Nt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(Nt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case i:case t:St=!0;break;case _:return St=V._init,xt(St(V._payload),at,ct,st,yt)}}if(St)return yt=yt(V),St=st===""?"."+P(V,0):st,nt(yt)?(ct="",St!=null&&(ct=St.replace(N,"$&/")+"/"),xt(yt,at,ct,"",function(Wn){return Wn})):yt!=null&&(R(yt)&&(yt=A(yt,ct+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(N,"$&/")+"/")+St)),at.push(yt)),1;St=0;var Oe=st===""?".":st+":";if(nt(V))for(var ee=0;ee<V.length;ee++)st=V[ee],Nt=Oe+P(st,ee),St+=xt(st,at,ct,Nt,yt);else if(ee=S(V),typeof ee=="function")for(V=ee.call(V),ee=0;!(st=V.next()).done;)st=st.value,Nt=Oe+P(st,ee++),St+=xt(st,at,ct,Nt,yt);else if(Nt==="object"){if(typeof V.then=="function")return xt(kt(V),at,ct,st,yt);throw at=String(V),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(V,at,ct){if(V==null)return V;var st=[],yt=0;return xt(V,st,"","",function(Nt){return at.call(ct,Nt,yt++)}),st}function lt(V){if(V._status===-1){var at=V._result;at=at(),at.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=at)}if(V._status===1)return V._result.default;throw V._result}var pt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ut(){}return Ct.Children={map:W,forEach:function(V,at,ct){W(V,function(){at.apply(this,arguments)},ct)},count:function(V){var at=0;return W(V,function(){at++}),at},toArray:function(V){return W(V,function(at){return at})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=k,Ct.Fragment=e,Ct.Profiler=o,Ct.PureComponent=K,Ct.StrictMode=a,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return et.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,at,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=M({},V.props),yt=V.key,Nt=void 0;if(at!=null)for(St in at.ref!==void 0&&(Nt=void 0),at.key!==void 0&&(yt=""+at.key),at)!ut.call(at,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&at.ref===void 0||(st[St]=at[St]);var St=arguments.length-2;if(St===1)st.children=ct;else if(1<St){for(var Oe=Array(St),ee=0;ee<St;ee++)Oe[ee]=arguments[ee+2];st.children=Oe}return C(V.type,yt,void 0,void 0,Nt,st)},Ct.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ct.createElement=function(V,at,ct){var st,yt={},Nt=null;if(at!=null)for(st in at.key!==void 0&&(Nt=""+at.key),at)ut.call(at,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=at[st]);var St=arguments.length-2;if(St===1)yt.children=ct;else if(1<St){for(var Oe=Array(St),ee=0;ee<St;ee++)Oe[ee]=arguments[ee+2];yt.children=Oe}if(V&&V.defaultProps)for(st in St=V.defaultProps,St)yt[st]===void 0&&(yt[st]=St[st]);return C(V,Nt,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:d,render:V}},Ct.isValidElement=R,Ct.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:lt}},Ct.memo=function(V,at){return{$$typeof:g,type:V,compare:at===void 0?null:at}},Ct.startTransition=function(V){var at=et.T,ct={};et.T=ct;try{var st=V(),yt=et.S;yt!==null&&yt(ct,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,pt)}catch(Nt){pt(Nt)}finally{et.T=at}},Ct.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Ct.use=function(V){return et.H.use(V)},Ct.useActionState=function(V,at,ct){return et.H.useActionState(V,at,ct)},Ct.useCallback=function(V,at){return et.H.useCallback(V,at)},Ct.useContext=function(V){return et.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,at){return et.H.useDeferredValue(V,at)},Ct.useEffect=function(V,at,ct){var st=et.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,at)},Ct.useId=function(){return et.H.useId()},Ct.useImperativeHandle=function(V,at,ct){return et.H.useImperativeHandle(V,at,ct)},Ct.useInsertionEffect=function(V,at){return et.H.useInsertionEffect(V,at)},Ct.useLayoutEffect=function(V,at){return et.H.useLayoutEffect(V,at)},Ct.useMemo=function(V,at){return et.H.useMemo(V,at)},Ct.useOptimistic=function(V,at){return et.H.useOptimistic(V,at)},Ct.useReducer=function(V,at,ct){return et.H.useReducer(V,at,ct)},Ct.useRef=function(V){return et.H.useRef(V)},Ct.useState=function(V){return et.H.useState(V)},Ct.useSyncExternalStore=function(V,at,ct){return et.H.useSyncExternalStore(V,at,ct)},Ct.useTransition=function(){return et.H.useTransition()},Ct.version="19.1.0",Ct}var Fv;function bm(){return Fv||(Fv=1,vp.exports=yA()),vp.exports}var L=bm();const re=FE(L);var Ep={exports:{}},Bl={},Tp={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function _A(){return Gv||(Gv=1,function(i){function t(W,lt){var pt=W.length;W.push(lt);t:for(;0<pt;){var Ut=pt-1>>>1,V=W[Ut];if(0<o(V,lt))W[Ut]=lt,W[pt]=V,pt=Ut;else break t}}function e(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var lt=W[0],pt=W.pop();if(pt!==lt){W[0]=pt;t:for(var Ut=0,V=W.length,at=V>>>1;Ut<at;){var ct=2*(Ut+1)-1,st=W[ct],yt=ct+1,Nt=W[yt];if(0>o(st,pt))yt<V&&0>o(Nt,st)?(W[Ut]=Nt,W[yt]=pt,Ut=yt):(W[Ut]=st,W[ct]=pt,Ut=ct);else if(yt<V&&0>o(Nt,pt))W[Ut]=Nt,W[yt]=pt,Ut=yt;else break t}}return lt}function o(W,lt){var pt=W.sortIndex-lt.sortIndex;return pt!==0?pt:W.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,b=null,S=3,O=!1,M=!1,q=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function nt(W){for(var lt=e(g);lt!==null;){if(lt.callback===null)a(g);else if(lt.startTime<=W)a(g),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=e(g)}}function et(W){if(q=!1,nt(W),!M)if(e(m)!==null)M=!0,ut||(ut=!0,P());else{var lt=e(g);lt!==null&&xt(et,lt.startTime-W)}}var ut=!1,C=-1,A=5,R=-1;function I(){return k?!0:!(i.unstable_now()-R<A)}function N(){if(k=!1,ut){var W=i.unstable_now();R=W;var lt=!0;try{t:{M=!1,q&&(q=!1,K(C),C=-1),O=!0;var pt=S;try{e:{for(nt(W),b=e(m);b!==null&&!(b.expirationTime>W&&I());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,S=b.priorityLevel;var V=Ut(b.expirationTime<=W);if(W=i.unstable_now(),typeof V=="function"){b.callback=V,nt(W),lt=!0;break e}b===e(m)&&a(m),nt(W)}else a(m);b=e(m)}if(b!==null)lt=!0;else{var at=e(g);at!==null&&xt(et,at.startTime-W),lt=!1}}break t}finally{b=null,S=pt,O=!1}lt=void 0}}finally{lt?P():ut=!1}}}var P;if(typeof z=="function")P=function(){z(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,kt=D.port2;D.port1.onmessage=N,P=function(){kt.postMessage(null)}}else P=function(){F(N,0)};function xt(W,lt){C=F(function(){W(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var pt=S;S=lt;try{return W()}finally{S=pt}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pt=S;S=W;try{return lt()}finally{S=pt}},i.unstable_scheduleCallback=function(W,lt,pt){var Ut=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ut+pt:Ut):pt=Ut,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pt+V,W={id:_++,callback:lt,priorityLevel:W,startTime:pt,expirationTime:V,sortIndex:-1},pt>Ut?(W.sortIndex=pt,t(g,W),e(m)===null&&W===e(g)&&(q?(K(C),C=-1):q=!0,xt(et,pt-Ut))):(W.sortIndex=V,t(m,W),M||O||(M=!0,ut||(ut=!0,P()))),W},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(W){var lt=S;return function(){var pt=S;S=lt;try{return W.apply(this,arguments)}finally{S=pt}}}}(bp)),bp}var $v;function vA(){return $v||($v=1,Tp.exports=_A()),Tp.exports}var wp={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function EA(){if(Kv)return We;Kv=1;var i=bm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},We.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},We.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},We.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},We.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):_==="script"&&a.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},We.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},We.requestFormReset=function(m){a.d.r(m)},We.unstable_batchedUpdates=function(m,g){return m(g)},We.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.1.0",We}var Qv;function TA(){if(Qv)return wp.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wp.exports=EA(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function bA(){if(Yv)return Bl;Yv=1;var i=vA(),t=bm(),e=TA();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function m(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,l=r;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),n;if(p===l)return d(f),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,l=p;break}if(T===l){E=!0,l=f,s=p;break}T=T.sibling}if(!E){for(T=p.child;T;){if(T===s){E=!0,s=p,l=f;break}if(T===l){E=!0,l=p,s=f;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),z=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function kt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case k:return"Profiler";case q:return"StrictMode";case et:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case z:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case nt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return r=n.displayName||null,r!==null?r:kt(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return kt(n(r))}catch{}}return null}var xt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ut=[],V=-1;function at(n){return{current:n}}function ct(n){0>V||(n.current=Ut[V],Ut[V]=null,V--)}function st(n,r){V++,Ut[V]=n.current,n.current=r}var yt=at(null),Nt=at(null),St=at(null),Oe=at(null);function ee(n,r){switch(st(St,r),st(Nt,n),st(yt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?mv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=mv(r),n=gv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ct(yt),st(yt,n)}function Wn(){ct(yt),ct(Nt),ct(St)}function dr(n){n.memoizedState!==null&&st(Oe,n);var r=yt.current,s=gv(r,n.type);r!==s&&(st(Nt,n),st(yt,s))}function Si(n){Nt.current===n&&(ct(yt),ct(Nt)),Oe.current===n&&(ct(Oe),Pl._currentValue=pt)}var ua=Object.prototype.hasOwnProperty,ca=i.unstable_scheduleCallback,ha=i.unstable_cancelCallback,No=i.unstable_shouldYield,xu=i.unstable_requestPaint,Sn=i.unstable_now,_f=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,us=i.unstable_UserBlockingPriority,fa=i.unstable_NormalPriority,vf=i.unstable_LowPriority,cs=i.unstable_IdlePriority,Mo=i.log,Nu=i.unstable_setDisableYieldValue,ce=null,Kt=null;function pn(n){if(typeof Mo=="function"&&Nu(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ce,n)}catch{}}var Ye=Math.clz32?Math.clz32:da,Ou=Math.log,Ef=Math.LN2;function da(n){return n>>>=0,n===0?32:31-(Ou(n)/Ef|0)|0}var pa=256,ma=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hs(n,r,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?f=Bn(l):(E&=T,E!==0?f=Bn(E):s||(s=T&~n,s!==0&&(f=Bn(s))))):(T=l&~p,T!==0?f=Bn(T):E!==0?f=Bn(E):s||(s=l&~n,s!==0&&(f=Bn(s)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:f}function ga(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Po(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var n=pa;return pa<<=1,(pa&4194048)===0&&(pa=256),n}function Vo(){var n=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),n}function Ai(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Ri(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Lo(n,r,s,l,f,p){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,x=n.expirationTimes,$=n.hiddenUpdates;for(s=E&~s;0<s;){var Z=31-Ye(s),it=1<<Z;T[Z]=0,x[Z]=-1;var Q=$[Z];if(Q!==null)for($[Z]=null,Z=0;Z<Q.length;Z++){var Y=Q[Z];Y!==null&&(Y.lane&=-536870913)}s&=~it}l!==0&&Zn(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function Zn(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Ye(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Uo(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-Ye(s),f=1<<l;f&r|n[l]&r&&(n[l]|=r),s&=~f}}function pr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mr(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:kv(n.type))}function Mu(n,r){var s=lt.p;try{return lt.p=n,r()}finally{lt.p=s}}var ae=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ae,ve="__reactProps$"+ae,An="__reactContainer$"+ae,zo="__reactEvents$"+ae,Tf="__reactListeners$"+ae,gr="__reactHandles$"+ae,Pu="__reactResources$"+ae,ya="__reactMarker$"+ae;function yr(n){delete n[Ae],delete n[ve],delete n[zo],delete n[Tf],delete n[gr]}function Ci(n){var r=n[Ae];if(r)return r;for(var s=n.parentNode;s;){if(r=s[An]||s[Ae]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=Ev(n);n!==null;){if(s=n[Ae])return s;n=Ev(n)}return r}n=s,s=n.parentNode}return null}function Jn(n){if(n=n[Ae]||n[An]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ti(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function nn(n){var r=n[Pu];return r||(r=n[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(n){n[ya]=!0}var Bo=new Set,ds={};function jn(n,r){Ii(n,r),Ii(n+"Capture",r)}function Ii(n,r){for(ds[n]=r,n=0;n<r.length;n++)Bo.add(r[n])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},_a={};function Lu(n){return ua.call(_a,n)?!0:ua.call(Vu,n)?!1:ku.test(n)?_a[n]=!0:(Vu[n]=!0,!1)}function _r(n,r,s){if(Lu(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function ei(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function je(n,r,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+l)}}var va,Uu;function Di(n){if(va===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);va=r&&r[1]||"",Uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+n+Uu}var ps=!1;function ms(n,r){if(!n||ps)return"";ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Y){var Q=Y}Reflect.construct(n,[],it)}else{try{it.call()}catch(Y){Q=Y}n.call(it.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(it=n())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],T=p[1];if(E&&T){var x=E.split(`
`),$=T.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===$.length)for(l=x.length-1,f=$.length-1;1<=l&&0<=f&&x[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==$[f]){var Z=`
`+x[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ps=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Di(s):""}function jo(n){switch(n.tag){case 26:case 27:case 5:return Di(n.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return ms(n.type,!1);case 11:return ms(n.type.render,!1);case 1:return ms(n.type,!0);case 31:return Di("Activity");default:return""}}function gs(n){try{var r="";do r+=jo(n),n=n.return;while(n);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bf(n){var r=qo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ys(n){n._valueTracker||(n._valueTracker=bf(n))}function Ho(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return n&&(l=qo(n)?n.checked?"true":"false":n.value),n=l,n!==s?(r.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wf=/[\n"\\]/g;function Ee(n){return n.replace(wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,s,l,f,p,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?vr(n,E,rn(r)):s!=null?vr(n,E,rn(s)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function Ta(n,r,s,l,f,p,E,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+rn(s):"",r=r!=null?""+rn(r):s,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vr(n,r,s){r==="number"&&Ea(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function xi(n,r,s,l){if(n=n.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=r.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+rn(s),r=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Xt(n,r,s){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+rn(s):""}function ba(n,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(xt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=rn(r),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(n,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,s):typeof s!="number"||s===0||wa.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function Fo(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&zu(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&zu(n,p,r[p])}function Go(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(n){return Af.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ni=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Oi=null,Mi=null;function $o(n){var r=Jn(n);if(r&&(n=r.stateNode)){var s=n[ve]||null;t:switch(n=r.stateNode,r.type){case"input":if(mn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ee(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==n&&l.form===n.form){var f=l[ve]||null;if(!f)throw Error(a(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===n.form&&Ho(l)}break t;case"textarea":Xt(n,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&xi(n,!!s.multiple,r,!1)}}}var ni=!1;function Bu(n,r,s){if(ni)return n(r,s);ni=!0;try{var l=n(r);return l}finally{if(ni=!1,(Oi!==null||Mi!==null)&&(Mc(),Oi&&(r=Oi,n=Mi,Mi=Oi=null,$o(r),n)))for(r=0;r<n.length;r++)$o(n[r])}}function Sa(n,r){var s=n.stateNode;if(s===null)return null;var l=s[ve]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){In=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{In=!1}var ii=null,Er=null,Pi=null;function Ko(){if(Pi)return Pi;var n,r=Er,s=r.length,l,f="value"in ii?ii.value:ii.textContent,p=f.length;for(n=0;n<s&&r[n]===f[n];n++);var E=s-n;for(l=1;l<=E&&r[s-l]===f[p-l];l++);return Pi=f.slice(n,1<l?1-l:void 0)}function ri(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ai(){return!0}function Qo(){return!1}function Me(n){function r(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ai:Qo,this.isPropagationStopped=Qo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Me(Gt),Ra=_({},Gt,{view:0,detail:0}),ju=Me(Ra),Es,Ts,si,Ca=_({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(Es=n.screenX-si.screenX,Ts=n.screenY-si.screenY):Ts=Es=0,si=n),Es)},movementY:function(n){return"movementY"in n?n.movementY:Ts}}),Dn=Me(Ca),qu=_({},Ca,{dataTransfer:0}),Rf=Me(qu),Ia=_({},Ra,{relatedTarget:0}),bs=Me(Ia),Yo=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=Me(Yo),Hu=_({},Gt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ss=Me(Hu),Cf=_({},Gt,{data:0}),Xo=Me(Cf),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Gu[n])?!!r[n]:!1}function xa(){return Wo}var $u=_({},Ra,{key:function(n){if(n.key){var r=Da[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ri(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(n){return n.type==="keypress"?ri(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ri(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),As=Me($u),Ku=_({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Me(Ku),ki=_({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Qu=Me(ki),Yu=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Me(Yu),Wu=_({},Ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Me(Wu),an=_({},Gt,{newState:0,oldState:0}),Zu=Me(an),Ju=[9,13,27,32],oi=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,v=qn&&(!oi||c&&8<c&&11>=c),w=" ",H=!1;function X(n,r){switch(n){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zt=!1;function Re(n,r){switch(n){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(H=!0,w);case"textInput":return n=r.data,n===w&&H?null:n;default:return null}}function Bt(n,r){if(zt)return n==="compositionend"||!oi&&X(n,r)?(n=Ko(),Pi=Er=ii=null,zt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pe[n.type]:r==="textarea"}function Vi(n,r,s,l){Oi?Mi?Mi.push(l):Mi=[l]:Oi=l,r=zc(r,"onChange"),0<r.length&&(s=new vs("onChange","change",null,s,l),n.push({event:s,listeners:r}))}var qe=null,li=null;function Jo(n){cv(n,0)}function tc(n){var r=ti(n);if(Ho(r))return n}function Ng(n,r){if(n==="change")return r}var Og=!1;if(qn){var If;if(qn){var Df="oninput"in document;if(!Df){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Df=typeof Mg.oninput=="function"}If=Df}else If=!1;Og=If&&(!document.documentMode||9<document.documentMode)}function Pg(){qe&&(qe.detachEvent("onpropertychange",kg),li=qe=null)}function kg(n){if(n.propertyName==="value"&&tc(li)){var r=[];Vi(r,li,n,Cn(n)),Bu(Jo,r)}}function Gw(n,r,s){n==="focusin"?(Pg(),qe=r,li=s,qe.attachEvent("onpropertychange",kg)):n==="focusout"&&Pg()}function $w(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(li)}function Kw(n,r){if(n==="click")return tc(r)}function Qw(n,r){if(n==="input"||n==="change")return tc(r)}function Yw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var gn=typeof Object.is=="function"?Object.is:Yw;function tl(n,r){if(gn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!ua.call(r,f)||!gn(n[f],r[f]))return!1}return!0}function Vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lg(n,r){var s=Vg(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=r&&l>=r)return{node:s,offset:r-n};n=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vg(s)}}function Ug(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ug(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ea(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Ea(n.document)}return r}function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Xw=qn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Nf=null,el=null,Of=!1;function Bg(n,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Of||Cs==null||Cs!==Ea(l)||(l=Cs,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=zc(Nf,"onSelect"),0<l.length&&(r=new vs("onSelect","select",null,r,s),n.push({event:r,listeners:l}),r.target=Cs)))}function Na(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Is={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Mf={},jg={};qn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Oa(n){if(Mf[n])return Mf[n];if(!Is[n])return n;var r=Is[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in jg)return Mf[n]=r[s];return n}var qg=Oa("animationend"),Hg=Oa("animationiteration"),Fg=Oa("animationstart"),Ww=Oa("transitionrun"),Zw=Oa("transitionstart"),Jw=Oa("transitioncancel"),Gg=Oa("transitionend"),$g=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Hn(n,r){$g.set(n,r),jn(r,[n])}var Kg=new WeakMap;function xn(n,r){if(typeof n=="object"&&n!==null){var s=Kg.get(n);return s!==void 0?s:(r={value:n,source:r,stack:gs(r)},Kg.set(n,r),r)}return{value:n,source:r,stack:gs(r)}}var Nn=[],Ds=0,kf=0;function ec(){for(var n=Ds,r=kf=Ds=0;r<n;){var s=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var p=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&Qg(s,f,p)}}function nc(n,r,s,l){Nn[Ds++]=n,Nn[Ds++]=r,Nn[Ds++]=s,Nn[Ds++]=l,kf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,r,s,l){return nc(n,r,s,l),ic(n)}function xs(n,r){return nc(n,null,null,r),ic(n)}function Qg(n,r,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=n.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-Ye(s),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=s|536870912),p):null}function ic(n){if(50<Rl)throw Rl=0,qd=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ns={};function tS(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,r,s,l){return new tS(n,r,s,l)}function Lf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Li(n,r){var s=n.alternate;return s===null?(s=yn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Yg(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function rc(n,r,s,l,f,p){var E=0;if(l=n,typeof n=="function")Lf(n)&&(E=1);else if(typeof n=="string")E=nA(n,s,yt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=yn(31,s,r,f),n.elementType=R,n.lanes=p,n;case M:return Ma(s.children,f,p,r);case q:E=8,f|=24;break;case k:return n=yn(12,s,r,f|2),n.elementType=k,n.lanes=p,n;case et:return n=yn(13,s,r,f),n.elementType=et,n.lanes=p,n;case ut:return n=yn(19,s,r,f),n.elementType=ut,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:case z:E=10;break t;case K:E=9;break t;case nt:E=11;break t;case C:E=14;break t;case A:E=16,l=null;break t}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return r=yn(E,s,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function Ma(n,r,s,l){return n=yn(7,n,l,r),n.lanes=s,n}function Uf(n,r,s){return n=yn(6,n,null,r),n.lanes=s,n}function zf(n,r,s){return r=yn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Os=[],Ms=0,ac=null,sc=0,On=[],Mn=0,Pa=null,Ui=1,zi="";function ka(n,r){Os[Ms++]=sc,Os[Ms++]=ac,ac=n,sc=r}function Xg(n,r,s){On[Mn++]=Ui,On[Mn++]=zi,On[Mn++]=Pa,Pa=n;var l=Ui;n=zi;var f=32-Ye(l)-1;l&=~(1<<f),s+=1;var p=32-Ye(r)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Ui=1<<32-Ye(r)+f|s<<f|l,zi=p+n}else Ui=1<<p|s<<f|l,zi=n}function Bf(n){n.return!==null&&(ka(n,1),Xg(n,1,0))}function jf(n){for(;n===ac;)ac=Os[--Ms],Os[Ms]=null,sc=Os[--Ms],Os[Ms]=null;for(;n===Pa;)Pa=On[--Mn],On[Mn]=null,zi=On[--Mn],On[Mn]=null,Ui=On[--Mn],On[Mn]=null}var sn=null,he=null,Ft=!1,Va=null,ui=!1,qf=Error(a(519));function La(n){var r=Error(a(418,""));throw rl(xn(r,n)),qf}function Wg(n){var r=n.stateNode,s=n.type,l=n.memoizedProps;switch(r[Ae]=n,r[ve]=l,s){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(s=0;s<Il.length;s++)Pt(Il[s],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Ta(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(r);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),ba(r,l.value,l.defaultValue,l.children),ys(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||pv(r.textContent,s)?(l.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),l.onScroll!=null&&Pt("scroll",r),l.onScrollEnd!=null&&Pt("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||La(n)}function Zg(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:sn=sn.return}}function nl(n){if(n!==sn)return!1;if(!Ft)return Zg(n),Ft=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||rp(n.type,n.memoizedProps)),s=!s),s&&he&&La(n),Zg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){he=Gn(n.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;n=n.nextSibling}he=null}}else r===27?(r=he,Vr(n.type)?(n=lp,lp=null,he=n):he=r):he=sn?Gn(n.stateNode.nextSibling):null;return!0}function il(){he=sn=null,Ft=!1}function Jg(){var n=Va;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),Va=null),n}function rl(n){Va===null?Va=[n]:Va.push(n)}var Hf=at(null),Ua=null,Bi=null;function Tr(n,r,s){st(Hf,r._currentValue),r._currentValue=s}function ji(n){n._currentValue=Hf.current,ct(Hf)}function Ff(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function Gf(n,r,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=f;for(var x=0;x<r.length;x++)if(T.context===r[x]){p.lanes|=s,T=p.alternate,T!==null&&(T.lanes|=s),Ff(p.return,s,n),l||(E=null);break t}p=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Ff(E,s,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(n,r,s,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=f.type;gn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Oe.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}f=f.return}n!==null&&Gf(r,n,s,l),r.flags|=262144}function oc(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function za(n){Ua=n,Bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xe(n){return ty(Ua,n)}function lc(n,r){return Ua===null&&za(n),ty(n,r)}function ty(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Bi===null){if(n===null)throw Error(a(308));Bi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Bi=Bi.next=r;return s}var eS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},nS=i.unstable_scheduleCallback,iS=i.unstable_NormalPriority,Ie={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new eS,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&nS(iS,function(){n.controller.abort()})}var ol=null,Kf=0,Ps=0,ks=null;function rS(n,r){if(ol===null){var s=ol=[];Kf=0,Ps=Yd(),ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kf++,r.then(ey,ey),r}function ey(){if(--Kf===0&&ol!==null){ks!==null&&(ks.status="fulfilled");var n=ol;ol=null,Ps=0,ks=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function aS(n,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var ny=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&rS(n,r),ny!==null&&ny(n,r)};var Ba=at(null);function Qf(){var n=Ba.current;return n!==null?n:ne.pooledCache}function uc(n,r){r===null?st(Ba,Ba.current):st(Ba,r.pool)}function iy(){var n=Qf();return n===null?null:{parent:Ie._currentValue,pool:n}}var ll=Error(a(460)),ry=Error(a(474)),cc=Error(a(542)),Yf={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hc(){}function sy(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(hc,hc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n;default:if(typeof r.status=="string")r.then(hc,hc);else{if(n=ne,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n}throw ul=r,ll}}var ul=null;function oy(){if(ul===null)throw Error(a(459));var n=ul;return ul=null,n}function ly(n){if(n===ll||n===cc)throw Error(a(483))}var br=!1;function Xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ic(n),Qg(n,null,s),r}return nc(n,l,r,s),ic(n)}function cl(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Uo(n,s)}}function Zf(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=r:p=p.next=r}else f=p=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var Jf=!1;function hl(){if(Jf){var n=ks;if(n!==null)throw n}}function fl(n,r,s,l){Jf=!1;var f=n.updateQueue;br=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,$=x.next;x.next=null,E===null?p=$:E.next=$,E=x;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=$:T.next=$,Z.lastBaseUpdate=x))}if(p!==null){var it=f.baseState;E=0,Z=$=x=null,T=p;do{var Q=T.lane&-536870913,Y=Q!==T.lane;if(Y?(jt&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ps&&(Jf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=n,_t=T;Q=r;var Jt=s;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){it=bt.call(Jt,it,Q);break t}it=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,Q=typeof bt=="function"?bt.call(Jt,it,Q):bt,Q==null)break t;it=_({},it,Q);break t;case 2:br=!0}}Q=T.callback,Q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?($=Z=Y,x=it):Z=Z.next=Y,E|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Z===null&&(x=it),f.baseState=x,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Or|=E,n.lanes=E,n.memoizedState=it}}function uy(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function cy(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)uy(s[n],r)}var Vs=at(null),fc=at(0);function hy(n,r){n=Qi,st(fc,n),st(Vs,r),Qi=n|r.baseLanes}function td(){st(fc,Qi),st(Vs,Vs.current)}function ed(){Qi=fc.current,ct(Vs),ct(fc)}var Ar=0,It=null,Wt=null,Te=null,dc=!1,Ls=!1,ja=!1,pc=0,dl=0,Us=null,sS=0;function ge(){throw Error(a(321))}function nd(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!gn(n[s],r[s]))return!1;return!0}function id(n,r,s,l,f,p){return Ar=p,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Qy:Yy,ja=!1,p=s(l,f),ja=!1,Ls&&(p=dy(r,s,l,f)),fy(n),p}function fy(n){W.H=Ec;var r=Wt!==null&&Wt.next!==null;if(Ar=0,Te=Wt=It=null,dc=!1,dl=0,Us=null,r)throw Error(a(300));n===null||ke||(n=n.dependencies,n!==null&&oc(n)&&(ke=!0))}function dy(n,r,s,l){It=n;var f=0;do{if(Ls&&(Us=null),dl=0,Ls=!1,25<=f)throw Error(a(301));if(f+=1,Te=Wt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=dS,p=r(s,l)}while(Ls);return p}function oS(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?pl(r):r,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(It.flags|=1024),r}function rd(){var n=pc!==0;return pc=0,n}function ad(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function sd(n){if(dc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}dc=!1}Ar=0,Te=Wt=It=null,Ls=!1,dl=pc=0,Us=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=n:Te=Te.next=n,Te}function be(){if(Wt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var r=Te===null?It.memoizedState:Te.next;if(r!==null)Te=r,Wt=n;else{if(n===null)throw It.alternate===null?Error(a(467)):Error(a(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Te===null?It.memoizedState=Te=n:Te=Te.next=n}return Te}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(n){var r=dl;return dl+=1,Us===null&&(Us=[]),n=sy(Us,n,r),r=It,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Qy:Yy),n}function mc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pl(n);if(n.$$typeof===z)return Xe(n)}throw Error(a(438,String(n)))}function ld(n){var r=null,s=It.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=od(),It.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),l=0;l<n;l++)s[l]=I;return r.index++,s}function qi(n,r){return typeof r=="function"?r(n):r}function gc(n){var r=be();return ud(r,Wt,n)}function ud(n,r,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var T=E=null,x=null,$=r,Z=!1;do{var it=$.lane&-536870913;if(it!==$.lane?(jt&it)===it:(Ar&it)===it){var Q=$.revertLane;if(Q===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),it===Ps&&(Z=!0);else if((Ar&Q)===Q){$=$.next,Q===Ps&&(Z=!0);continue}else it={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},x===null?(T=x=it,E=p):x=x.next=it,It.lanes|=Q,Or|=Q;it=$.action,ja&&s(p,it),p=$.hasEagerState?$.eagerState:s(p,it)}else Q={lane:it,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},x===null?(T=x=Q,E=p):x=x.next=Q,It.lanes|=it,Or|=it;$=$.next}while($!==null&&$!==r);if(x===null?E=p:x.next=T,!gn(p,n.memoizedState)&&(ke=!0,Z&&(s=ks,s!==null)))throw s;n.memoizedState=p,n.baseState=E,n.baseQueue=x,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function cd(n){var r=be(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,p=r.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);gn(p,r.memoizedState)||(ke=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function py(n,r,s){var l=It,f=be(),p=Ft;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!gn((Wt||f).memoizedState,s);E&&(f.memoizedState=s,ke=!0),f=f.queue;var T=yy.bind(null,l,f,n);if(ml(2048,8,T,[n]),f.getSnapshot!==r||E||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,zs(9,yc(),gy.bind(null,l,f,s,r),null),ne===null)throw Error(a(349));p||(Ar&124)!==0||my(l,r,s)}return s}function my(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=It.updateQueue,r===null?(r=od(),It.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function gy(n,r,s,l){r.value=s,r.getSnapshot=l,_y(r)&&vy(n)}function yy(n,r,s){return s(function(){_y(r)&&vy(n)})}function _y(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!gn(n,s)}catch{return!0}}function vy(n){var r=xs(n,2);r!==null&&bn(r,n,2)}function hd(n){var r=un();if(typeof n=="function"){var s=n;if(n=s(),ja){pn(!0);try{s()}finally{pn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},r}function Ey(n,r,s,l){return n.baseState=s,ud(n,Wt,typeof l=="function"?l:qi)}function lS(n,r,s,l,f){if(vc(n))throw Error(a(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Ty(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Ty(n,r){var s=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=W.T,E={};W.T=E;try{var T=s(f,l),x=W.S;x!==null&&x(E,T),by(n,r,T)}catch($){fd(n,r,$)}finally{W.T=p}}else try{p=s(f,l),by(n,r,p)}catch($){fd(n,r,$)}}function by(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){wy(n,r,l)},function(l){return fd(n,r,l)}):wy(n,r,s)}function wy(n,r,s){r.status="fulfilled",r.value=s,Sy(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,Ty(n,s)))}function fd(n,r,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Sy(r),r=r.next;while(r!==l)}n.action=null}function Sy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ay(n,r){return r}function Ry(n,r){if(Ft){var s=ne.formState;if(s!==null){t:{var l=It;if(Ft){if(he){e:{for(var f=he,p=ui;f.nodeType!==8;){if(!p){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){he=Gn(f.nextSibling),l=f.data==="F!";break t}}La(l)}l=!1}l&&(r=s[0])}}return s=un(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:r},s.queue=l,s=Gy.bind(null,It,l),l.dispatch=s,l=hd(!1),p=yd.bind(null,It,!1,l.queue),l=un(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,s=lS.bind(null,It,f,p,s),f.dispatch=s,l.memoizedState=n,[r,s,!1]}function Cy(n){var r=be();return Iy(r,Wt,n)}function Iy(n,r,s){if(r=ud(n,r,Ay)[0],n=gc(qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ll?cc:E}else l=r;r=be();var f=r.queue,p=f.dispatch;return s!==r.memoizedState&&(It.flags|=2048,zs(9,yc(),uS.bind(null,f,s),null)),[l,p,n]}function uS(n,r){n.action=r}function Dy(n){var r=be(),s=Wt;if(s!==null)return Iy(r,s,n);be(),r=r.memoizedState,s=be();var l=s.queue.dispatch;return s.memoizedState=n,[r,l,!1]}function zs(n,r,s,l){return n={tag:n,create:s,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=od(),It.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n),n}function yc(){return{destroy:void 0,resource:void 0}}function xy(){return be().memoizedState}function _c(n,r,s,l){var f=un();l=l===void 0?null:l,It.flags|=n,f.memoizedState=zs(1|r,yc(),s,l)}function ml(n,r,s,l){var f=be();l=l===void 0?null:l;var p=f.memoizedState.inst;Wt!==null&&l!==null&&nd(l,Wt.memoizedState.deps)?f.memoizedState=zs(r,p,s,l):(It.flags|=n,f.memoizedState=zs(1|r,p,s,l))}function Ny(n,r){_c(8390656,8,n,r)}function Oy(n,r){ml(2048,8,n,r)}function My(n,r){return ml(4,2,n,r)}function Py(n,r){return ml(4,4,n,r)}function ky(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Vy(n,r,s){s=s!=null?s.concat([n]):null,ml(4,4,ky.bind(null,r,n),s)}function dd(){}function Ly(n,r){var s=be();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&nd(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function Uy(n,r){var s=be();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&nd(r,l[1]))return l[0];if(l=n(),ja){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[l,r],l}function pd(n,r,s){return s===void 0||(Ar&1073741824)!==0?n.memoizedState=r:(n.memoizedState=s,n=j_(),It.lanes|=n,Or|=n,s)}function zy(n,r,s,l){return gn(s,r)?s:Vs.current!==null?(n=pd(n,s,l),gn(n,r)||(ke=!0),n):(Ar&42)===0?(ke=!0,n.memoizedState=s):(n=j_(),It.lanes|=n,Or|=n,r)}function By(n,r,s,l,f){var p=lt.p;lt.p=p!==0&&8>p?p:8;var E=W.T,T={};W.T=T,yd(n,!1,r,s);try{var x=f(),$=W.S;if($!==null&&$(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=aS(x,l);gl(n,r,Z,Tn(n))}else gl(n,r,l,Tn(n))}catch(it){gl(n,r,{then:function(){},status:"rejected",reason:it},Tn())}finally{lt.p=p,W.T=E}}function cS(){}function md(n,r,s,l){if(n.tag!==5)throw Error(a(476));var f=jy(n).queue;By(n,f,r,pt,s===null?cS:function(){return qy(n),s(l)})}function jy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:pt},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function qy(n){var r=jy(n).next.queue;gl(n,r,{},Tn())}function gd(){return Xe(Pl)}function Hy(){return be().memoizedState}function Fy(){return be().memoizedState}function hS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Tn();n=wr(s);var l=Sr(r,n,s);l!==null&&(bn(l,r,s),cl(l,r,s)),r={cache:$f()},n.payload=r;return}r=r.return}}function fS(n,r,s){var l=Tn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(n)?$y(r,s):(s=Vf(n,r,s,l),s!==null&&(bn(s,n,l),Ky(s,r,l)))}function Gy(n,r,s){var l=Tn();gl(n,r,s,l)}function gl(n,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(n))$y(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,T=p(E,s);if(f.hasEagerState=!0,f.eagerState=T,gn(T,E))return nc(n,r,f,0),ne===null&&ec(),!1}catch{}finally{}if(s=Vf(n,r,f,l),s!==null)return bn(s,n,l),Ky(s,r,l),!0}return!1}function yd(n,r,s,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(n)){if(r)throw Error(a(479))}else r=Vf(n,s,l,2),r!==null&&bn(r,n,2)}function vc(n){var r=n.alternate;return n===It||r!==null&&r===It}function $y(n,r){Ls=dc=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Ky(n,r,s){if((s&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Uo(n,s)}}var Ec={readContext:Xe,use:mc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Qy={readContext:Xe,use:mc,useCallback:function(n,r){return un().memoizedState=[n,r===void 0?null:r],n},useContext:Xe,useEffect:Ny,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,_c(4194308,4,ky.bind(null,r,n),s)},useLayoutEffect:function(n,r){return _c(4194308,4,n,r)},useInsertionEffect:function(n,r){_c(4,2,n,r)},useMemo:function(n,r){var s=un();r=r===void 0?null:r;var l=n();if(ja){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(n,r,s){var l=un();if(s!==void 0){var f=s(r);if(ja){pn(!0);try{s(r)}finally{pn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=fS.bind(null,It,n),[l.memoizedState,n]},useRef:function(n){var r=un();return n={current:n},r.memoizedState=n},useState:function(n){n=hd(n);var r=n.queue,s=Gy.bind(null,It,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:dd,useDeferredValue:function(n,r){var s=un();return pd(s,n,r)},useTransition:function(){var n=hd(!1);return n=By.bind(null,It,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var l=It,f=un();if(Ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ne===null)throw Error(a(349));(jt&124)!==0||my(l,r,s)}f.memoizedState=s;var p={value:s,getSnapshot:r};return f.queue=p,Ny(yy.bind(null,l,p,n),[n]),l.flags|=2048,zs(9,yc(),gy.bind(null,l,p,s,r),null),s},useId:function(){var n=un(),r=ne.identifierPrefix;if(Ft){var s=zi,l=Ui;s=(l&~(1<<32-Ye(l)-1)).toString(32)+s,r=""+r+"R"+s,s=pc++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=sS++,r=""+r+"r"+s.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(n){var r=un();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=yd.bind(null,It,!0,s),s.dispatch=r,[n,r]},useMemoCache:ld,useCacheRefresh:function(){return un().memoizedState=hS.bind(null,It)}},Yy={readContext:Xe,use:mc,useCallback:Ly,useContext:Xe,useEffect:Oy,useImperativeHandle:Vy,useInsertionEffect:My,useLayoutEffect:Py,useMemo:Uy,useReducer:gc,useRef:xy,useState:function(){return gc(qi)},useDebugValue:dd,useDeferredValue:function(n,r){var s=be();return zy(s,Wt.memoizedState,n,r)},useTransition:function(){var n=gc(qi)[0],r=be().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:gd,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,r){var s=be();return Ey(s,Wt,n,r)},useMemoCache:ld,useCacheRefresh:Fy},dS={readContext:Xe,use:mc,useCallback:Ly,useContext:Xe,useEffect:Oy,useImperativeHandle:Vy,useInsertionEffect:My,useLayoutEffect:Py,useMemo:Uy,useReducer:cd,useRef:xy,useState:function(){return cd(qi)},useDebugValue:dd,useDeferredValue:function(n,r){var s=be();return Wt===null?pd(s,n,r):zy(s,Wt.memoizedState,n,r)},useTransition:function(){var n=cd(qi)[0],r=be().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:gd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,r){var s=be();return Wt!==null?Ey(s,Wt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Fy},Bs=null,yl=0;function Tc(n){var r=yl;return yl+=1,Bs===null&&(Bs=[]),sy(Bs,n,r)}function _l(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function bc(n,r){throw r.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Xy(n){var r=n._init;return r(n._payload)}function Wy(n){function r(j,U){if(n){var G=j.deletions;G===null?(j.deletions=[U],j.flags|=16):G.push(U)}}function s(j,U){if(!n)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function l(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function f(j,U){return j=Li(j,U),j.index=0,j.sibling=null,j}function p(j,U,G){return j.index=G,n?(G=j.alternate,G!==null?(G=G.index,G<U?(j.flags|=67108866,U):G):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,U,G,tt){return U===null||U.tag!==6?(U=Uf(G,j.mode,tt),U.return=j,U):(U=f(U,G),U.return=j,U)}function x(j,U,G,tt){var dt=G.type;return dt===M?Z(j,U,G.props.children,tt,G.key):U!==null&&(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Xy(dt)===U.type)?(U=f(U,G.props),_l(U,G),U.return=j,U):(U=rc(G.type,G.key,G.props,null,j.mode,tt),_l(U,G),U.return=j,U)}function $(j,U,G,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=zf(G,j.mode,tt),U.return=j,U):(U=f(U,G.children||[]),U.return=j,U)}function Z(j,U,G,tt,dt){return U===null||U.tag!==7?(U=Ma(G,j.mode,tt,dt),U.return=j,U):(U=f(U,G),U.return=j,U)}function it(j,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Uf(""+U,j.mode,G),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=rc(U.type,U.key,U.props,null,j.mode,G),_l(G,U),G.return=j,G;case O:return U=zf(U,j.mode,G),U.return=j,U;case A:var tt=U._init;return U=tt(U._payload),it(j,U,G)}if(xt(U)||P(U))return U=Ma(U,j.mode,G,null),U.return=j,U;if(typeof U.then=="function")return it(j,Tc(U),G);if(U.$$typeof===z)return it(j,lc(j,U),G);bc(j,U)}return null}function Q(j,U,G,tt){var dt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:T(j,U,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===dt?x(j,U,G,tt):null;case O:return G.key===dt?$(j,U,G,tt):null;case A:return dt=G._init,G=dt(G._payload),Q(j,U,G,tt)}if(xt(G)||P(G))return dt!==null?null:Z(j,U,G,tt,null);if(typeof G.then=="function")return Q(j,U,Tc(G),tt);if(G.$$typeof===z)return Q(j,U,lc(j,G),tt);bc(j,G)}return null}function Y(j,U,G,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(G)||null,T(U,j,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return j=j.get(tt.key===null?G:tt.key)||null,x(U,j,tt,dt);case O:return j=j.get(tt.key===null?G:tt.key)||null,$(U,j,tt,dt);case A:var Ot=tt._init;return tt=Ot(tt._payload),Y(j,U,G,tt,dt)}if(xt(tt)||P(tt))return j=j.get(G)||null,Z(U,j,tt,dt,null);if(typeof tt.then=="function")return Y(j,U,G,Tc(tt),dt);if(tt.$$typeof===z)return Y(j,U,G,lc(U,tt),dt);bc(U,tt)}return null}function bt(j,U,G,tt){for(var dt=null,Ot=null,mt=U,vt=U=0,Le=null;mt!==null&&vt<G.length;vt++){mt.index>vt?(Le=mt,mt=null):Le=mt.sibling;var Ht=Q(j,mt,G[vt],tt);if(Ht===null){mt===null&&(mt=Le);break}n&&mt&&Ht.alternate===null&&r(j,mt),U=p(Ht,U,vt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht,mt=Le}if(vt===G.length)return s(j,mt),Ft&&ka(j,vt),dt;if(mt===null){for(;vt<G.length;vt++)mt=it(j,G[vt],tt),mt!==null&&(U=p(mt,U,vt),Ot===null?dt=mt:Ot.sibling=mt,Ot=mt);return Ft&&ka(j,vt),dt}for(mt=l(mt);vt<G.length;vt++)Le=Y(mt,j,vt,G[vt],tt),Le!==null&&(n&&Le.alternate!==null&&mt.delete(Le.key===null?vt:Le.key),U=p(Le,U,vt),Ot===null?dt=Le:Ot.sibling=Le,Ot=Le);return n&&mt.forEach(function(jr){return r(j,jr)}),Ft&&ka(j,vt),dt}function _t(j,U,G,tt){if(G==null)throw Error(a(151));for(var dt=null,Ot=null,mt=U,vt=U=0,Le=null,Ht=G.next();mt!==null&&!Ht.done;vt++,Ht=G.next()){mt.index>vt?(Le=mt,mt=null):Le=mt.sibling;var jr=Q(j,mt,Ht.value,tt);if(jr===null){mt===null&&(mt=Le);break}n&&mt&&jr.alternate===null&&r(j,mt),U=p(jr,U,vt),Ot===null?dt=jr:Ot.sibling=jr,Ot=jr,mt=Le}if(Ht.done)return s(j,mt),Ft&&ka(j,vt),dt;if(mt===null){for(;!Ht.done;vt++,Ht=G.next())Ht=it(j,Ht.value,tt),Ht!==null&&(U=p(Ht,U,vt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return Ft&&ka(j,vt),dt}for(mt=l(mt);!Ht.done;vt++,Ht=G.next())Ht=Y(mt,j,vt,Ht.value,tt),Ht!==null&&(n&&Ht.alternate!==null&&mt.delete(Ht.key===null?vt:Ht.key),U=p(Ht,U,vt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return n&&mt.forEach(function(pA){return r(j,pA)}),Ft&&ka(j,vt),dt}function Jt(j,U,G,tt){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var dt=G.key;U!==null;){if(U.key===dt){if(dt=G.type,dt===M){if(U.tag===7){s(j,U.sibling),tt=f(U,G.props.children),tt.return=j,j=tt;break t}}else if(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Xy(dt)===U.type){s(j,U.sibling),tt=f(U,G.props),_l(tt,G),tt.return=j,j=tt;break t}s(j,U);break}else r(j,U);U=U.sibling}G.type===M?(tt=Ma(G.props.children,j.mode,tt,G.key),tt.return=j,j=tt):(tt=rc(G.type,G.key,G.props,null,j.mode,tt),_l(tt,G),tt.return=j,j=tt)}return E(j);case O:t:{for(dt=G.key;U!==null;){if(U.key===dt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){s(j,U.sibling),tt=f(U,G.children||[]),tt.return=j,j=tt;break t}else{s(j,U);break}else r(j,U);U=U.sibling}tt=zf(G,j.mode,tt),tt.return=j,j=tt}return E(j);case A:return dt=G._init,G=dt(G._payload),Jt(j,U,G,tt)}if(xt(G))return bt(j,U,G,tt);if(P(G)){if(dt=P(G),typeof dt!="function")throw Error(a(150));return G=dt.call(G),_t(j,U,G,tt)}if(typeof G.then=="function")return Jt(j,U,Tc(G),tt);if(G.$$typeof===z)return Jt(j,U,lc(j,G),tt);bc(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(s(j,U.sibling),tt=f(U,G),tt.return=j,j=tt):(s(j,U),tt=Uf(G,j.mode,tt),tt.return=j,j=tt),E(j)):s(j,U)}return function(j,U,G,tt){try{yl=0;var dt=Jt(j,U,G,tt);return Bs=null,dt}catch(mt){if(mt===ll||mt===cc)throw mt;var Ot=yn(29,mt,null,j.mode);return Ot.lanes=tt,Ot.return=j,Ot}finally{}}}var js=Wy(!0),Zy=Wy(!1),Pn=at(null),ci=null;function Rr(n){var r=n.alternate;st(De,De.current&1),st(Pn,n),ci===null&&(r===null||Vs.current!==null||r.memoizedState!==null)&&(ci=n)}function Jy(n){if(n.tag===22){if(st(De,De.current),st(Pn,n),ci===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ci=n)}}else Cr()}function Cr(){st(De,De.current),st(Pn,Pn.current)}function Hi(n){ct(Pn),ci===n&&(ci=null),ct(De)}var De=at(0);function wc(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||op(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function _d(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:_({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var vd={enqueueSetState:function(n,r,s){n=n._reactInternals;var l=Tn(),f=wr(l);f.payload=r,s!=null&&(f.callback=s),r=Sr(n,f,l),r!==null&&(bn(r,n,l),cl(r,n,l))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=Tn(),f=wr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Sr(n,f,l),r!==null&&(bn(r,n,l),cl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Tn(),l=wr(s);l.tag=2,r!=null&&(l.callback=r),r=Sr(n,l,s),r!==null&&(bn(r,n,s),cl(r,n,s))}};function t_(n,r,s,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!tl(s,l)||!tl(f,p):!0}function e_(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&vd.enqueueReplaceState(r,r.state,null)}function qa(n,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(n=n.defaultProps){s===r&&(s=_({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function n_(n){Sc(n)}function i_(n){console.error(n)}function r_(n){Sc(n)}function Ac(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function a_(n,r,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,r,s){return s=wr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(n,r)},s}function s_(n){return n=wr(n),n.tag=3,n}function o_(n,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){a_(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){a_(r,s,l),typeof f!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function pS(n,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&al(r,s,f,!0),s=Pn.current,s!==null){switch(s.tag){case 13:return ci===null?Fd():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Yf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),$d(n,l,f)),!1;case 22:return s.flags|=65536,l===Yf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),$d(n,l,f)),!1}throw Error(a(435,s.tag))}return $d(n,l,f),Fd(),!1}if(Ft)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==qf&&(n=Error(a(422),{cause:l}),rl(xn(n,s)))):(l!==qf&&(r=Error(a(423),{cause:l}),rl(xn(r,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=xn(l,s),f=Ed(n.stateNode,l,f),Zf(n,f),fe!==4&&(fe=2)),!1;var p=Error(a(520),{cause:l});if(p=xn(p,s),Al===null?Al=[p]:Al.push(p),fe!==4&&(fe=2),r===null)return!0;l=xn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Ed(s.stateNode,l,n),Zf(s,n),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mr===null||!Mr.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=s_(f),o_(f,n,s,l),Zf(s,f),!1}s=s.return}while(s!==null);return!1}var l_=Error(a(461)),ke=!1;function He(n,r,s,l){r.child=n===null?Zy(r,null,s,l):js(r,n.child,s,l)}function u_(n,r,s,l,f){s=s.render;var p=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return za(r),l=id(n,r,s,E,p,f),T=rd(),n!==null&&!ke?(ad(n,r,f),Fi(n,r,f)):(Ft&&T&&Bf(r),r.flags|=1,He(n,r,l,f),r.child)}function c_(n,r,s,l,f){if(n===null){var p=s.type;return typeof p=="function"&&!Lf(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,h_(n,r,p,l,f)):(n=rc(s.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Id(n,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(E,l)&&n.ref===r.ref)return Fi(n,r,f)}return r.flags|=1,n=Li(p,l),n.ref=r.ref,n.return=r,r.child=n}function h_(n,r,s,l,f){if(n!==null){var p=n.memoizedProps;if(tl(p,l)&&n.ref===r.ref)if(ke=!1,r.pendingProps=l=p,Id(n,f))(n.flags&131072)!==0&&(ke=!0);else return r.lanes=n.lanes,Fi(n,r,f)}return Td(n,r,s,l,f)}function f_(n,r,s){var l=r.pendingProps,f=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return d_(n,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,p!==null?p.cachePool:null),p!==null?hy(r,p):td(),Jy(r);else return r.lanes=r.childLanes=536870912,d_(n,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(uc(r,p.cachePool),hy(r,p),Cr(),r.memoizedState=null):(n!==null&&uc(r,null),td(),Cr());return He(n,r,f,s),r.child}function d_(n,r,s,l){var f=Qf();return f=f===null?null:{parent:Ie._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},n!==null&&uc(r,null),td(),Jy(r),n!==null&&al(n,r,l,!0),null}function Rc(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Td(n,r,s,l,f){return za(r),s=id(n,r,s,l,void 0,f),l=rd(),n!==null&&!ke?(ad(n,r,f),Fi(n,r,f)):(Ft&&l&&Bf(r),r.flags|=1,He(n,r,s,f),r.child)}function p_(n,r,s,l,f,p){return za(r),r.updateQueue=null,s=dy(r,l,s,f),fy(n),l=rd(),n!==null&&!ke?(ad(n,r,p),Fi(n,r,p)):(Ft&&l&&Bf(r),r.flags|=1,He(n,r,s,p),r.child)}function m_(n,r,s,l,f){if(za(r),r.stateNode===null){var p=Ns,E=s.contextType;typeof E=="object"&&E!==null&&(p=Xe(E)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Xf(r),E=s.contextType,p.context=typeof E=="object"&&E!==null?Xe(E):Ns,p.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(_d(r,s,E,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&vd.enqueueReplaceState(p,p.state,null),fl(r,l,p,f),hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var T=r.memoizedProps,x=qa(s,T);p.props=x;var $=p.context,Z=s.contextType;E=Ns,typeof Z=="object"&&Z!==null&&(E=Xe(Z));var it=s.getDerivedStateFromProps;Z=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||$!==E)&&e_(r,p,l,E),br=!1;var Q=r.memoizedState;p.state=Q,fl(r,l,p,f),hl(),$=r.memoizedState,T||Q!==$||br?(typeof it=="function"&&(_d(r,s,it,l),$=r.memoizedState),(x=br||t_(r,s,x,l,Q,$,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=$),p.props=l,p.state=$,p.context=E,l=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Wf(n,r),E=r.memoizedProps,Z=qa(s,E),p.props=Z,it=r.pendingProps,Q=p.context,$=s.contextType,x=Ns,typeof $=="object"&&$!==null&&(x=Xe($)),T=s.getDerivedStateFromProps,($=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==it||Q!==x)&&e_(r,p,l,x),br=!1,Q=r.memoizedState,p.state=Q,fl(r,l,p,f),hl();var Y=r.memoizedState;E!==it||Q!==Y||br||n!==null&&n.dependencies!==null&&oc(n.dependencies)?(typeof T=="function"&&(_d(r,s,T,l),Y=r.memoizedState),(Z=br||t_(r,s,Z,l,Q,Y,x)||n!==null&&n.dependencies!==null&&oc(n.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Y,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Y,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=x,l=Z):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,Rc(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=js(r,n.child,null,f),r.child=js(r,null,s,f)):He(n,r,s,f),r.memoizedState=p.state,n=r.child):n=Fi(n,r,f),n}function g_(n,r,s,l){return il(),r.flags|=256,He(n,r,s,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(n){return{baseLanes:n,cachePool:iy()}}function Sd(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=kn),n}function y_(n,r,s){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(De.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ft){if(f?Rr(r):Cr(),Ft){var T=he,x;if(x=T){t:{for(x=T,T=ui;x.nodeType!==8;){if(!T){T=null;break t}if(x=Gn(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(r.memoizedState={dehydrated:T,treeContext:Pa!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},x=yn(18,null,null,0),x.stateNode=T,x.return=r,r.child=x,sn=r,he=null,x=!0):x=!1}x||La(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return op(T)?r.lanes=32:r.lanes=536870912,null;Hi(r)}return T=l.children,l=l.fallback,f?(Cr(),f=r.mode,T=Cc({mode:"hidden",children:T},f),l=Ma(l,f,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=wd(s),f.childLanes=Sd(n,E,s),r.memoizedState=bd,l):(Rr(r),Ad(r,T))}if(x=n.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(p)r.flags&256?(Rr(r),r.flags&=-257,r=Rd(n,r,s)):r.memoizedState!==null?(Cr(),r.child=n.child,r.flags|=128,r=null):(Cr(),f=l.fallback,T=r.mode,l=Cc({mode:"visible",children:l.children},T),f=Ma(f,T,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,js(r,n.child,null,s),l=r.child,l.memoizedState=wd(s),l.childLanes=Sd(n,E,s),r.memoizedState=bd,r=f);else if(Rr(r),op(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(a(419)),l.stack="",l.digest=E,rl({value:l,source:null,stack:null}),r=Rd(n,r,s)}else if(ke||al(n,r,s,!1),E=(s&n.childLanes)!==0,ke||E){if(E=ne,E!==null&&(l=s&-s,l=(l&42)!==0?1:pr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,xs(n,l),bn(E,n,l),l_;T.data==="$?"||Fd(),r=Rd(n,r,s)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=x.treeContext,he=Gn(T.nextSibling),sn=r,Ft=!0,Va=null,ui=!1,n!==null&&(On[Mn++]=Ui,On[Mn++]=zi,On[Mn++]=Pa,Ui=n.id,zi=n.overflow,Pa=r),r=Ad(r,l.children),r.flags|=4096);return r}return f?(Cr(),f=l.fallback,T=r.mode,x=n.child,$=x.sibling,l=Li(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,$!==null?f=Li($,f):(f=Ma(f,T,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=wd(s):(x=T.cachePool,x!==null?($=Ie._currentValue,x=x.parent!==$?{parent:$,pool:$}:x):x=iy(),T={baseLanes:T.baseLanes|s,cachePool:x}),f.memoizedState=T,f.childLanes=Sd(n,E,s),r.memoizedState=bd,l):(Rr(r),s=n.child,n=s.sibling,s=Li(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=s,r.memoizedState=null,s)}function Ad(n,r){return r=Cc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Cc(n,r){return n=yn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rd(n,r,s){return js(r,n.child,null,s),n=Ad(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function __(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ff(n.return,r,s)}function Cd(n,r,s,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function v_(n,r,s){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(He(n,r,l.children,s),l=De.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&__(n,s,r);else if(n.tag===19)__(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(st(De,l),f){case"forwards":for(s=r.child,f=null;s!==null;)n=s.alternate,n!==null&&wc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Cd(r,!1,f,s,p);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&wc(n)===null){r.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Cd(r,!0,s,null,p);break;case"together":Cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Or|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(al(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=Li(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Li(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Id(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&oc(n)))}function mS(n,r,s){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),Tr(r,Ie,n.memoizedState.cache),il();break;case 27:case 5:dr(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?y_(n,r,s):(Rr(r),n=Fi(n,r,s),n!==null?n.sibling:null);Rr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(al(n,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return v_(n,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return r.lanes=0,f_(n,r,s);case 24:Tr(r,Ie,n.memoizedState.cache)}return Fi(n,r,s)}function E_(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)ke=!0;else{if(!Id(n,s)&&(r.flags&128)===0)return ke=!1,mS(n,r,s);ke=(n.flags&131072)!==0}else ke=!1,Ft&&(r.flags&1048576)!==0&&Xg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Lf(l)?(n=qa(l,n),r.tag=1,r=m_(null,r,l,n,s)):(r.tag=0,r=Td(null,r,l,n,s));else{if(l!=null){if(f=l.$$typeof,f===nt){r.tag=11,r=u_(null,r,l,n,s);break t}else if(f===C){r.tag=14,r=c_(null,r,l,n,s);break t}}throw r=kt(l)||l,Error(a(306,r,""))}}return r;case 0:return Td(n,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=qa(l,r.pendingProps),m_(n,r,l,f,s);case 3:t:{if(ee(r,r.stateNode.containerInfo),n===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,Wf(n,r),fl(r,l,null,s);var E=r.memoizedState;if(l=E.cache,Tr(r,Ie,l),l!==p.cache&&Gf(r,[Ie],s,!0),hl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=g_(n,r,l,s);break t}else if(l!==f){f=xn(Error(a(424)),r),rl(f),r=g_(n,r,l,s);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(he=Gn(n.firstChild),sn=r,Ft=!0,Va=null,ui=!0,s=Zy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(il(),l===f){r=Fi(n,r,s);break t}He(n,r,l,s)}r=r.child}return r;case 26:return Rc(n,r),n===null?(s=Sv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ft||(s=r.type,n=r.pendingProps,l=jc(St.current).createElement(s),l[Ae]=r,l[ve]=n,Ge(l,s,n),me(l),r.stateNode=l):r.memoizedState=Sv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return dr(r),n===null&&Ft&&(l=r.stateNode=Tv(r.type,r.pendingProps,St.current),sn=r,ui=!0,f=he,Vr(r.type)?(lp=f,he=Gn(l.firstChild)):he=f),He(n,r,r.pendingProps.children,s),Rc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ft&&((f=l=he)&&(l=HS(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,sn=r,he=Gn(l.firstChild),ui=!1,f=!0):f=!1),f||La(r)),dr(r),f=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,rp(f,p)?l=null:E!==null&&rp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=id(n,r,oS,null,null,s),Pl._currentValue=f),Rc(n,r),He(n,r,l,s),r.child;case 6:return n===null&&Ft&&((n=s=he)&&(s=FS(s,r.pendingProps,ui),s!==null?(r.stateNode=s,sn=r,he=null,n=!0):n=!1),n||La(r)),null;case 13:return y_(n,r,s);case 4:return ee(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=js(r,null,l,s):He(n,r,l,s),r.child;case 11:return u_(n,r,r.type,r.pendingProps,s);case 7:return He(n,r,r.pendingProps,s),r.child;case 8:return He(n,r,r.pendingProps.children,s),r.child;case 12:return He(n,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Tr(r,r.type,l.value),He(n,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,za(r),f=Xe(f),l=l(f),r.flags|=1,He(n,r,l,s),r.child;case 14:return c_(n,r,r.type,r.pendingProps,s);case 15:return h_(n,r,r.type,r.pendingProps,s);case 19:return v_(n,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},n===null?(s=Cc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Li(n.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return f_(n,r,s);case 24:return za(r),l=Xe(Ie),n===null?(f=Qf(),f===null&&(f=ne,p=$f(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),r.memoizedState={parent:l,cache:f},Xf(r),Tr(r,Ie,f)):((n.lanes&s)!==0&&(Wf(n,r),fl(r,null,null,s),hl()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Tr(r,Ie,l)):(l=p.cache,Tr(r,Ie,l),l!==f.cache&&Gf(r,[Ie],s,!0))),He(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Gi(n){n.flags|=4}function T_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Dv(r)){if(r=Pn.current,r!==null&&((jt&4194048)===jt?ci!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==ci))throw ul=Yf,ry;n.flags|=8192}}function Ic(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Vo():536870912,n.lanes|=r,Gs|=r)}function vl(n,r){if(!Ft)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function le(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function gS(n,r,s){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return s=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(Ie),Wn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(nl(r)?Gi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jg())),le(r),null;case 26:return s=r.memoizedState,n===null?(Gi(r),s!==null?(le(r),T_(r,s)):(le(r),r.flags&=-16777217)):s?s!==n.memoizedState?(Gi(r),le(r),T_(r,s)):(le(r),r.flags&=-16777217):(n.memoizedProps!==l&&Gi(r),le(r),r.flags&=-16777217),null;case 27:Si(r),s=St.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return le(r),null}n=yt.current,nl(r)?Wg(r):(n=Tv(f,l,s),r.stateNode=n,Gi(r))}return le(r),null;case 5:if(Si(r),s=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return le(r),null}if(n=yt.current,nl(r))Wg(r);else{switch(f=jc(St.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}n[Ae]=r,n[ve]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(Ge(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Gi(r)}}return le(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(n=St.current,nl(r)){if(n=r.stateNode,s=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ae]=r,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||pv(n.nodeValue,s)),n||La(r)}else n=jc(n).createTextNode(l),n[Ae]=r,r.stateNode=n}return le(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=nl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ae]=r}else il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),f=!1}else f=Jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==n&&s&&(r.child.flags|=8192),Ic(r,r.updateQueue),le(r),null;case 4:return Wn(),n===null&&Jd(r.stateNode.containerInfo),le(r),null;case 10:return ji(r.type),le(r),null;case 19:if(ct(De),f=r.memoizedState,f===null)return le(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)vl(f,!1);else{if(fe!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=wc(n),p!==null){for(r.flags|=128,vl(f,!1),n=p.updateQueue,r.updateQueue=n,Ic(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Yg(s,n),s=s.sibling;return st(De,De.current&1|2),r.child}n=n.sibling}f.tail!==null&&Sn()>Nc&&(r.flags|=128,l=!0,vl(f,!1),r.lanes=4194304)}else{if(!l)if(n=wc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ic(r,n),vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ft)return le(r),null}else 2*Sn()-f.renderingStartTime>Nc&&s!==536870912&&(r.flags|=128,l=!0,vl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,n=De.current,st(De,l?n&1|2:n&1),r):(le(r),null);case 22:case 23:return Hi(r),ed(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),s=r.updateQueue,s!==null&&Ic(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),n!==null&&ct(Ba),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ji(Ie),le(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function yS(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ji(Ie),Wn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Si(r),null;case 13:if(Hi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));il()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ct(De),null;case 4:return Wn(),null;case 10:return ji(r.type),null;case 22:case 23:return Hi(r),ed(),n!==null&&ct(Ba),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ji(Ie),null;case 25:return null;default:return null}}function b_(n,r){switch(jf(r),r.tag){case 3:ji(Ie),Wn();break;case 26:case 27:case 5:Si(r);break;case 4:Wn();break;case 13:Hi(r);break;case 19:ct(De);break;case 10:ji(r.type);break;case 22:case 23:Hi(r),ed(),n!==null&&ct(Ba);break;case 24:ji(Ie)}}function El(n,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(T){te(r,r.return,T)}}function Ir(n,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var x=s,$=T;try{$()}catch(Z){te(f,x,Z)}}}l=l.next}while(l!==p)}}catch(Z){te(r,r.return,Z)}}function w_(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{cy(r,s)}catch(l){te(n,n.return,l)}}}function S_(n,r,s){s.props=qa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){te(n,r,l)}}function Tl(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){te(n,r,f)}}function hi(n,r){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){te(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){te(n,r,f)}else s.current=null}function A_(n){var r=n.type,s=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){te(n,n.return,f)}}function Dd(n,r,s){try{var l=n.stateNode;US(l,n.type,s,r),l[ve]=r}catch(f){te(n,n.return,f)}}function R_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vr(n.type)||n.tag===4}function xd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||R_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&Vr(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Nd(n,r,s),n=n.sibling;n!==null;)Nd(n,r,s),n=n.sibling}function Dc(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(l!==4&&(l===27&&Vr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Dc(n,r,s),n=n.sibling;n!==null;)Dc(n,r,s),n=n.sibling}function C_(n){var r=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ge(r,l,s),r[Ae]=n,r[ve]=s}catch(p){te(n,n.return,p)}}var $i=!1,ye=!1,Od=!1,I_=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function _S(n,r){if(n=n.containerInfo,np=Kc,n=zg(n),xf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else t:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,T=-1,x=-1,$=0,Z=0,it=n,Q=null;e:for(;;){for(var Y;it!==s||f!==0&&it.nodeType!==3||(T=E+f),it!==p||l!==0&&it.nodeType!==3||(x=E+l),it.nodeType===3&&(E+=it.nodeValue.length),(Y=it.firstChild)!==null;)Q=it,it=Y;for(;;){if(it===n)break e;if(Q===s&&++$===f&&(T=E),Q===p&&++Z===l&&(x=E),(Y=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=Y}s=T===-1||x===-1?null:{start:T,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(ip={focusedElem:n,selectionRange:s},Kc=!1,Ve=r;Ve!==null;)if(r=Ve,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ve=n;else for(;Ve!==null;){switch(r=Ve,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=r,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var bt=qa(s.type,f,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(bt,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(_t){te(s,s.return,_t)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)sp(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Ve=n;break}Ve=r.return}}function D_(n,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Dr(n,s),l&4&&El(5,s);break;case 1:if(Dr(n,s),l&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(E){te(s,s.return,E)}else{var f=qa(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){te(s,s.return,E)}}l&64&&w_(s),l&512&&Tl(s,s.return);break;case 3:if(Dr(n,s),l&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{cy(n,r)}catch(E){te(s,s.return,E)}}break;case 27:r===null&&l&4&&C_(s);case 26:case 5:Dr(n,s),r===null&&l&4&&A_(s),l&512&&Tl(s,s.return);break;case 12:Dr(n,s);break;case 13:Dr(n,s),l&4&&O_(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=CS.bind(null,s),GS(n,s))));break;case 22:if(l=s.memoizedState!==null||$i,!l){r=r!==null&&r.memoizedState!==null||ye,f=$i;var p=ye;$i=l,(ye=r)&&!p?xr(n,s,(s.subtreeFlags&8772)!==0):Dr(n,s),$i=f,ye=p}break;case 30:break;default:Dr(n,s)}}function x_(n){var r=n.alternate;r!==null&&(n.alternate=null,x_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&yr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var se=null,cn=!1;function Ki(n,r,s){for(s=s.child;s!==null;)N_(n,r,s),s=s.sibling}function N_(n,r,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ce,s)}catch{}switch(s.tag){case 26:ye||hi(s,r),Ki(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ye||hi(s,r);var l=se,f=cn;Vr(s.type)&&(se=s.stateNode,cn=!1),Ki(n,r,s),xl(s.stateNode),se=l,cn=f;break;case 5:ye||hi(s,r);case 6:if(l=se,f=cn,se=null,Ki(n,r,s),se=l,cn=f,se!==null)if(cn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(s.stateNode)}catch(p){te(s,r,p)}else try{se.removeChild(s.stateNode)}catch(p){te(s,r,p)}break;case 18:se!==null&&(cn?(n=se,vv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Ul(n)):vv(se,s.stateNode));break;case 4:l=se,f=cn,se=s.stateNode.containerInfo,cn=!0,Ki(n,r,s),se=l,cn=f;break;case 0:case 11:case 14:case 15:ye||Ir(2,s,r),ye||Ir(4,s,r),Ki(n,r,s);break;case 1:ye||(hi(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&S_(s,r,l)),Ki(n,r,s);break;case 21:Ki(n,r,s);break;case 22:ye=(l=ye)||s.memoizedState!==null,Ki(n,r,s),ye=l;break;default:Ki(n,r,s)}}function O_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(s){te(r,r.return,s)}}function vS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new I_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new I_),r;default:throw Error(a(435,n.tag))}}function Md(n,r){var s=vS(n);r.forEach(function(l){var f=IS.bind(null,n,l);s.has(l)||(s.add(l),l.then(f,f))})}function _n(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=n,E=r,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){se=T.stateNode,cn=!1;break t}break;case 5:se=T.stateNode,cn=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(se===null)throw Error(a(160));N_(p,E,f),se=null,cn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)M_(r,n),r=r.sibling}var Fn=null;function M_(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),vn(n),l&4&&(Ir(3,n,n.return),El(3,n),Ir(5,n,n.return));break;case 1:_n(r,n),vn(n),l&512&&(ye||s===null||hi(s,s.return)),l&64&&$i&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Fn;if(_n(r,n),vn(n),l&512&&(ye||s===null||hi(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){t:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ya]||p[Ae]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ge(p,l,s),p[Ae]=n,me(p),l=p;break t;case"link":var E=Cv("link","href",f).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(p=E[T],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break e}}p=f.createElement(l),Ge(p,l,s),f.head.appendChild(p);break;case"meta":if(E=Cv("meta","content",f).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(p=E[T],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break e}}p=f.createElement(l),Ge(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[Ae]=n,me(p),l=p}n.stateNode=l}else Iv(f,n.type,n.stateNode);else n.stateNode=Rv(f,l,n.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?Iv(f,n.type,n.stateNode):Rv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Dd(n,n.memoizedProps,s.memoizedProps)}break;case 27:_n(r,n),vn(n),l&512&&(ye||s===null||hi(s,s.return)),s!==null&&l&4&&Dd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(_n(r,n),vn(n),l&512&&(ye||s===null||hi(s,s.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(Y){te(n,n.return,Y)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Dd(n,f,s!==null?s.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(_n(r,n),vn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(Y){te(n,n.return,Y)}}break;case 3:if(Fc=null,f=Fn,Fn=qc(r.containerInfo),_n(r,n),Fn=f,vn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(Y){te(n,n.return,Y)}Od&&(Od=!1,P_(n));break;case 4:l=Fn,Fn=qc(n.stateNode.containerInfo),_n(r,n),vn(n),Fn=l;break;case 12:_n(r,n),vn(n);break;case 13:_n(r,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zd=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 22:f=n.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,$=$i,Z=ye;if($i=$||f,ye=Z||x,_n(r,n),ye=Z,$i=$,vn(n),l&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||x||$i||ye||Ha(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){x=s=r;try{if(p=x.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=x.stateNode;var it=x.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){te(x,x.return,Y)}}}else if(r.tag===6){if(s===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Y){te(x,x.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Md(n,s))));break;case 19:_n(r,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 30:break;case 21:break;default:_n(r,n),vn(n)}}function vn(n){var r=n.flags;if(r&2){try{for(var s,l=n.return;l!==null;){if(R_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=xd(n);Dc(n,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(Rn(E,""),s.flags&=-33);var T=xd(n);Dc(n,T,E);break;case 3:case 4:var x=s.stateNode.containerInfo,$=xd(n);Nd(n,$,x);break;default:throw Error(a(161))}}catch(Z){te(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function P_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;P_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Dr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D_(n,r.alternate,r),r=r.sibling}function Ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ir(4,r,r.return),Ha(r);break;case 1:hi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&S_(r,r.return,s),Ha(r);break;case 27:xl(r.stateNode);case 26:case 5:hi(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}n=n.sibling}}function xr(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:xr(f,p,s),El(4,p);break;case 1:if(xr(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){te(l,l.return,$)}if(l=p,f=l.updateQueue,f!==null){var T=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)uy(x[f],T)}catch($){te(l,l.return,$)}}s&&E&64&&w_(p),Tl(p,p.return);break;case 27:C_(p);case 26:case 5:xr(f,p,s),s&&l===null&&E&4&&A_(p),Tl(p,p.return);break;case 12:xr(f,p,s);break;case 13:xr(f,p,s),s&&E&4&&O_(f,p);break;case 22:p.memoizedState===null&&xr(f,p,s),Tl(p,p.return);break;case 30:break;default:xr(f,p,s)}r=r.sibling}}function Pd(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&sl(s))}function kd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n))}function fi(n,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(n,r,s,l),r=r.sibling}function k_(n,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(n,r,s,l),f&2048&&El(9,r);break;case 1:fi(n,r,s,l);break;case 3:fi(n,r,s,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n)));break;case 12:if(f&2048){fi(n,r,s,l),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,T=p.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){te(r,r.return,x)}}else fi(n,r,s,l);break;case 13:fi(n,r,s,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?fi(n,r,s,l):bl(n,r):p._visibility&2?fi(n,r,s,l):(p._visibility|=2,qs(n,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Pd(E,r);break;case 24:fi(n,r,s,l),f&2048&&kd(r.alternate,r);break;default:fi(n,r,s,l)}}function qs(n,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,T=s,x=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:qs(p,E,T,x,f),El(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?qs(p,E,T,x,f):bl(p,E):(Z._visibility|=2,qs(p,E,T,x,f)),f&&$&2048&&Pd(E.alternate,E);break;case 24:qs(p,E,T,x,f),f&&$&2048&&kd(E.alternate,E);break;default:qs(p,E,T,x,f)}r=r.sibling}}function bl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,l=r,f=l.flags;switch(l.tag){case 22:bl(s,l),f&2048&&Pd(l.alternate,l);break;case 24:bl(s,l),f&2048&&kd(l.alternate,l);break;default:bl(s,l)}r=r.sibling}}var wl=8192;function Hs(n){if(n.subtreeFlags&wl)for(n=n.child;n!==null;)V_(n),n=n.sibling}function V_(n){switch(n.tag){case 26:Hs(n),n.flags&wl&&n.memoizedState!==null&&rA(Fn,n.memoizedState,n.memoizedProps);break;case 5:Hs(n);break;case 3:case 4:var r=Fn;Fn=qc(n.stateNode.containerInfo),Hs(n),Fn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Hs(n),wl=r):Hs(n));break;default:Hs(n)}}function L_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Sl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ve=l,z_(l,n)}L_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&Ir(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,xc(n)):Sl(n);break;default:Sl(n)}}function xc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ve=l,z_(l,n)}L_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ir(8,r,r.return),xc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,xc(r));break;default:xc(r)}n=n.sibling}}function z_(n,r){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:Ir(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ve=l;else t:for(s=n;Ve!==null;){l=Ve;var f=l.sibling,p=l.return;if(x_(l),l===s){Ve=null;break t}if(f!==null){f.return=p,Ve=f;break t}Ve=p}}}var ES={getCacheForType:function(n){var r=Xe(Ie),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s}},TS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Mt=null,jt=0,Yt=0,En=null,Nr=!1,Fs=!1,Vd=!1,Qi=0,fe=0,Or=0,Fa=0,Ld=0,kn=0,Gs=0,Al=null,hn=null,Ud=!1,zd=0,Nc=1/0,Oc=null,Mr=null,Fe=0,Pr=null,$s=null,Ks=0,Bd=0,jd=null,B_=null,Rl=0,qd=null;function Tn(){if((Qt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var n=Ps;return n!==0?n:Yd()}return mr()}function j_(){kn===0&&(kn=(jt&536870912)===0||Ft?ko():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),kn}function bn(n,r,s){(n===ne&&(Yt===2||Yt===9)||n.cancelPendingCommit!==null)&&(Qs(n,0),kr(n,jt,kn,!1)),Ri(n,s),((Qt&2)===0||n!==ne)&&(n===ne&&((Qt&2)===0&&(Fa|=s),fe===4&&kr(n,jt,kn,!1)),di(n))}function q_(n,r,s){if((Qt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&n.expiredLanes)===0||ga(n,r),f=l?SS(n,r):Gd(n,r,!0),p=l;do{if(f===0){Fs&&!l&&kr(n,r,0,!1);break}else{if(s=n.current.alternate,p&&!bS(s)){f=Gd(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var T=n;f=Al;var x=T.current.memoizedState.isDehydrated;if(x&&(Qs(T,E).flags|=256),E=Gd(T,E,!1),E!==2){if(Vd&&!x){T.errorRecoveryDisabledLanes|=p,Fa|=p,f=4;break t}p=hn,hn=f,p!==null&&(hn===null?hn=p:hn.push.apply(hn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Qs(n,0),kr(n,r,0,!0);break}t:{switch(l=n,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:kr(l,r,kn,!Nr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=zd+300-Sn(),10<f)){if(kr(l,r,kn,!Nr),hs(l,0,!0)!==0)break t;l.timeoutHandle=yv(H_.bind(null,l,s,hn,Oc,Ud,r,kn,Fa,Gs,Nr,p,2,-0,0),f);break t}H_(l,s,hn,Oc,Ud,r,kn,Fa,Gs,Nr,p,0,-0,0)}}break}while(!0);di(n)}function H_(n,r,s,l,f,p,E,T,x,$,Z,it,Q,Y){if(n.timeoutHandle=-1,it=r.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:iA},V_(r),it=aA(),it!==null)){n.cancelPendingCommit=it(X_.bind(null,n,r,p,s,l,f,E,T,x,Z,1,Q,Y)),kr(n,p,E,!$);return}X_(n,r,p,s,l,f,E,T,x)}function bS(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!gn(p(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(n,r,s,l){r&=~Ld,r&=~Fa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-Ye(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&Zn(n,s,r)}function Mc(){return(Qt&6)===0?(Cl(0),!1):!0}function Hd(){if(Mt!==null){if(Yt===0)var n=Mt.return;else n=Mt,Bi=Ua=null,sd(n),Bs=null,yl=0,n=Mt;for(;n!==null;)b_(n.alternate,n),n=n.return;Mt=null}}function Qs(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,BS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Hd(),ne=n,Mt=s=Li(n.current,null),jt=r,Yt=0,En=null,Nr=!1,Fs=ga(n,r),Vd=!1,Gs=kn=Ld=Fa=Or=fe=0,hn=Al=null,Ud=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Ye(l),p=1<<f;r|=n[f],l&=~p}return Qi=r,ec(),s}function F_(n,r){It=null,W.H=Ec,r===ll||r===cc?(r=oy(),Yt=3):r===ry?(r=oy(),Yt=4):Yt=r===l_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Mt===null&&(fe=1,Ac(n,xn(r,n.current)))}function G_(){var n=W.H;return W.H=Ec,n===null?Ec:n}function $_(){var n=W.A;return W.A=ES,n}function Fd(){fe=4,Nr||(jt&4194048)!==jt&&Pn.current!==null||(Fs=!0),(Or&134217727)===0&&(Fa&134217727)===0||ne===null||kr(ne,jt,kn,!1)}function Gd(n,r,s){var l=Qt;Qt|=2;var f=G_(),p=$_();(ne!==n||jt!==r)&&(Oc=null,Qs(n,r)),r=!1;var E=fe;t:do try{if(Yt!==0&&Mt!==null){var T=Mt,x=En;switch(Yt){case 8:Hd(),E=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var $=Yt;if(Yt=0,En=null,Ys(n,T,x,$),s&&Fs){E=0;break t}break;default:$=Yt,Yt=0,En=null,Ys(n,T,x,$)}}wS(),E=fe;break}catch(Z){F_(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Bi=Ua=null,Qt=l,W.H=f,W.A=p,Mt===null&&(ne=null,jt=0,ec()),E}function wS(){for(;Mt!==null;)K_(Mt)}function SS(n,r){var s=Qt;Qt|=2;var l=G_(),f=$_();ne!==n||jt!==r?(Oc=null,Nc=Sn()+500,Qs(n,r)):Fs=ga(n,r);t:do try{if(Yt!==0&&Mt!==null){r=Mt;var p=En;e:switch(Yt){case 1:Yt=0,En=null,Ys(n,r,p,1);break;case 2:case 9:if(ay(p)){Yt=0,En=null,Q_(r);break}r=function(){Yt!==2&&Yt!==9||ne!==n||(Yt=7),di(n)},p.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:ay(p)?(Yt=0,En=null,Q_(r)):(Yt=0,En=null,Ys(n,r,p,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var T=Mt;if(!E||Dv(E)){Yt=0,En=null;var x=T.sibling;if(x!==null)Mt=x;else{var $=T.return;$!==null?(Mt=$,Pc($)):Mt=null}break e}}Yt=0,En=null,Ys(n,r,p,5);break;case 6:Yt=0,En=null,Ys(n,r,p,6);break;case 8:Hd(),fe=6;break t;default:throw Error(a(462))}}AS();break}catch(Z){F_(n,Z)}while(!0);return Bi=Ua=null,W.H=l,W.A=f,Qt=s,Mt!==null?0:(ne=null,jt=0,ec(),fe)}function AS(){for(;Mt!==null&&!No();)K_(Mt)}function K_(n){var r=E_(n.alternate,n,Qi);n.memoizedProps=n.pendingProps,r===null?Pc(n):Mt=r}function Q_(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=p_(s,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=p_(s,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:sd(r);default:b_(s,r),r=Mt=Yg(r,Qi),r=E_(s,r,Qi)}n.memoizedProps=n.pendingProps,r===null?Pc(n):Mt=r}function Ys(n,r,s,l){Bi=Ua=null,sd(r),Bs=null,yl=0;var f=r.return;try{if(pS(n,f,r,s,jt)){fe=1,Ac(n,xn(s,n.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;fe=1,Ac(n,xn(s,n.current)),Mt=null;return}r.flags&32768?(Ft||l===1?n=!0:Fs||(jt&536870912)!==0?n=!1:(Nr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(r,n)):Pc(r)}function Pc(n){var r=n;do{if((r.flags&32768)!==0){Y_(r,Nr);return}n=r.return;var s=gS(r.alternate,r,Qi);if(s!==null){Mt=s;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=n}while(r!==null);fe===0&&(fe=5)}function Y_(n,r){do{var s=yS(n.alternate,n);if(s!==null){s.flags&=32767,Mt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=s}while(n!==null);fe=6,Mt=null}function X_(n,r,s,l,f,p,E,T,x){n.cancelPendingCommit=null;do kc();while(Fe!==0);if((Qt&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=kf,Lo(n,s,p,E,T,x),n===ne&&(Mt=ne=null,jt=0),$s=r,Pr=n,Ks=s,Bd=p,jd=f,B_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DS(fa,function(){return ev(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=lt.p,lt.p=2,E=Qt,Qt|=4;try{_S(n,r,s)}finally{Qt=E,lt.p=f,W.T=l}}Fe=1,W_(),Z_(),J_()}}function W_(){if(Fe===1){Fe=0;var n=Pr,r=$s,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var l=lt.p;lt.p=2;var f=Qt;Qt|=4;try{M_(r,n);var p=ip,E=zg(n.containerInfo),T=p.focusedElem,x=p.selectionRange;if(E!==T&&T&&T.ownerDocument&&Ug(T.ownerDocument.documentElement,T)){if(x!==null&&xf(T)){var $=x.start,Z=x.end;if(Z===void 0&&(Z=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(Z,T.value.length);else{var it=T.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),bt=T.textContent.length,_t=Math.min(x.start,bt),Jt=x.end===void 0?_t:Math.min(x.end,bt);!Y.extend&&_t>Jt&&(E=Jt,Jt=_t,_t=E);var j=Lg(T,_t),U=Lg(T,Jt);if(j&&U&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var G=it.createRange();G.setStart(j.node,j.offset),Y.removeAllRanges(),_t>Jt?(Y.addRange(G),Y.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Y.addRange(G))}}}}for(it=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&it.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var tt=it[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kc=!!np,ip=np=null}finally{Qt=f,lt.p=l,W.T=s}}n.current=r,Fe=2}}function Z_(){if(Fe===2){Fe=0;var n=Pr,r=$s,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var l=lt.p;lt.p=2;var f=Qt;Qt|=4;try{D_(n,r.alternate,r)}finally{Qt=f,lt.p=l,W.T=s}}Fe=3}}function J_(){if(Fe===4||Fe===3){Fe=0,xu();var n=Pr,r=$s,s=Ks,l=B_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,$s=Pr=null,tv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Mr=null),fs(s),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=lt.p,lt.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];p(T.value,{componentStack:T.stack})}}finally{W.T=r,lt.p=f}}(Ks&3)!==0&&kc(),di(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===qd?Rl++:(Rl=0,qd=n):Rl=0,Cl(0)}}function tv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,sl(r)))}function kc(n){return W_(),Z_(),J_(),ev()}function ev(){if(Fe!==5)return!1;var n=Pr,r=Bd;Bd=0;var s=fs(Ks),l=W.T,f=lt.p;try{lt.p=32>s?32:s,W.T=null,s=jd,jd=null;var p=Pr,E=Ks;if(Fe=0,$s=Pr=null,Ks=0,(Qt&6)!==0)throw Error(a(331));var T=Qt;if(Qt|=4,U_(p.current),k_(p,p.current,E,s),Qt=T,Cl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ce,p)}catch{}return!0}finally{lt.p=f,W.T=l,tv(n,r)}}function nv(n,r,s){r=xn(s,r),r=Ed(n.stateNode,r,2),n=Sr(n,r,2),n!==null&&(Ri(n,2),di(n))}function te(n,r,s){if(n.tag===3)nv(n,n,s);else for(;r!==null;){if(r.tag===3){nv(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){n=xn(s,n),s=s_(2),l=Sr(r,s,2),l!==null&&(o_(s,l,r,n),Ri(l,2),di(l));break}}r=r.return}}function $d(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new TS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Vd=!0,f.add(s),n=RS.bind(null,n,r,s),r.then(n,n))}function RS(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ne===n&&(jt&s)===s&&(fe===4||fe===3&&(jt&62914560)===jt&&300>Sn()-zd?(Qt&2)===0&&Qs(n,0):Ld|=s,Gs===jt&&(Gs=0)),di(n)}function iv(n,r){r===0&&(r=Vo()),n=xs(n,r),n!==null&&(Ri(n,r),di(n))}function CS(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),iv(n,s)}function IS(n,r){var s=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),iv(n,s)}function DS(n,r){return ca(n,r)}var Vc=null,Xs=null,Kd=!1,Lc=!1,Qd=!1,Ga=0;function di(n){n!==Xs&&n.next===null&&(Xs===null?Vc=Xs=n:Xs=Xs.next=n),Lc=!0,Kd||(Kd=!0,NS())}function Cl(n,r){if(!Qd&&Lc){Qd=!0;do for(var s=!1,l=Vc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-Ye(42|n)+1)-1,p&=f&~(E&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,ov(l,p))}else p=jt,p=hs(l,l===ne?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ga(l,p)||(s=!0,ov(l,p));l=l.next}while(s);Qd=!1}}function xS(){rv()}function rv(){Lc=Kd=!1;var n=0;Ga!==0&&(zS()&&(n=Ga),Ga=0);for(var r=Sn(),s=null,l=Vc;l!==null;){var f=l.next,p=av(l,r);p===0?(l.next=null,s===null?Vc=f:s.next=f,f===null&&(Xs=s)):(s=l,(n!==0||(p&3)!==0)&&(Lc=!0)),l=f}Cl(n)}function av(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Ye(p),T=1<<E,x=f[E];x===-1?((T&s)===0||(T&l)!==0)&&(f[E]=Po(T,r)):x<=r&&(n.expiredLanes|=T),p&=~T}if(r=ne,s=jt,s=hs(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===r&&(Yt===2||Yt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||ga(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(l!==null&&ha(l),fs(s)){case 2:case 8:s=us;break;case 32:s=fa;break;case 268435456:s=cs;break;default:s=fa}return l=sv.bind(null,n),s=ca(s,l),n.callbackPriority=r,n.callbackNode=s,r}return l!==null&&l!==null&&ha(l),n.callbackPriority=2,n.callbackNode=null,2}function sv(n,r){if(Fe!==0&&Fe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(kc()&&n.callbackNode!==s)return null;var l=jt;return l=hs(n,n===ne?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(q_(n,l,r),av(n,Sn()),n.callbackNode!=null&&n.callbackNode===s?sv.bind(null,n):null)}function ov(n,r){if(kc())return null;q_(n,r,!0)}function NS(){jS(function(){(Qt&6)!==0?ca(Oo,xS):rv()})}function Yd(){return Ga===0&&(Ga=ko()),Ga}function lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_s(""+n)}function uv(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function OS(n,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var p=lv((f[ve]||null).action),E=l.submitter;E&&(r=(r=E[ve]||null)?lv(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var T=new vs("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var x=E?uv(f,E):new FormData(f);md(s,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(T.preventDefault(),x=E?uv(f,E):new FormData(f),md(s,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Xd=0;Xd<Pf.length;Xd++){var Wd=Pf[Xd],MS=Wd.toLowerCase(),PS=Wd[0].toUpperCase()+Wd.slice(1);Hn(MS,"on"+PS)}Hn(qg,"onAnimationEnd"),Hn(Hg,"onAnimationIteration"),Hn(Fg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Ww,"onTransitionRun"),Hn(Zw,"onTransitionStart"),Hn(Jw,"onTransitionCancel"),Hn(Gg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function cv(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],x=T.instance,$=T.currentTarget;if(T=T.listener,x!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=$;try{p(f)}catch(Z){Sc(Z)}f.currentTarget=null,p=x}else for(E=0;E<l.length;E++){if(T=l[E],x=T.instance,$=T.currentTarget,T=T.listener,x!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=$;try{p(f)}catch(Z){Sc(Z)}f.currentTarget=null,p=x}}}}function Pt(n,r){var s=r[zo];s===void 0&&(s=r[zo]=new Set);var l=n+"__bubble";s.has(l)||(hv(r,n,2,!1),s.add(l))}function Zd(n,r,s){var l=0;r&&(l|=4),hv(s,n,l,r)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Jd(n){if(!n[Uc]){n[Uc]=!0,Bo.forEach(function(s){s!=="selectionchange"&&(kS.has(s)||Zd(s,!1,n),Zd(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Uc]||(r[Uc]=!0,Zd("selectionchange",!1,r))}}function hv(n,r,s,l){switch(kv(r)){case 2:var f=lA;break;case 8:f=uA;break;default:f=dp}s=f.bind(null,r,s,n),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,s,{capture:!0,passive:f}):n.addEventListener(r,s,!0):f!==void 0?n.addEventListener(r,s,{passive:f}):n.addEventListener(r,s,!1)}function tp(n,r,s,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ci(T),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=p=E;continue t}T=T.parentNode}}l=l.return}Bu(function(){var $=p,Z=Cn(s),it=[];t:{var Q=$g.get(n);if(Q!==void 0){var Y=vs,bt=n;switch(n){case"keypress":if(ri(s)===0)break t;case"keydown":case"keyup":Y=As;break;case"focusin":bt="focus",Y=bs;break;case"focusout":bt="blur",Y=bs;break;case"beforeblur":case"afterblur":Y=bs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Qu;break;case qg:case Hg:case Fg:Y=ws;break;case Gg:Y=Xu;break;case"scroll":case"scrollend":Y=ju;break;case"wheel":Y=Rs;break;case"copy":case"cut":case"paste":Y=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zo;break;case"toggle":case"beforetoggle":Y=Zu}var _t=(r&4)!==0,Jt=!_t&&(n==="scroll"||n==="scrollend"),j=_t?Q!==null?Q+"Capture":null:Q;_t=[];for(var U=$,G;U!==null;){var tt=U;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||j===null||(tt=Sa(U,j),tt!=null&&_t.push(Dl(U,tt,G))),Jt)break;U=U.return}0<_t.length&&(Q=new Y(Q,bt,null,s,Z),it.push({event:Q,listeners:_t}))}}if((r&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",Q&&s!==Ni&&(bt=s.relatedTarget||s.fromElement)&&(Ci(bt)||bt[An]))break t;if((Y||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(bt=s.relatedTarget||s.toElement,Y=$,bt=bt?Ci(bt):null,bt!==null&&(Jt=u(bt),_t=bt.tag,bt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(Y=null,bt=$),Y!==bt)){if(_t=Dn,tt="onMouseLeave",j="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(_t=Zo,tt="onPointerLeave",j="onPointerEnter",U="pointer"),Jt=Y==null?Q:ti(Y),G=bt==null?Q:ti(bt),Q=new _t(tt,U+"leave",Y,s,Z),Q.target=Jt,Q.relatedTarget=G,tt=null,Ci(Z)===$&&(_t=new _t(j,U+"enter",bt,s,Z),_t.target=G,_t.relatedTarget=Jt,tt=_t),Jt=tt,Y&&bt)e:{for(_t=Y,j=bt,U=0,G=_t;G;G=Ws(G))U++;for(G=0,tt=j;tt;tt=Ws(tt))G++;for(;0<U-G;)_t=Ws(_t),U--;for(;0<G-U;)j=Ws(j),G--;for(;U--;){if(_t===j||j!==null&&_t===j.alternate)break e;_t=Ws(_t),j=Ws(j)}_t=null}else _t=null;Y!==null&&fv(it,Q,Y,_t,!1),bt!==null&&Jt!==null&&fv(it,Jt,bt,_t,!0)}}t:{if(Q=$?ti($):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var dt=Ng;else if(Ce(Q))if(Og)dt=Qw;else{dt=$w;var Ot=Gw}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Go($.elementType)&&(dt=Ng):dt=Kw;if(dt&&(dt=dt(n,$))){Vi(it,dt,s,Z);break t}Ot&&Ot(n,Q,$),n==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&vr(Q,"number",Q.value)}switch(Ot=$?ti($):window,n){case"focusin":(Ce(Ot)||Ot.contentEditable==="true")&&(Cs=Ot,Nf=$,el=null);break;case"focusout":el=Nf=Cs=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Bg(it,s,Z);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":Bg(it,s,Z)}var mt;if(oi)t:{switch(n){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else zt?X(n,s)&&(vt="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(v&&s.locale!=="ko"&&(zt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&zt&&(mt=Ko()):(ii=Z,Er="value"in ii?ii.value:ii.textContent,zt=!0)),Ot=zc($,vt),0<Ot.length&&(vt=new Xo(vt,n,null,s,Z),it.push({event:vt,listeners:Ot}),mt?vt.data=mt:(mt=ot(s),mt!==null&&(vt.data=mt)))),(mt=y?Re(n,s):Bt(n,s))&&(vt=zc($,"onBeforeInput"),0<vt.length&&(Ot=new Xo("onBeforeInput","beforeinput",null,s,Z),it.push({event:Ot,listeners:vt}),Ot.data=mt)),OS(it,n,$,s,Z)}cv(it,r)})}function Dl(n,r,s){return{instance:n,listener:r,currentTarget:s}}function zc(n,r){for(var s=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Sa(n,s),f!=null&&l.unshift(Dl(n,f,p)),f=Sa(n,r),f!=null&&l.push(Dl(n,f,p))),n.tag===3)return l;n=n.return}return[]}function Ws(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fv(n,r,s,l,f){for(var p=r._reactName,E=[];s!==null&&s!==l;){var T=s,x=T.alternate,$=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||$===null||(x=$,f?($=Sa(s,p),$!=null&&E.unshift(Dl(s,$,x))):f||($=Sa(s,p),$!=null&&E.push(Dl(s,$,x)))),s=s.return}E.length!==0&&n.push({event:r,listeners:E})}var VS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function dv(n){return(typeof n=="string"?n:""+n).replace(VS,`
`).replace(LS,"")}function pv(n,r){return r=dv(r),dv(n)===r}function Bc(){}function Zt(n,r,s,l,f,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":ei(n,"class",l);break;case"tabIndex":ei(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(n,s,l);break;case"style":Fo(n,l,p);break;case"data":if(r!=="object"){ei(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=_s(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&Zt(n,r,"name",f.name,f,null),Zt(n,r,"formEncType",f.formEncType,f,null),Zt(n,r,"formMethod",f.formMethod,f,null),Zt(n,r,"formTarget",f.formTarget,f,null)):(Zt(n,r,"encType",f.encType,f,null),Zt(n,r,"method",f.method,f,null),Zt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=_s(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&Pt("scroll",n);break;case"onScrollEnd":l!=null&&Pt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=_s(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Pt("beforetoggle",n),Pt("toggle",n),_r(n,"popover",l);break;case"xlinkActuate":je(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Sf.get(s)||s,_r(n,s,l))}}function ep(n,r,s,l,f,p){switch(s){case"style":Fo(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Pt("scroll",n);break;case"onScrollEnd":l!=null&&Pt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),p=n[ve]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,l,f);break t}s in n?n[s]=l:l===!0?n.setAttribute(s,""):_r(n,s,l)}}}function Ge(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",n),Pt("load",n);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Zt(n,r,p,E,s,null)}}f&&Zt(n,r,"srcSet",s.srcSet,s,null),l&&Zt(n,r,"src",s.src,s,null);return;case"input":Pt("invalid",n);var T=p=E=f=null,x=null,$=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":x=Z;break;case"defaultChecked":$=Z;break;case"value":p=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:Zt(n,r,l,Z,s,null)}}Ta(n,p,T,x,$,E,f,!1),ys(n);return;case"select":Pt("invalid",n),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Zt(n,r,f,T,s,null)}r=p,s=E,n.multiple=!!l,r!=null?xi(n,!!l,r,!1):s!=null&&xi(n,!!l,s,!0);return;case"textarea":Pt("invalid",n),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Zt(n,r,E,T,s,null)}ba(n,l,f,p),ys(n);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(n,r,x,l,s,null)}return;case"dialog":Pt("beforetoggle",n),Pt("toggle",n),Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":Pt("load",n);break;case"video":case"audio":for(l=0;l<Il.length;l++)Pt(Il[l],n);break;case"image":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"embed":case"source":case"link":Pt("error",n),Pt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(l=s[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Zt(n,r,$,l,s,null)}return;default:if(Go(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&ep(n,r,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Zt(n,r,T,l,s,null))}function US(n,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,T=null,x=null,$=null,Z=null;for(Y in s){var it=s[Y];if(s.hasOwnProperty(Y)&&it!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=it;default:l.hasOwnProperty(Y)||Zt(n,r,Y,null,l,it)}}for(var Q in l){var Y=l[Q];if(it=s[Q],l.hasOwnProperty(Q)&&(Y!=null||it!=null))switch(Q){case"type":p=Y;break;case"name":f=Y;break;case"checked":$=Y;break;case"defaultChecked":Z=Y;break;case"value":E=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:Y!==it&&Zt(n,r,Q,Y,l,it)}}mn(n,E,T,x,$,Z,p,f);return;case"select":Y=E=T=Q=null;for(p in s)if(x=s[p],s.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":Y=x;default:l.hasOwnProperty(p)||Zt(n,r,p,null,l,x)}for(f in l)if(p=l[f],x=s[f],l.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":Q=p;break;case"defaultValue":T=p;break;case"multiple":E=p;default:p!==x&&Zt(n,r,f,p,l,x)}r=T,s=E,l=Y,Q!=null?xi(n,!!s,Q,!1):!!l!=!!s&&(r!=null?xi(n,!!s,r,!0):xi(n,!!s,s?[]:"",!1));return;case"textarea":Y=Q=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(n,r,T,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Zt(n,r,E,f,l,p)}Xt(n,Q,Y);return;case"option":for(var bt in s)if(Q=s[bt],s.hasOwnProperty(bt)&&Q!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:Zt(n,r,bt,null,l,Q)}for(x in l)if(Q=l[x],Y=s[x],l.hasOwnProperty(x)&&Q!==Y&&(Q!=null||Y!=null))switch(x){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Zt(n,r,x,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)Q=s[_t],s.hasOwnProperty(_t)&&Q!=null&&!l.hasOwnProperty(_t)&&Zt(n,r,_t,null,l,Q);for($ in l)if(Q=l[$],Y=s[$],l.hasOwnProperty($)&&Q!==Y&&(Q!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Zt(n,r,$,Q,l,Y)}return;default:if(Go(r)){for(var Jt in s)Q=s[Jt],s.hasOwnProperty(Jt)&&Q!==void 0&&!l.hasOwnProperty(Jt)&&ep(n,r,Jt,void 0,l,Q);for(Z in l)Q=l[Z],Y=s[Z],!l.hasOwnProperty(Z)||Q===Y||Q===void 0&&Y===void 0||ep(n,r,Z,Q,l,Y);return}}for(var j in s)Q=s[j],s.hasOwnProperty(j)&&Q!=null&&!l.hasOwnProperty(j)&&Zt(n,r,j,null,l,Q);for(it in l)Q=l[it],Y=s[it],!l.hasOwnProperty(it)||Q===Y||Q==null&&Y==null||Zt(n,r,it,Q,l,Y)}var np=null,ip=null;function jc(n){return n.nodeType===9?n:n.ownerDocument}function mv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function rp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ap=null;function zS(){var n=window.event;return n&&n.type==="popstate"?n===ap?!1:(ap=n,!0):(ap=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(n){return _v.resolve(null).then(n).catch(qS)}:yv;function qS(n){setTimeout(function(){throw n})}function Vr(n){return n==="head"}function vv(n,r){var s=r,l=0,f=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&xl(E.documentElement),s&2&&xl(E.body),s&4)for(s=E.head,xl(s),E=s.firstChild;E;){var T=E.nextSibling,x=E.nodeName;E[ya]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){n.removeChild(p),Ul(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Ul(r)}function sp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sp(s),yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function HS(n,r,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ya])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function FS(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function op(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function GS(n,r){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var lp=null;function Ev(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}function Tv(n,r,s){switch(r=jc(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function xl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);yr(n)}var Vn=new Map,bv=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yi=lt.d;lt.d={f:$S,r:KS,D:QS,C:YS,L:XS,m:WS,X:JS,S:ZS,M:tA};function $S(){var n=Yi.f(),r=Mc();return n||r}function KS(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?qy(r):Yi.r(n)}var Zs=typeof document>"u"?null:document;function wv(n,r,s){var l=Zs;if(l&&typeof r=="string"&&r){var f=Ee(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),bv.has(f)||(bv.add(f),n={rel:n,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ge(r,"link",n),me(r),l.head.appendChild(r)))}}function QS(n){Yi.D(n),wv("dns-prefetch",n,null)}function YS(n,r){Yi.C(n,r),wv("preconnect",n,r)}function XS(n,r,s){Yi.L(n,r,s);var l=Zs;if(l&&n&&r){var f='link[rel="preload"][as="'+Ee(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ee(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ee(s.imageSizes)+'"]')):f+='[href="'+Ee(n)+'"]';var p=f;switch(r){case"style":p=Js(n);break;case"script":p=to(n)}Vn.has(p)||(n=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Vn.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Nl(p))||r==="script"&&l.querySelector(Ol(p))||(r=l.createElement("link"),Ge(r,"link",n),me(r),l.head.appendChild(r)))}}function WS(n,r){Yi.m(n,r);var s=Zs;if(s&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=to(n)}if(!Vn.has(p)&&(n=_({rel:"modulepreload",href:n},r),Vn.set(p,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(p)))return}l=s.createElement("link"),Ge(l,"link",n),me(l),s.head.appendChild(l)}}}function ZS(n,r,s){Yi.S(n,r,s);var l=Zs;if(l&&n){var f=nn(l).hoistableStyles,p=Js(n);r=r||"default";var E=f.get(p);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Nl(p)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Vn.get(p))&&up(n,s);var x=E=l.createElement("link");me(x),Ge(x,"link",n),x._p=new Promise(function($,Z){x.onload=$,x.onerror=Z}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(p,E)}}}function JS(n,r){Yi.X(n,r);var s=Zs;if(s&&n){var l=nn(s).hoistableScripts,f=to(n),p=l.get(f);p||(p=s.querySelector(Ol(f)),p||(n=_({src:n,async:!0},r),(r=Vn.get(f))&&cp(n,r),p=s.createElement("script"),me(p),Ge(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function tA(n,r){Yi.M(n,r);var s=Zs;if(s&&n){var l=nn(s).hoistableScripts,f=to(n),p=l.get(f);p||(p=s.querySelector(Ol(f)),p||(n=_({src:n,async:!0,type:"module"},r),(r=Vn.get(f))&&cp(n,r),p=s.createElement("script"),me(p),Ge(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Sv(n,r,s,l){var f=(f=St.current)?qc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Js(s.href),s=nn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Js(s.href);var p=nn(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Nl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Vn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(n,s),p||eA(f,n,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(s),s=nn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Js(n){return'href="'+Ee(n)+'"'}function Nl(n){return'link[rel="stylesheet"]['+n+"]"}function Av(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function eA(n,r,s,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ge(r,"link",s),me(r),n.head.appendChild(r))}function to(n){return'[src="'+Ee(n)+'"]'}function Ol(n){return"script[async]"+n}function Rv(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Ee(s.href)+'"]');if(l)return r.instance=l,me(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),me(l),Ge(l,"style",f),Hc(l,s.precedence,n),r.instance=l;case"stylesheet":f=Js(s.href);var p=n.querySelector(Nl(f));if(p)return r.state.loading|=4,r.instance=p,me(p),p;l=Av(s),(f=Vn.get(f))&&up(l,f),p=(n.ownerDocument||n).createElement("link"),me(p);var E=p;return E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),Ge(p,"link",l),r.state.loading|=4,Hc(p,s.precedence,n),r.instance=p;case"script":return p=to(s.src),(f=n.querySelector(Ol(p)))?(r.instance=f,me(f),f):(l=s,(f=Vn.get(p))&&(l=_({},s),cp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),me(f),Ge(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hc(l,s.precedence,n));return r.instance}function Hc(n,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function up(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function cp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Fc=null;function Cv(n,r,s){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(s,l)}else f=Fc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var p=s[f];if(!(p[ya]||p[Ae]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(p):l.set(E,[p])}}return l}function Iv(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function nA(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ml=null;function iA(){}function rA(n,r,s){if(Ml===null)throw Error(a(475));var l=Ml;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Js(s.href),p=n.querySelector(Nl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Gc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,me(p);return}p=n.ownerDocument||n,s=Av(s),(f=Vn.get(f))&&up(s,f),p=p.createElement("link"),me(p);var E=p;E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),Ge(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function aA(){if(Ml===null)throw Error(a(475));var n=Ml;return n.stylesheets&&n.count===0&&hp(n,n.stylesheets),0<n.count?function(r){var s=setTimeout(function(){if(n.stylesheets&&hp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function hp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,r.forEach(sA,n),$c=null,Gc.call(n))}function sA(n,r){if(!(r.state.loading&4)){var s=$c.get(n);if(s)var l=s.get(null);else{s=new Map,$c.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Pl={$$typeof:z,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function oA(n,r,s,l,f,p,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(n,r,s,l,f,p,E,T,x,$,Z,it){return n=new oA(n,r,s,E,T,x,$,it),r=1,p===!0&&(r|=24),p=yn(3,null,null,r),n.current=p,p.stateNode=n,r=$f(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},Xf(p),n}function Nv(n){return n?(n=Ns,n):Ns}function Ov(n,r,s,l,f,p){f=Nv(f),l.context===null?l.context=f:l.pendingContext=f,l=wr(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Sr(n,l,r),s!==null&&(bn(s,n,r),cl(s,n,r))}function Mv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function fp(n,r){Mv(n,r),(n=n.alternate)&&Mv(n,r)}function Pv(n){if(n.tag===13){var r=xs(n,67108864);r!==null&&bn(r,n,67108864),fp(n,67108864)}}var Kc=!0;function lA(n,r,s,l){var f=W.T;W.T=null;var p=lt.p;try{lt.p=2,dp(n,r,s,l)}finally{lt.p=p,W.T=f}}function uA(n,r,s,l){var f=W.T;W.T=null;var p=lt.p;try{lt.p=8,dp(n,r,s,l)}finally{lt.p=p,W.T=f}}function dp(n,r,s,l){if(Kc){var f=pp(l);if(f===null)tp(n,r,l,Qc,s),Vv(n,l);else if(hA(f,n,r,s,l))l.stopPropagation();else if(Vv(n,l),r&4&&-1<cA.indexOf(n)){for(;f!==null;){var p=Jn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Bn(p.pendingLanes);if(E!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var x=1<<31-Ye(E);T.entanglements[1]|=x,E&=~x}di(p),(Qt&6)===0&&(Nc=Sn()+500,Cl(0))}}break;case 13:T=xs(p,2),T!==null&&bn(T,p,2),Mc(),fp(p,2)}if(p=pp(l),p===null&&tp(n,r,l,Qc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else tp(n,r,l,null,s)}}function pp(n){return n=Cn(n),mp(n)}var Qc=null;function mp(n){if(Qc=null,n=Ci(n),n!==null){var r=u(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=h(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qc=n,null}function kv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_f()){case Oo:return 2;case us:return 8;case fa:case vf:return 32;case cs:return 268435456;default:return 32}default:return 32}}var gp=!1,Lr=null,Ur=null,zr=null,kl=new Map,Vl=new Map,Br=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(n,r){switch(n){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Ll(n,r,s,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Jn(r),r!==null&&Pv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function hA(n,r,s,l,f){switch(r){case"focusin":return Lr=Ll(Lr,n,r,s,l,f),!0;case"dragenter":return Ur=Ll(Ur,n,r,s,l,f),!0;case"mouseover":return zr=Ll(zr,n,r,s,l,f),!0;case"pointerover":var p=f.pointerId;return kl.set(p,Ll(kl.get(p)||null,n,r,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Vl.set(p,Ll(Vl.get(p)||null,n,r,s,l,f)),!0}return!1}function Lv(n){var r=Ci(n.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){n.blockedOn=r,Mu(n.priority,function(){if(s.tag===13){var l=Tn();l=pr(l);var f=xs(s,l);f!==null&&bn(f,s,l),fp(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=pp(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Ni=l,s.target.dispatchEvent(l),Ni=null}else return r=Jn(s),r!==null&&Pv(r),n.blockedOn=s,!1;r.shift()}return!0}function Uv(n,r,s){Yc(n)&&s.delete(r)}function fA(){gp=!1,Lr!==null&&Yc(Lr)&&(Lr=null),Ur!==null&&Yc(Ur)&&(Ur=null),zr!==null&&Yc(zr)&&(zr=null),kl.forEach(Uv),Vl.forEach(Uv)}function Xc(n,r){n.blockedOn===r&&(n.blockedOn=null,gp||(gp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fA)))}var Wc=null;function zv(n){Wc!==n&&(Wc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===n&&(Wc=null);for(var r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(mp(l||s)===null)continue;break}var p=Jn(s);p!==null&&(n.splice(r,3),r-=3,md(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ul(n){function r(x){return Xc(x,n)}Lr!==null&&Xc(Lr,n),Ur!==null&&Xc(Ur,n),zr!==null&&Xc(zr,n),kl.forEach(r),Vl.forEach(r);for(var s=0;s<Br.length;s++){var l=Br[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Br.length&&(s=Br[0],s.blockedOn===null);)Lv(s),s.blockedOn===null&&Br.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[ve]||null;if(typeof p=="function")E||zv(s);else if(E){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ve]||null)T=E.formAction;else if(mp(f)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),zv(s)}}}function yp(n){this._internalRoot=n}Zc.prototype.render=yp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Tn();Ov(s,l,n,r,null,null)},Zc.prototype.unmount=yp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ov(n.current,2,null,n,null,null),Mc(),r[An]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var r=mr();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Br.length&&r!==0&&r<Br[s].priority;s++);Br.splice(s,0,n),s===0&&Lv(n)}};var Bv=t.version;if(Bv!=="19.1.0")throw Error(a(527,Bv,"19.1.0"));lt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var dA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ce=Jc.inject(dA),Kt=Jc}catch{}}return Bl.createRoot=function(n,r){if(!o(n))throw Error(a(299));var s=!1,l="",f=n_,p=i_,E=r_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=xv(n,1,!1,null,null,s,l,f,p,E,T,null),n[An]=r.current,Jd(n),new yp(r)},Bl.hydrateRoot=function(n,r,s){if(!o(n))throw Error(a(299));var l=!1,f="",p=n_,E=i_,T=r_,x=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),r=xv(n,1,!0,r,s??null,l,f,p,E,T,x,$),r.context=Nv(null),s=r.current,l=Tn(),l=pr(l),f=wr(l),f.callback=null,Sr(s,f,l),s=l,r.current.lanes=s,Ri(r,s),di(r),n[An]=r.current,Jd(n),new Zc(r)},Bl.version="19.1.0",Bl}var Xv;function wA(){if(Xv)return Ep.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ep.exports=bA(),Ep.exports}var SA=wA(),jl={},Wv;function AA(){if(Wv)return jl;Wv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=h,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,O){const M=new u,q=S.length;if(q<2)return M;const k=(O==null?void 0:O.decode)||_;let F=0;do{const K=S.indexOf("=",F);if(K===-1)break;const z=S.indexOf(";",F),nt=z===-1?q:z;if(K>nt){F=S.lastIndexOf(";",K-1)+1;continue}const et=d(S,F,K),ut=m(S,K,et),C=S.slice(et,ut);if(M[C]===void 0){let A=d(S,K+1,nt),R=m(S,nt,A);const I=k(S.slice(A,R));M[C]=I}F=nt+1}while(F<q);return M}function d(S,O,M){do{const q=S.charCodeAt(O);if(q!==32&&q!==9)return O}while(++O<M);return M}function m(S,O,M){for(;O>M;){const q=S.charCodeAt(--O);if(q!==32&&q!==9)return O+1}return M}function g(S,O,M){const q=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=q(O);if(!t.test(k))throw new TypeError(`argument val is invalid: ${O}`);let F=S+"="+k;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!e.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return jl}AA();var Zv="popstate";function RA(i={}){function t(o,u){let{pathname:h="/",search:d="",hash:m=""}=is(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fp("",{pathname:h,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function e(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof u=="string"?u:tu(u))}function a(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return IA(t,e,a,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function zn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function Jv(i,t){return{usr:i.state,key:i.key,idx:t}}function Fp(i,t,e=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?is(t):t,state:e,key:t&&t.key||a||CA()}}function tu({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function is(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function IA(i,t,e,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",m=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function b(){d="POP";let k=_(),F=k==null?null:k-g;g=k,m&&m({action:d,location:q.location,delta:F})}function S(k,F){d="PUSH";let K=Fp(q.location,k,F);e&&e(K,k),g=_()+1;let z=Jv(K,g),nt=q.createHref(K);try{h.pushState(z,"",nt)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;o.location.assign(nt)}u&&m&&m({action:d,location:q.location,delta:1})}function O(k,F){d="REPLACE";let K=Fp(q.location,k,F);e&&e(K,k),g=_();let z=Jv(K,g),nt=q.createHref(K);h.replaceState(z,"",nt),u&&m&&m({action:d,location:q.location,delta:0})}function M(k){let F=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof k=="string"?k:tu(k);return K=K.replace(/ $/,"%20"),oe(F,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,F)}let q={get action(){return d},get location(){return i(o,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,b),m=k,()=>{o.removeEventListener(Zv,b),m=null}},createHref(k){return t(o,k)},createURL:M,encodeLocation(k){let F=M(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:O,go(k){return h.go(k)}};return q}function GE(i,t,e="/"){return DA(i,t,e,!1)}function DA(i,t,e,a){let o=typeof t=="string"?is(t):t,u=rr(o.pathname||"/",e);if(u==null)return null;let h=$E(i);xA(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=jA(u);d=zA(h[m],g,a)}return d}function $E(i,t=[],e=[],a=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(oe(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=tr([a,m.relativePath]),_=e.concat(m);u.children&&u.children.length>0&&(oe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$E(u.children,t,_,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:LA(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of KE(u.path))o(u,h,m)}),t}function KE(i){let t=i.split("/");if(t.length===0)return[];let[e,...a]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=KE(a.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function xA(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:UA(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var NA=/^:[\w-]+$/,OA=3,MA=2,PA=1,kA=10,VA=-2,t0=i=>i==="*";function LA(i,t){let e=i.split("/"),a=e.length;return e.some(t0)&&(a+=VA),t&&(a+=MA),e.filter(o=>!t0(o)).reduce((o,u)=>o+(NA.test(u)?OA:u===""?PA:kA),a)}function UA(i,t){return i.length===t.length&&i.slice(0,-1).every((a,o)=>a===t[o])?i[i.length-1]-t[t.length-1]:0}function zA(i,t,e=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,_=u==="/"?t:t.slice(u.length)||"/",b=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),S=m.route;if(!b&&g&&e&&!a[a.length-1].route.index&&(b=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:tr([u,b.pathname]),pathnameBase:GA(tr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=tr([u,b.pathnameBase]))}return h}function Th(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,a]=BA(i.path,i.caseSensitive,i.end),o=t.match(e);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let M=d[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=d[S];return b&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function BA(i,t=!1,e=!0){zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function jA(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function rr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=i.charAt(e);return a&&a!=="/"?null:i.slice(e)||"/"}function qA(i,t="/"){let{pathname:e,search:a="",hash:o=""}=typeof i=="string"?is(i):i;return{pathname:e?e.startsWith("/")?e:HA(e,t):t,search:$A(a),hash:KA(o)}}function HA(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function Sp(i,t,e,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FA(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wm(i){let t=FA(i);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function Sm(i,t,e,a=!1){let o;typeof i=="string"?o=is(i):(o={...i},oe(!o.pathname||!o.pathname.includes("?"),Sp("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),Sp("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),Sp("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=e;else{let b=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?t[b]:"/"}let m=qA(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var tr=i=>i.join("/").replace(/\/\/+/g,"/"),GA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,KA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function QA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var YA=["GET",...QE];new Set(YA);var wo=L.createContext(null);wo.displayName="DataRouter";var qh=L.createContext(null);qh.displayName="DataRouterState";var YE=L.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var XA=L.createContext(new Map);XA.displayName="Fetchers";var WA=L.createContext(null);WA.displayName="Await";var Yn=L.createContext(null);Yn.displayName="Navigation";var fu=L.createContext(null);fu.displayName="Location";var wi=L.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Am=L.createContext(null);Am.displayName="RouteError";function ZA(i,{relative:t}={}){oe(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=L.useContext(Yn),{hash:o,pathname:u,search:h}=pu(i,{relative:t}),d=u;return e!=="/"&&(d=u==="/"?e:tr([e,u])),a.createHref({pathname:d,search:h,hash:o})}function So(){return L.useContext(fu)!=null}function aa(){return oe(So(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(fu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(i){L.useContext(Yn).static||L.useLayoutEffect(i)}function du(){let{isDataRoute:i}=L.useContext(wi);return i?hR():JA()}function JA(){oe(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(wo),{basename:t,navigator:e}=L.useContext(Yn),{matches:a}=L.useContext(wi),{pathname:o}=aa(),u=JSON.stringify(wm(a)),h=L.useRef(!1);return WE(()=>{h.current=!0}),L.useCallback((m,g={})=>{if(zn(h.current,XE),!h.current)return;if(typeof m=="number"){e.go(m);return}let _=Sm(m,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:tr([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,u,o,i])}L.createContext(null);function pu(i,{relative:t}={}){let{matches:e}=L.useContext(wi),{pathname:a}=aa(),o=JSON.stringify(wm(e));return L.useMemo(()=>Sm(i,JSON.parse(o),a,t==="path"),[i,o,a,t])}function tR(i,t){return ZE(i,t)}function ZE(i,t,e,a){var K;oe(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=L.useContext(Yn),{matches:h}=L.useContext(wi),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";JE(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=aa(),O;if(t){let z=typeof t=="string"?is(t):t;oe(_==="/"||((K=z.pathname)==null?void 0:K.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),O=z}else O=S;let M=O.pathname||"/",q=M;if(_!=="/"){let z=_.replace(/^\//,"").split("/");q="/"+M.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=!u&&e&&e.matches&&e.matches.length>0?e.matches:GE(i,{pathname:q});zn(b||k!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),zn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=aR(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:tr([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:tr([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),h,e,a);return t&&F?L.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},F):F}function eR(){let i=cR(),t=QA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),e?L.createElement("pre",{style:o},e):null,h)}var nR=L.createElement(eR,null),iR=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?L.createElement(wi.Provider,{value:this.props.routeContext},L.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rR({routeContext:i,match:t,children:e}){let a=L.useContext(wo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(wi.Provider,{value:i},e)}function aR(i,t=[],e=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let o=i,u=e==null?void 0:e.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);oe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(e)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:b}=e,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let b,S=!1,O=null,M=null;e&&(b=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||nR,h&&(d<0&&_===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===_&&(S=!0,M=g.route.hydrateFallbackElement||null)));let q=t.concat(o.slice(0,_+1)),k=()=>{let F;return b?F=O:S?F=M:g.route.Component?F=L.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,L.createElement(rR,{match:g,routeContext:{outlet:m,matches:q,isDataRoute:e!=null},children:F})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?L.createElement(iR,{location:e.location,revalidation:e.revalidation,component:O,error:b,children:k(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):k()},null)}function Rm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(i){let t=L.useContext(wo);return oe(t,Rm(i)),t}function oR(i){let t=L.useContext(qh);return oe(t,Rm(i)),t}function lR(i){let t=L.useContext(wi);return oe(t,Rm(i)),t}function Cm(i){let t=lR(i),e=t.matches[t.matches.length-1];return oe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function uR(){return Cm("useRouteId")}function cR(){var a;let i=L.useContext(Am),t=oR("useRouteError"),e=Cm("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[e]}function hR(){let{router:i}=sR("useNavigate"),t=Cm("useNavigate"),e=L.useRef(!1);return WE(()=>{e.current=!0}),L.useCallback(async(o,u={})=>{zn(e.current,XE),e.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var e0={};function JE(i,t,e){!t&&!e0[i]&&(e0[i]=!0,zn(!1,e))}L.memo(fR);function fR({routes:i,future:t,state:e}){return ZE(i,void 0,e,t)}function dR({to:i,replace:t,state:e,relative:a}){oe(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Yn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(wi),{pathname:h}=aa(),d=du(),m=Sm(i,wm(u),h,a==="path"),g=JSON.stringify(m);return L.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:a})},[d,g,a,t,e]),null}function lh(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pR({basename:i="/",children:t=null,location:e,navigationType:a="POP",navigator:o,static:u=!1}){oe(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof e=="string"&&(e=is(e));let{pathname:m="/",search:g="",hash:_="",state:b=null,key:S="default"}=e,O=L.useMemo(()=>{let M=rr(m,h);return M==null?null:{location:{pathname:M,search:g,hash:_,state:b,key:S},navigationType:a}},[h,m,g,_,b,S,a]);return zn(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(Yn.Provider,{value:d},L.createElement(fu.Provider,{children:t,value:O}))}function mR({children:i,location:t}){return tR(Gp(i),t)}function Gp(i,t=[]){let e=[];return L.Children.forEach(i,(a,o)=>{if(!L.isValidElement(a))return;let u=[...t,o];if(a.type===L.Fragment){e.push.apply(e,Gp(a.props.children,u));return}oe(a.type===lh,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Gp(a.props.children,u)),e.push(h)}),e}var uh="get",ch="application/x-www-form-urlencoded";function Hh(i){return i!=null&&typeof i.tagName=="string"}function gR(i){return Hh(i)&&i.tagName.toLowerCase()==="button"}function yR(i){return Hh(i)&&i.tagName.toLowerCase()==="form"}function _R(i){return Hh(i)&&i.tagName.toLowerCase()==="input"}function vR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ER(i,t){return i.button===0&&(!t||t==="_self")&&!vR(i)}var th=null;function TR(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(i){return i!=null&&!bR.has(i)?(zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):i}function wR(i,t){let e,a,o,u,h;if(yR(i)){let d=i.getAttribute("action");a=d?rr(d,t):null,e=i.getAttribute("method")||uh,o=Ap(i.getAttribute("enctype"))||ch,u=new FormData(i)}else if(gR(i)||_R(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(a=m?rr(m,t):null,e=i.getAttribute("formmethod")||d.getAttribute("method")||uh,o=Ap(i.getAttribute("formenctype"))||Ap(d.getAttribute("enctype"))||ch,u=new FormData(d,i),!TR()){let{name:g,type:_,value:b}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=uh,a=null,o=ch,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:e.toLowerCase(),encType:o,formData:u,body:h}}function Im(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function SR(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RR(i,t,e){let a=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await SR(u,e);return h.links?h.links():[]}return[]}));return xR(a.flat(1).filter(AR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(i,t,e,a,o,u){let h=(m,g)=>e[g]?m.route.id!==e[g].route.id:!0,d=(m,g)=>{var _;return e[g].pathname!==m.pathname||((_=e[g].route.path)==null?void 0:_.endsWith("*"))&&e[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{var b;let _=a.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function CR(i,t,{includeHydrateFallback:e}={}){return IR(i.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IR(i){return[...new Set(i)]}function DR(i){let t={},e=Object.keys(i).sort();for(let a of e)t[a]=i[a];return t}function xR(i,t){let e=new Set;return new Set(t),i.reduce((a,o)=>{let u=JSON.stringify(DR(o));return e.has(u)||(e.add(u),a.push({key:u,link:o})),a},[])}var NR=new Set([100,101,204,205]);function OR(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&rr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tT(){let i=L.useContext(wo);return Im(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function MR(){let i=L.useContext(qh);return Im(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dm=L.createContext(void 0);Dm.displayName="FrameworkContext";function eT(){let i=L.useContext(Dm);return Im(i,"You must render this element inside a <HydratedRouter> element"),i}function PR(i,t){let e=L.useContext(Dm),[a,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=t,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=F=>{F.forEach(K=>{h(K.isIntersecting)})},k=new IntersectionObserver(q,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[i]),L.useEffect(()=>{if(a){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[a]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return e?i!=="intent"?[u,S,{}]:[u,S,{onFocus:ql(d,O),onBlur:ql(m,M),onMouseEnter:ql(g,O),onMouseLeave:ql(_,M),onTouchStart:ql(b,O)}]:[!1,S,{}]}function ql(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function kR({page:i,...t}){let{router:e}=tT(),a=L.useMemo(()=>GE(e.routes,i,e.basename),[e.routes,i,e.basename]);return a?L.createElement(LR,{page:i,matches:a,...t}):null}function VR(i){let{manifest:t,routeModules:e}=eT(),[a,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return RR(i,t,e).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,e]),a}function LR({page:i,matches:t,...e}){let a=aa(),{manifest:o,routeModules:u}=eT(),{basename:h}=tT(),{loaderData:d,matches:m}=MR(),g=L.useMemo(()=>n0(i,t,m,o,a,"data"),[i,t,m,o,a]),_=L.useMemo(()=>n0(i,t,m,o,a,"assets"),[i,t,m,o,a]),b=L.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let M=new Set,q=!1;if(t.forEach(F=>{var z;let K=o.routes[F.route.id];!K||!K.hasLoader||(!g.some(nt=>nt.route.id===F.route.id)&&F.route.id in d&&((z=u[F.route.id])!=null&&z.shouldRevalidate)||K.hasClientLoader?q=!0:M.add(F.route.id))}),M.size===0)return[];let k=OR(i,h);return q&&M.size>0&&k.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[h,d,a,o,g,t,i,u]),S=L.useMemo(()=>CR(_,o),[_,o]),O=VR(_);return L.createElement(L.Fragment,null,b.map(M=>L.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...e})),S.map(M=>L.createElement("link",{key:M,rel:"modulepreload",href:M,...e})),O.map(({key:M,link:q})=>L.createElement("link",{key:M,...q})))}function UR(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.5.2")}catch{}function zR({basename:i,children:t,window:e}){let a=L.useRef();a.current==null&&(a.current=RA({window:e,v5Compat:!0}));let o=a.current,[u,h]=L.useState({action:o.action,location:o.location}),d=L.useCallback(m=>{L.startTransition(()=>h(m))},[h]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(pR,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rT=L.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:_,viewTransition:b,...S},O){let{basename:M}=L.useContext(Yn),q=typeof g=="string"&&iT.test(g),k,F=!1;if(typeof g=="string"&&q&&(k=g,nT))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),N=rr(I.pathname,M);I.origin===R.origin&&N!=null?g=N+I.search+I.hash:F=!0}catch{zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=ZA(g,{relative:o}),[z,nt,et]=PR(a,S),ut=HR(g,{replace:h,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:b});function C(R){t&&t(R),R.defaultPrevented||ut(R)}let A=L.createElement("a",{...S,...et,href:k||K,onClick:F||u?t:C,ref:UR(O,nt),target:m,"data-discover":!q&&e==="render"?"true":void 0});return z&&!q?L.createElement(L.Fragment,null,A,L.createElement(kR,{page:K})):A});rT.displayName="Link";var BR=L.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},_){let b=pu(h,{relative:g.relative}),S=aa(),O=L.useContext(qh),{navigator:M,basename:q}=L.useContext(Yn),k=O!=null&&QR(b)&&d===!0,F=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,K=S.pathname,z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;e||(K=K.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&q&&(z=rr(z,q)||z);const nt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let et=K===F||!o&&K.startsWith(F)&&K.charAt(nt)==="/",ut=z!=null&&(z===F||!o&&z.startsWith(F)&&z.charAt(F.length)==="/"),C={isActive:et,isPending:ut,isTransitioning:k},A=et?t:void 0,R;typeof a=="function"?R=a(C):R=[a,et?"active":null,ut?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(C):u;return L.createElement(rT,{...g,"aria-current":A,className:R,ref:_,style:I,to:h,viewTransition:d},typeof m=="function"?m(C):m)});BR.displayName="NavLink";var jR=L.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:o,state:u,method:h=uh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:b,...S},O)=>{let M=$R(),q=KR(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&iT.test(d),K=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let nt=z.nativeEvent.submitter,et=(nt==null?void 0:nt.getAttribute("formmethod"))||h;M(nt||z.currentTarget,{fetcherKey:t,method:et,navigate:e,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return L.createElement("form",{ref:O,method:k,action:q,onSubmit:a?m:K,...S,"data-discover":!F&&i==="render"?"true":void 0})});jR.displayName="Form";function qR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(i){let t=L.useContext(wo);return oe(t,qR(i)),t}function HR(i,{target:t,replace:e,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=du(),m=aa(),g=pu(i,{relative:u});return L.useCallback(_=>{if(ER(_,t)){_.preventDefault();let b=e!==void 0?e:tu(m)===tu(g);d(i,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,e,a,t,i,o,u,h])}var FR=0,GR=()=>`__${String(++FR)}__`;function $R(){let{router:i}=aT("useSubmit"),{basename:t}=L.useContext(Yn),e=uR();return L.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=wR(a,t);if(o.navigate===!1){let _=o.fetcherKey||GR();await i.fetch(_,e,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,e])}function KR(i,{relative:t}={}){let{basename:e}=L.useContext(Yn),a=L.useContext(wi);oe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...pu(i||".",{relative:t})},h=aa();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:tr([e,u.pathname])),tu(u)}function QR(i,t={}){let e=L.useContext(YE);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=aT("useViewTransitionState"),o=pu(i,{relative:t.relative});if(!e.isTransitioning)return!1;let u=rr(e.currentLocation.pathname,a)||e.currentLocation.pathname,h=rr(e.nextLocation.pathname,a)||e.nextLocation.pathname;return Th(o.pathname,h)!=null||Th(o.pathname,u)!=null}new TextEncoder;[...NR];const YR=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(i){const t=[];let e=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},XR=function(i){const t=[];let e=0,a=0;for(;e<i.length;){const o=i[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],h=i[e++],d=i[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=i[e++],h=i[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,_=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,O=g&63;m||(O=64,h||(S=64)),a.push(e[_],e[b],e[S],e[O])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(sT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):XR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const b=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new WR;const S=u<<2|d>>4;if(a.push(S),g!==64){const O=d<<4&240|g>>2;if(a.push(O),b!==64){const M=g<<6&192|b;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(i){const t=sT(i);return oT.encodeByteArray(t,!0)},bh=function(i){return ZR(i).replace(/\./g,"")},lT=function(i){try{return oT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=()=>JR().__FIREBASE_DEFAULTS__,e1=()=>{if(typeof process>"u"||typeof i0>"u")return;const i=i0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},n1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&lT(i[1]);return t&&JSON.parse(t)},Fh=()=>{try{return YR()||t1()||e1()||n1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uT=i=>{var t,e;return(e=(t=Fh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},i1=i=>{const t=uT(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},cT=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config},hT=i=>{var t;return(t=Fh())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bh(JSON.stringify(e)),bh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function o1(){var i;const t=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function f1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((i,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class cr extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=m1,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?g1(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new cr(o,d,a)}}function g1(i,t){return i.replace(y1,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const y1=/\{\$([^}]+)}/g;function _1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ya(i,t){if(i===t)return!0;const e=Object.keys(i),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=i[o],h=t[o];if(r0(u)&&r0(h)){if(!Ya(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function r0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const t=[];for(const[e,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Fl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Gl(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function v1(i,t){const e=new E1(i,t);return e.subscribe.bind(e)}class E1{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");T1(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Rp),o.error===void 0&&(o.error=Rp),o.complete===void 0&&(o.complete=Rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T1(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(i){return i&&i._delegate?i._delegate:i}class Xa{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new r1;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S1(t))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=$a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$a){return this.instances.has(t)}getOptions(t=$a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){var a;const o=this.normalizeInstanceIdentifier(e),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:w1(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=$a){return this.component?this.component.multipleInstances?t:$a:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w1(i){return i===$a?void 0:i}function S1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new b1(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Vt||(Vt={}));const R1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},C1=Vt.INFO,I1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},D1=(i,t,...e)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),o=I1[t];if(o)console[o](`[${a}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xm{constructor(t){this.name=t,this._logLevel=C1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const x1=(i,t)=>t.some(e=>i instanceof e);let a0,s0;function N1(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O1(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,$p=new WeakMap,dT=new WeakMap,Cp=new WeakMap,Nm=new WeakMap;function M1(i){const t=new Promise((e,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{e(Qr(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&fT.set(e,i)}).catch(()=>{}),Nm.set(t,i),t}function P1(i){if($p.has(i))return;const t=new Promise((e,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});$p.set(i,t)}let Kp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return $p.get(i);if(t==="objectStoreNames")return i.objectStoreNames||dT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function k1(i){Kp=i(Kp)}function V1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=i.call(Ip(this),t,...e);return dT.set(a,t.sort?t.sort():[t]),Qr(a)}:O1().includes(i)?function(...t){return i.apply(Ip(this),t),Qr(fT.get(this))}:function(...t){return Qr(i.apply(Ip(this),t))}}function L1(i){return typeof i=="function"?V1(i):(i instanceof IDBTransaction&&P1(i),x1(i,N1())?new Proxy(i,Kp):i)}function Qr(i){if(i instanceof IDBRequest)return M1(i);if(Cp.has(i))return Cp.get(i);const t=L1(i);return t!==i&&(Cp.set(i,t),Nm.set(t,i)),t}const Ip=i=>Nm.get(i);function U1(i,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),d=Qr(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Qr(h.result),m.oldVersion,m.newVersion,Qr(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const z1=["get","getKey","getAll","getAllKeys","count"],B1=["put","add","delete","clear"],Dp=new Map;function o0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Dp.get(t))return Dp.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=B1.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||z1.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Dp.set(t,u),u}k1(i=>({...i,get:(t,e,a)=>o0(t,e)||i.get(t,e,a),has:(t,e)=>!!o0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(q1(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function q1(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qp="@firebase/app",l0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new xm("@firebase/app"),H1="@firebase/app-compat",F1="@firebase/analytics-compat",G1="@firebase/analytics",$1="@firebase/app-check-compat",K1="@firebase/app-check",Q1="@firebase/auth",Y1="@firebase/auth-compat",X1="@firebase/database",W1="@firebase/data-connect",Z1="@firebase/database-compat",J1="@firebase/functions",tC="@firebase/functions-compat",eC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",rC="@firebase/messaging-compat",aC="@firebase/performance",sC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",hC="@firebase/firestore",fC="@firebase/vertexai",dC="@firebase/firestore-compat",pC="firebase",mC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",gC={[Qp]:"fire-core",[H1]:"fire-core-compat",[G1]:"fire-analytics",[F1]:"fire-analytics-compat",[K1]:"fire-app-check",[$1]:"fire-app-check-compat",[Q1]:"fire-auth",[Y1]:"fire-auth-compat",[X1]:"fire-rtdb",[W1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[J1]:"fire-fn",[tC]:"fire-fn-compat",[eC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[rC]:"fire-fcm-compat",[aC]:"fire-perf",[sC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[hC]:"fire-fst",[dC]:"fire-fst-compat",[fC]:"fire-vertex","fire-js":"fire-js",[pC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,yC=new Map,Xp=new Map;function u0(i,t){try{i.container.addComponent(t)}catch(e){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function fo(i){const t=i.name;if(Xp.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;Xp.set(t,i);for(const e of wh.values())u0(e,i);for(const e of yC.values())u0(e,i);return!0}function Om(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new mu("app","Firebase",_C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=mC;function pT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(e||(e=cT()),!e)throw Yr.create("no-options");const u=wh.get(o);if(u){if(Ya(e,u.options)&&Ya(a,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const h=new A1(o);for(const m of Xp.values())h.addComponent(m);const d=new vC(e,a,h);return wh.set(o,d),d}function mT(i=Yp){const t=wh.get(i);if(!t&&i===Yp&&cT())return pT();if(!t)throw Yr.create("no-app",{appName:i});return t}function Xr(i,t,e){var a;let o=(a=gC[i])!==null&&a!==void 0?a:i;e&&(o+=`-${e}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}fo(new Xa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",TC=1,eu="firebase-heartbeat-store";let xp=null;function gT(){return xp||(xp=U1(EC,TC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(eu)}catch(e){console.warn(e)}}}}).catch(i=>{throw Yr.create("idb-open",{originalErrorMessage:i.message})})),xp}async function bC(i){try{const e=(await gT()).transaction(eu),a=await e.objectStore(eu).get(yT(i));return await e.done,a}catch(t){if(t instanceof cr)ar.warn(t.message);else{const e=Yr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(e.message)}}}async function c0(i,t){try{const a=(await gT()).transaction(eu,"readwrite");await a.objectStore(eu).put(t,yT(i)),await a.done}catch(e){if(e instanceof cr)ar.warn(e.message);else{const a=Yr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ar.warn(a.message)}}}function yT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,SC=30;class AC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CC(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>SC){const h=IC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ar.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h0(),{heartbeatsToSend:a,unsentEntries:o}=RC(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ar.warn(e),""}}}function h0(){return new Date().toISOString().substring(0,10)}function RC(i,t=wC){const e=[];let a=i.slice();for(const o of i){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),f0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),f0(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class CC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await bC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function f0(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function IC(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let a=1;a<i.length;a++)i[a].date<e&&(e=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){fo(new Xa("platform-logger",t=>new j1(t),"PRIVATE")),fo(new Xa("heartbeat",t=>new AC(t),"PRIVATE")),Xr(Qp,l0,i),Xr(Qp,l0,"esm2017"),Xr("fire-js","")}DC("");var xC="firebase",NC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(xC,NC,"app");var Wp=function(i,t){return Wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])},Wp(i,t)};function OC(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wp(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ze=function(){return ze=Object.assign||function(t){for(var e,a=1,o=arguments.length;a<o;a++){e=arguments[a];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u])}return t},ze.apply(this,arguments)};function Mm(i,t){var e={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(e[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(e[a[o]]=i[a[o]]);return e}function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=_T,vT=new mu("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new xm("@firebase/auth");function PC(i,...t){Sh.logLevel<=Vt.WARN&&Sh.warn(`Auth (${Ao}): ${i}`,...t)}function hh(i,...t){Sh.logLevel<=Vt.ERROR&&Sh.error(`Auth (${Ao}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(i,...t){throw Pm(i,...t)}function yi(i,...t){return Pm(i,...t)}function ET(i,t,e){const a=Object.assign(Object.assign({},MC()),{[t]:e});return new mu("auth","Firebase",a).create(t,{appName:i.name})}function er(i){return ET(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(i,...t){if(typeof i!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(e,...a)}return vT.create(i,...t)}function Et(i,t,...e){if(!i)throw Pm(t,...e)}function Wi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw hh(t),new Error(t)}function sr(i,t){i||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function kC(){return d0()==="http:"||d0()==="https:"}function d0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kC()||u1()||"connection"in navigator)?navigator.onLine:!0}function LC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,sr(e>t,"Short delay should be less than long delay!"),this.isMobile=s1()||c1()}get(){return VC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(i,t){sr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new yu(3e4,6e4);function hr(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Xn(i,t,e,a,o={}){return bT(i,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=gu(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:m},u);return l1()||(g.referrerPolicy="no-referrer"),TT.fetch()(wT(i,i.config.apiHost,e,d),g)})}async function bT(i,t,e){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},UC),t);try{const o=new jC(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw eh(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw eh(i,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ET(i,_,g);$n(i,_)}}catch(o){if(o instanceof cr)throw o;$n(i,"network-request-failed",{message:String(o)})}}async function _u(i,t,e,a,o={}){const u=await Xn(i,t,e,a,o);return"mfaPendingCredential"in u&&$n(i,"multi-factor-auth-required",{_serverResponse:u}),u}function wT(i,t,e,a){const o=`${t}${e}?${a}`;return i.config.emulator?km(i.config,o):`${i.config.apiScheme}://${o}`}function BC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(yi(this.auth,"network-request-failed")),zC.get())})}}function eh(i,t,e){const a={appName:i.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=yi(i,t,a);return o.customData._tokenResponse=e,o}function p0(i){return i!==void 0&&i.enterprise!==void 0}class qC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return BC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HC(i,t){return Xn(i,"GET","/v2/recaptchaConfig",hr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(i,t){return Xn(i,"POST","/v1/accounts:delete",t)}async function ST(i,t){return Xn(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GC(i,t=!1){const e=pe(i),a=await e.getIdToken(t),o=Vm(a);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Xl(Np(o.auth_time)),issuedAtTime:Xl(Np(o.iat)),expirationTime:Xl(Np(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Np(i){return Number(i)*1e3}function Vm(i){const[t,e,a]=i.split(".");if(t===void 0||e===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lT(e);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m0(i){const t=Vm(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(i,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof cr&&$C(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function $C({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){var t;const e=i.auth,a=await i.getIdToken(),o=await Wa(i,ST(e,{idToken:a}));Et(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?AT(u.providerUserInfo):[],d=YC(i.providerData,h),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Jp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,b)}async function QC(i){const t=pe(i);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YC(i,t){return[...i.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function AT(i){return i.map(t=>{var{providerId:e}=t,a=Mm(t,["providerId"]);return{providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,t){const e=await bT(i,{},async()=>{const a=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=wT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",TT.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function WC(i,t){return Xn(i,"POST","/v2/accounts:revokeToken",hr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=m0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await XC(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new so;return a&&(Et(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Zi{constructor(t){var{uid:e,auth:a,stsTokenManager:o}=t,u=Mm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await Wa(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return GC(this,t)}reload(){return QC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Wa(this,FC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var a,o,u,h,d,m,g,_;const b=(a=e.displayName)!==null&&a!==void 0?a:void 0,S=(o=e.email)!==null&&o!==void 0?o:void 0,O=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=e.photoURL)!==null&&h!==void 0?h:void 0,q=(d=e.tenantId)!==null&&d!==void 0?d:void 0,k=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,F=(g=e.createdAt)!==null&&g!==void 0?g:void 0,K=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:z,emailVerified:nt,isAnonymous:et,providerData:ut,stsTokenManager:C}=e;Et(z&&C,t,"internal-error");const A=so.fromJSON(this.name,C);Et(typeof z=="string",t,"internal-error"),qr(b,t.name),qr(S,t.name),Et(typeof nt=="boolean",t,"internal-error"),Et(typeof et=="boolean",t,"internal-error"),qr(O,t.name),qr(M,t.name),qr(q,t.name),qr(k,t.name),qr(F,t.name),qr(K,t.name);const R=new Zi({uid:z,auth:t,email:S,emailVerified:nt,displayName:b,isAnonymous:et,photoURL:M,phoneNumber:O,tenantId:q,stsTokenManager:A,createdAt:F,lastLoginAt:K});return ut&&Array.isArray(ut)&&(R.providerData=ut.map(I=>Object.assign({},I))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(t,e,a=!1){const o=new so;o.updateFromServerResponse(e);const u=new Zi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Ah(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new so;d.updateFromIdToken(a);const m=new Zi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function Ji(i){sr(i instanceof Function,"Expected a class definition");let t=g0.get(i);return t?(sr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,g0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}RT.type="NONE";const y0=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(i,t,e){return`firebase:${i}:${t}:${e}`}class oo{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new oo(Ji(y0),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(y0);const h=fh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){const b=Zi._fromJSON(t,_);g!==u&&(d=b),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new oo(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new oo(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OT(t))return"Blackberry";if(MT(t))return"Webos";if(IT(t))return"Safari";if((t.includes("chrome/")||DT(t))&&!t.includes("edge/"))return"Chrome";if(NT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function CT(i=en()){return/firefox\//i.test(i)}function IT(i=en()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DT(i=en()){return/crios\//i.test(i)}function xT(i=en()){return/iemobile/i.test(i)}function NT(i=en()){return/android/i.test(i)}function OT(i=en()){return/blackberry/i.test(i)}function MT(i=en()){return/webos/i.test(i)}function Lm(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZC(i=en()){var t;return Lm(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JC(){return h1()&&document.documentMode===10}function PT(i=en()){return Lm(i)||NT(i)||MT(i)||OT(i)||/windows phone/i.test(i)||xT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(i,t=[]){let e;switch(i){case"Browser":e=_0(en());break;case"Worker":e=`${_0(en())}-${i}`;break;default:e=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ao}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(i,t={}){return Xn(i,"GET","/v2/passwordPolicy",hr(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var e,a,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:nI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,a,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ji(e)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ST(this,{idToken:t}),a=await Zi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ln(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=LC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(er(this));const e=t?pe(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),e=new iI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new mu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await WC(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ji(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Ji(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(e["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&PC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sa(i){return pe(i)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=v1(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(i){Gh=i}function VT(i){return Gh.loadJS(i)}function sI(){return Gh.recaptchaEnterpriseScript}function oI(){return Gh.gapiScript}function lI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uI{constructor(){this.enterprise=new cI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class cI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const hI="recaptcha-enterprise",LT="NO_RECAPTCHA";class fI{constructor(t){this.type=hI,this.auth=sa(t)}async verify(t="verify",e=!1){async function a(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{HC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new qC(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;p0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(LT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!e&&p0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sI();m.length!==0&&(m+=d),VT(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function E0(i,t,e,a=!1,o=!1){const u=new fI(i);let h;if(o)h=LT;else try{h=await u.verify(e)}catch{h=await u.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Rh(i,t,e,a,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await E0(i,t,e,e==="getOobCode");return a(i,h)}else return a(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await E0(i,t,e,e==="getOobCode");return a(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(i,t){const e=Om(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ya(u,t??{}))return o;$n(o,"already-initialized")}return e.initialize({options:t})}function pI(i,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Ji);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function mI(i,t,e){const a=sa(i);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=UT(t),{host:h,port:d}=gI(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Ya(g,a.config.emulator)&&Ya(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,yI()}function UT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function gI(i){const t=UT(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:T0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:T0(h)}}}function T0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function yI(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,e){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function _I(i,t){return Xn(i,"POST","/v1/accounts:update",t)}async function vI(i,t){return Xn(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,t){return _u(i,"POST","/v1/accounts:signInWithPassword",hr(i,t))}async function TI(i,t){return Xn(i,"POST","/v1/accounts:sendOobCode",hr(i,t))}async function bI(i,t){return TI(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,t){return _u(i,"POST","/v1/accounts:signInWithEmailLink",hr(i,t))}async function SI(i,t){return _u(i,"POST","/v1/accounts:signInWithEmailLink",hr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Um{constructor(t,e,a,o=null){super("password",a),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new nu(t,e,"password")}static _fromEmailAndCode(t,e,a=null){return new nu(t,e,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(t,e,"signInWithPassword",EI);case"emailLink":return wI(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const a={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(t,a,"signUpPassword",vI);case"emailLink":return SI(t,{idToken:e,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(i,t){return _u(i,"POST","/v1/accounts:signInWithIdp",hr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Za extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Za(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$n("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=e,u=Mm(e,["providerId","signInMethod"]);if(!a||!o)return null;const h=new Za(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return lo(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,lo(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,lo(t,e)}buildRequest(){const t={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CI(i){const t=Fl(Gl(i)).link,e=t?Fl(Gl(t)).deep_link_id:null,a=Fl(Gl(i)).deep_link_id;return(a?Fl(Gl(a)).link:null)||a||e||t||i}class zm{constructor(t){var e,a,o,u,h,d;const m=Fl(Gl(t)),g=(e=m.apiKey)!==null&&e!==void 0?e:null,_=(a=m.oobCode)!==null&&a!==void 0?a:null,b=RI((o=m.mode)!==null&&o!==void 0?o:null);Et(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=CI(t);try{return new zm(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.providerId=rs.PROVIDER_ID}static credential(t,e){return nu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const a=zm.parseLink(e);return Et(a,"argument-error"),nu._fromEmailAndCode(t,a.code,a.tenantId)}}rs.PROVIDER_ID="password";rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends vu{constructor(){super("facebook.com")}static credential(t){return Za._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Za._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Fr.credential(e,a)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends vu{constructor(){super("github.com")}static credential(t){return Za._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends vu{constructor(){super("twitter.com")}static credential(t,e){return Za._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return $r.credential(e,a)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,t){return _u(i,"POST","/v1/accounts:signUp",hr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await Zi._fromIdTokenResponse(t,a,o),h=b0(a);return new Ja({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=b0(a);return new Ja({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function b0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends cr{constructor(t,e,a,o){var u;super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Ch(t,e,a,o)}}function BT(i,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(i,u,t,a):u})}async function DI(i,t,e=!1){const a=await Wa(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Ja._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(i,t,e=!1){const{auth:a}=i;if(Ln(a.app))return Promise.reject(er(a));const o="reauthenticate";try{const u=await Wa(i,BT(a,o,t,i),e);Et(u.idToken,a,"internal-error");const h=Vm(u.idToken);Et(h,a,"internal-error");const{sub:d}=h;return Et(i.uid===d,a,"user-mismatch"),Ja._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(i,t,e=!1){if(Ln(i.app))return Promise.reject(er(i));const a="signIn",o=await BT(i,a,t),u=await Ja._fromIdTokenResponse(i,a,o);return e||await i._updateCurrentUser(u.user),u}async function xI(i,t){return qT(sa(i),t)}async function NI(i,t){return jT(pe(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(i){const t=sa(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function OI(i,t,e){const a=sa(i);await Rh(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bI)}async function MI(i,t,e){if(Ln(i.app))return Promise.reject(er(i));const a=sa(i),h=await Rh(a,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",II).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&HT(i),m}),d=await Ja._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function PI(i,t,e){return Ln(i.app)?Promise.reject(er(i)):xI(pe(i),rs.credential(t,e)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&HT(i),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,t){return Xn(i,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const a=pe(i),u={idToken:await a.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},h=await Wa(a,kI(a.auth,u));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const d=a.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function LI(i,t){return UI(pe(i),null,t)}async function UI(i,t,e){const{auth:a}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(u.password=e);const h=await Wa(i,_I(a,u));await i._updateTokensIfNecessary(h,!0)}function zI(i,t,e,a){return pe(i).onIdTokenChanged(t,e,a)}function BI(i,t,e){return pe(i).beforeAuthStateChanged(t,e)}function jI(i,t,e,a){return pe(i).onAuthStateChanged(t,e,a)}async function qI(i){return pe(i).delete()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1e3,FI=10;class GT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);JC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FI):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}GT.type="LOCAL";const GI=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}$T.type="SESSION";const KT=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new $h(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await $I(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(i="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Bm("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function QI(i){_i().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function YI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function WI(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",ZI=1,Dh="firebaseLocalStorage",XT="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Kh(i,t){return i.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function JI(){const i=indexedDB.deleteDatabase(YT);return new Eu(i).toPromise()}function tm(){const i=indexedDB.open(YT,ZI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Dh,{keyPath:XT})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Dh)?t(a):(a.close(),await JI(),t(await tm()))})})}async function w0(i,t,e){const a=Kh(i,!0).put({[XT]:t,value:e});return new Eu(a).toPromise()}async function tD(i,t){const e=Kh(i,!1).get(t),a=await new Eu(e).toPromise();return a===void 0?null:a.value}function S0(i,t){const e=Kh(i,!0).delete(t);return new Eu(e).toPromise()}const eD=800,nD=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>nD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(WI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((e=a[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await w0(t,Ih,"1"),await S0(t,Ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>tD(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>S0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const iD=WT;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i,t){return t?Ji(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Um{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return lo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function aD(i){return qT(i.auth,new jm(i),i.bypassAuthState)}function sD(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),jT(e,new jm(i),i.bypassAuthState)}async function oD(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),DI(e,new jm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:$n(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new yu(2e3,1e4);class ao extends ZT{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if(!((a=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lD.get())};t()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="pendingRedirect",dh=new Map;class cD extends ZT{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=dh.get(this.auth._key());if(!t){try{const a=await hD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}dh.set(this.auth._key(),t)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hD(i,t){const e=pD(t),a=dD(i);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function fD(i,t){dh.set(i._key(),t)}function dD(i){return Ji(i._redirectPersistence)}function pD(i){return fh(uD,i.config.apiKey,i.name)}async function mD(i,t,e=!1){if(Ln(i.app))return Promise.reject(er(i));const a=sa(i),o=rD(a,t),h=await new cD(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=10*60*1e3;class yD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_D(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!JT(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";e.onError(yi(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gD&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(t))}saveEventToCache(t){this.cachedEventUids.add(A0(t)),this.lastProcessedEventTime=Date.now()}}function A0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function JT({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _D(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(i,t={}){return Xn(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function bD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await vD(i);for(const e of t)try{if(wD(e))return}catch{}$n(i,"unauthorized-domain")}function wD(i){const t=Zp(),{protocol:e,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!TD.test(e))return!1;if(ED.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new yu(3e4,6e4);function R0(){const i=_i().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function AD(i){return new Promise((t,e)=>{var a,o,u;function h(){R0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R0(),e(yi(i,"network-request-failed"))},timeout:SD.get()})}if(!((o=(a=_i().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)h();else{const d=lI("iframefcb");return _i()[d]=()=>{gapi.load?h():e(yi(i,"network-request-failed"))},VT(`${oI()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw ph=null,t})}let ph=null;function RD(i){return ph=ph||AD(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new yu(5e3,15e3),ID="__/auth/iframe",DD="emulator/auth/iframe",xD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OD(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?km(t,DD):`https://${i.config.authDomain}/${ID}`,a={apiKey:t.apiKey,appName:i.name,v:Ao},o=ND.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${gu(a).slice(1)}`}async function MD(i){const t=await RD(i),e=_i().gapi;return Et(e,i,"internal-error"),t.open({where:document.body,url:OD(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=yi(i,"network-request-failed"),d=_i().setTimeout(()=>{u(h)},CD.get());function m(){_i().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kD=500,VD=600,LD="_blank",UD="http://localhost";class C0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zD(i,t,e,a=kD,o=VD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},PD),{width:a.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();e&&(d=DT(g)?LD:e),CT(g)&&(t=t||UD,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[O,M])=>`${S}${O}=${M},`,"");if(ZC(g)&&d!=="_self")return BD(t||"",d),new C0(null);const b=window.open(t||"",d,_);Et(b,i,"popup-blocked");try{b.focus()}catch{}return new C0(b)}function BD(i,t){const e=document.createElement("a");e.href=i,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="__/auth/handler",qD="emulator/auth/handler",HD=encodeURIComponent("fac");async function I0(i,t,e,a,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:a,v:Ao,eventId:o};if(t instanceof zT){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",_1(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(t instanceof vu){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await i._getAppCheckToken(),g=m?`#${HD}=${encodeURIComponent(m)}`:"";return`${FD(i)}?${gu(d).slice(1)}${g}`}function FD({config:i}){return i.emulator?km(i,qD):`https://${i.authDomain}/${jD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class GD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=mD,this._overrideRedirectResult=fD}async _openPopup(t,e,a,o){var u;sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await I0(t,e,a,Zp(),o);return zD(t,h,Bm())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await I0(t,e,a,Zp(),o);return QI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await MD(t),a=new yD(t);return e.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Op,{type:Op},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Op];h!==void 0&&e(!!h),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=bD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return PT()||IT()||Lm()}}const $D=GD;var D0="@firebase/auth",x0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(i){fo(new Xa("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Et(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(i)},g=new rI(a,o,u,m);return pI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),fo(new Xa("auth-internal",t=>{const e=sa(t.getProvider("auth").getImmediate());return(a=>new KD(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(D0,x0,QD(i)),Xr(D0,x0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=5*60,WD=hT("authIdTokenMaxAge")||XD;let N0=null;const ZD=i=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>WD)return;const o=e==null?void 0:e.token;N0!==o&&(N0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JD(i=mT()){const t=Om(i,"auth");if(t.isInitialized())return t.getImmediate();const e=dI(i,{popupRedirectResolver:$D,persistence:[iD,GI,KT]}),a=hT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=ZD(u.toString());BI(e,h,()=>h(e.currentUser)),zI(e,d=>h(d))}}const o=uT("auth");return o&&mI(e,`http://${o}`),e}function t2(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}aI({loadJS(i){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=o=>{const u=yi("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",t2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,tb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function R(){}R.prototype=A.prototype,C.D=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(I,N,P){for(var D=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)D[kt-2]=arguments[kt];return A.prototype[N].apply(I,D)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);var I=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)I[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];var P=C.g[3],D=A+(P^R&(N^P))+I[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=P+(N^A&(R^N))+I[1]+3905402710&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(R^P&(A^R))+I[2]+606105819&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(A^N&(P^A))+I[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=A+(P^R&(N^P))+I[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(N^A&(R^N))+I[5]+1200080426&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(R^P&(A^R))+I[6]+2821735955&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(A^N&(P^A))+I[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=A+(P^R&(N^P))+I[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(N^A&(R^N))+I[9]+2336552879&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(R^P&(A^R))+I[10]+4294925233&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(A^N&(P^A))+I[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=A+(P^R&(N^P))+I[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(N^A&(R^N))+I[13]+4254626195&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(R^P&(A^R))+I[14]+2792965006&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(A^N&(P^A))+I[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=A+(N^P&(R^N))+I[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(A^R))+I[6]+3225465664&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^R&(P^A))+I[11]+643717713&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(N^P))+I[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(R^N))+I[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(A^R))+I[10]+38016083&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^R&(P^A))+I[15]+3634488961&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(N^P))+I[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(R^N))+I[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(A^R))+I[14]+3275163606&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^R&(P^A))+I[3]+4107603335&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(N^P))+I[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(R^N))+I[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(A^R))+I[2]+4243563512&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^R&(P^A))+I[7]+1735328473&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(N^P))+I[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=A+(R^N^P)+I[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^N)+I[8]+2272392833&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^R)+I[11]+1839030562&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^A)+I[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=A+(R^N^P)+I[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^N)+I[4]+1272893353&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^R)+I[7]+4139469664&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^A)+I[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=A+(R^N^P)+I[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^N)+I[0]+3936430074&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^R)+I[3]+3572445317&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^A)+I[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=A+(R^N^P)+I[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^N)+I[12]+3873151461&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^R)+I[15]+530742520&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^A)+I[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=A+(N^(R|~P))+I[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~N))+I[7]+1126891415&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~R))+I[14]+2878612391&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~A))+I[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=A+(N^(R|~P))+I[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~N))+I[3]+2399980690&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~R))+I[10]+4293915773&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~A))+I[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=A+(N^(R|~P))+I[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~N))+I[15]+4264355552&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~R))+I[6]+2734768916&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~A))+I[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=A+(N^(R|~P))+I[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~N))+I[11]+3174756917&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~R))+I[2]+718787259&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~A))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+P&4294967295}a.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var R=A-this.blockSize,I=this.B,N=this.h,P=0;P<A;){if(N==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(I[N++]=C.charCodeAt(P++),N==this.blockSize){o(this,I),N=0;break}}else for(;P<A;)if(I[N++]=C[P++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=A},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var R=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=R&255,R/=256;for(this.u(C),C=Array(16),A=R=0;4>A;++A)for(var I=0;32>I;I+=8)C[R++]=this.g[A]>>>I&255;return C};function u(C,A){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function h(C,A){this.h=A;for(var R=[],I=!0,N=C.length-1;0<=N;N--){var P=C[N]|0;I&&P==A||(R[N]=P,I=!1)}this.g=R}var d={};function m(C){return-128<=C&&128>C?u(C,function(A){return new h([A|0],0>A?-1:0)}):new h([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return k(g(-C));for(var A=[],R=1,I=0;C>=R;I++)A[I]=C/R|0,R*=4294967296;return new h(A,0)}function _(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return k(_(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),I=b,N=0;N<C.length;N+=8){var P=Math.min(8,C.length-N),D=parseInt(C.substring(N,N+P),A);8>P?(P=g(Math.pow(A,P)),I=I.j(P).add(g(D))):(I=I.j(R),I=I.add(g(D)))}return I}var b=m(0),S=m(1),O=m(16777216);i=h.prototype,i.m=function(){if(q(this))return-k(this).m();for(var C=0,A=1,R=0;R<this.g.length;R++){var I=this.i(R);C+=(0<=I?I:4294967296+I)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(q(this))return"-"+k(this).toString(C);for(var A=g(Math.pow(C,6)),R=this,I="";;){var N=nt(R,A).g;R=F(R,N.j(A));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=N,M(R))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function q(C){return C.h==-1}i.l=function(C){return C=F(this,C),q(C)?-1:M(C)?0:1};function k(C){for(var A=C.g.length,R=[],I=0;I<A;I++)R[I]=~C.g[I];return new h(R,~C.h).add(S)}i.abs=function(){return q(this)?k(this):this},i.add=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],I=0,N=0;N<=A;N++){var P=I+(this.i(N)&65535)+(C.i(N)&65535),D=(P>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);I=D>>>16,P&=65535,D&=65535,R[N]=D<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function F(C,A){return C.add(k(A))}i.j=function(C){if(M(this)||M(C))return b;if(q(this))return q(C)?k(this).j(k(C)):k(k(this).j(C));if(q(C))return k(this.j(k(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var A=this.g.length+C.g.length,R=[],I=0;I<2*A;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<C.g.length;N++){var P=this.i(I)>>>16,D=this.i(I)&65535,kt=C.i(N)>>>16,xt=C.i(N)&65535;R[2*I+2*N]+=D*xt,K(R,2*I+2*N),R[2*I+2*N+1]+=P*xt,K(R,2*I+2*N+1),R[2*I+2*N+1]+=D*kt,K(R,2*I+2*N+1),R[2*I+2*N+2]+=P*kt,K(R,2*I+2*N+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new h(R,0)};function K(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function z(C,A){this.g=C,this.h=A}function nt(C,A){if(M(A))throw Error("division by zero");if(M(C))return new z(b,b);if(q(C))return A=nt(k(C),A),new z(k(A.g),k(A.h));if(q(A))return A=nt(C,k(A)),new z(k(A.g),A.h);if(30<C.g.length){if(q(C)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,I=A;0>=I.l(C);)R=et(R),I=et(I);var N=ut(R,1),P=ut(I,1);for(I=ut(I,2),R=ut(R,2);!M(I);){var D=P.add(I);0>=D.l(C)&&(N=N.add(R),P=D),I=ut(I,1),R=ut(R,1)}return A=F(C,N.j(A)),new z(N,A)}for(N=b;0<=C.l(A);){for(R=Math.max(1,Math.floor(C.m()/A.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=g(R),D=P.j(A);q(D)||0<D.l(C);)R-=I,P=g(R),D=P.j(A);M(P)&&(P=S),N=N.add(P),C=F(C,D)}return new z(N,C)}i.A=function(C){return nt(this,C).h},i.and=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)&C.i(I);return new h(R,this.h&C.h)},i.or=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)|C.i(I);return new h(R,this.h|C.h)},i.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)^C.i(I);return new h(R,this.h^C.h)};function et(C){for(var A=C.g.length+1,R=[],I=0;I<A;I++)R[I]=C.i(I)<<1|C.i(I-1)>>>31;return new h(R,C.h)}function ut(C,A){var R=A>>5;A%=32;for(var I=C.g.length-R,N=[],P=0;P<I;P++)N[P]=0<A?C.i(P+R)>>>A|C.i(P+R+1)<<32-A:C.i(P+R);return new h(N,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,tb=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Wr=h}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,$l,nb,mh,em,ib,rb,ab;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in v))break t;v=v[H]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,H={next:function(){if(!w&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,S.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,H,X){for(var ot=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ot[zt-2]=arguments[zt];return y.prototype[H].apply(w,ot)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function k(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(m(w)){const H=c.length||0,X=w.length||0;c.length=H+X;for(let ot=0;ot<X;ot++)c[H+ot]=w[ot]}else c.push(w)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function nt(c){return nt[" "](c),c}nt[" "]=function(){};var et=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ut(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function C(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(v in w)c[v]=w[v];for(let X=0;X<R.length;X++)v=R[X],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ut;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class kt{constructor(){this.h=this.g=null}add(y,v){const w=xt.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var xt=new F(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,pt=!1,Ut=new kt,V=()=>{const c=d.Promise.resolve(void 0);lt=()=>{c.then(at)}};var at=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){P(v)}var y=xt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Nt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(et){t:{try{nt(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Nt.aa.h.call(this)}}M(Nt,st);var St={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ee=0;function Wn(c,y,v,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=H,this.key=++ee,this.da=this.fa=!1}function dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,v,w,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ot=ca(c,y,w,H);return-1<ot?(y=c[ot],v||(y.fa=!1)):(y=new Wn(y,this.src,X,!!w,H),y.fa=v,c.push(y)),y};function ua(c,y){var v=y.type;if(v in c.g){var w=c.g[v],H=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=H)&&Array.prototype.splice.call(w,H,1),X&&(dr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ca(c,y,v,w){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==w)return H}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),No={};function xu(c,y,v,w,H){if(Array.isArray(y)){for(var X=0;X<y.length;X++)xu(c,y[X],v,w,H);return null}return v=Nu(v),c&&c[Oe]?c.K(y,v,g(w)?!!w.capture:!1,H):Sn(c,y,v,!1,w,H)}function Sn(c,y,v,w,H,X){if(!y)throw Error("Invalid event type");var ot=g(H)?!!H.capture:!!H,zt=cs(c);if(zt||(c[ha]=zt=new Si(c)),v=zt.add(y,v,w,ot,X),v.proxy)return v;if(w=_f(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)yt||(H=ot),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(fa(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _f(){function c(v){return y.call(c.src,c.listener,v)}const y=vf;return c}function Oo(c,y,v,w,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)Oo(c,y[X],v,w,H);else w=g(w)?!!w.capture:!!w,v=Nu(v),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=ca(X,v,w,H),-1<v&&(dr(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=cs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ca(y,v,w,H)),(v=-1<c?y[c]:null)&&us(v))}function us(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])ua(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(fa(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=cs(y))?(ua(v,c),v.h==0&&(v.src=null,y[ha]=null)):dr(c)}}}function fa(c){return c in No?No[c]:No[c]="on"+c}function vf(c,y){if(c.da)c=!0;else{y=new Nt(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&us(c),c=v.call(w,y)}return c}function cs(c){return c=c[ha],c instanceof Si?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function ce(){ct.call(this),this.i=new Si(this),this.M=this,this.F=null}M(ce,ct),ce.prototype[Oe]=!0,ce.prototype.removeEventListener=function(c,y,v,w){Oo(this,c,y,v,w)};function Kt(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var H=y;y=new st(w,c),I(y,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var ot=y.g=v[X];H=pn(ot,w,!0,y)&&H}if(ot=y.g=c,H=pn(ot,w,!0,y)&&H,H=pn(ot,w,!1,y)&&H,v)for(X=0;X<v.length;X++)ot=y.g=v[X],H=pn(ot,w,!1,y)&&H}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)dr(v[w]);delete c.g[y],c.h--}}this.F=null},ce.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ce.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function pn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,X=0;X<y.length;++X){var ot=y[X];if(ot&&!ot.da&&ot.capture==v){var zt=ot.listener,Re=ot.ha||ot.src;ot.fa&&ua(c.i,ot),H=zt.call(Re,w)!==!1&&H}}return H&&!w.defaultPrevented}function Ye(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ou(c){c.g=Ye(()=>{c.g=null,c.i&&(c.i=!1,Ou(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends ct{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(c){ct.call(this),this.h=c,this.g={}}M(da,ct);var pa=[];function ma(c){ut(c.g,function(y,v){this.g.hasOwnProperty(v)&&us(y)},c),c.g={}}da.prototype.N=function(){da.aa.N.call(this),ma(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=d.JSON.stringify,hs=d.JSON.parse,ga=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function Vo(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){st.call(this,"d")}M(Ri,st);function Lo(){st.call(this,"c")}M(Lo,st);var Zn={},Uo=null;function pr(){return Uo=Uo||new ce}Zn.La="serverreachability";function fs(c){st.call(this,Zn.La,c)}M(fs,st);function mr(c){const y=pr();Kt(y,new fs(y))}Zn.STAT_EVENT="statevent";function Mu(c,y){st.call(this,Zn.STAT_EVENT,c),this.stat=y}M(Mu,st);function ae(c){const y=pr();Kt(y,new Mu(y,c))}Zn.Ma="timingevent";function Ae(c,y){st.call(this,Zn.Ma,c),this.size=y}M(Ae,st);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function zo(c,y,v,w,H,X){c.info(function(){if(c.g)if(X)for(var ot="",zt=X.split("&"),Re=0;Re<zt.length;Re++){var Bt=zt[Re].split("=");if(1<Bt.length){var Pe=Bt[0];Bt=Bt[1];var Ce=Pe.split("_");ot=2<=Ce.length&&Ce[1]=="type"?ot+(Pe+"="+Bt+"&"):ot+(Pe+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+v+`
`+ot})}function Tf(c,y,v,w,H,X,ot){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+v+`
`+X+" "+ot})}function gr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ya(c,v)+(w?" "+w:"")})}function Pu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ya(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<H.length;ot++)H[ot]=""}}}}return Bn(v)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ti(){}M(ti,Po),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Jn=new ti;function nn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Bo={},ds={};function jn(c,y,v){c.L=1,c.v=ba(mn(y)),c.m=v,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),_a(c),c.A=mn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),$o(v.i,"t",w),c.C=0,v=c.j.J,c.h=new me,c.g=Xu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ef(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(pa[0]=H.toString()),H=pa);for(var X=0;X<H.length;X++){var ot=xu(v,H[X],w||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mr(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=Dn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||Ce!=4||y==7||(y==8||0>=Vi?mr(3):mr(2)),_r(this);var v=this.g.Z();this.X=v;e:if(ku(this)){var w=qu(this.g);c="";var H=w.length,X=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ei(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,Tf(this.i,this.u,this.A,this.l,this.R,Ce,v),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Re=this.g;if((zt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(zt)){var Bt=zt;break e}}Bt=null}if(v=Bt)gr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,v);else{this.o=!1,this.s=3,ae(12),je(this),ei(this);break t}}if(this.P){v=!0;let qe;for(;!this.J&&this.C<ot.length;)if(qe=Vu(this,ot),qe==ds){Ce==4&&(this.s=4,ae(14),v=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Bo){this.s=4,ae(15),gr(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else gr(this.i,this.l,qe,null),va(this,qe);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||ot.length!=0||this.h.h||(this.s=1,ae(16),v=!1),this.o=this.o&&v,!v)gr(this.i,this.l,ot,"[Invalid Chunked Response]"),je(this),ei(this);else if(0<ot.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),xa(Pe),Pe.M=!0,ae(11))}}else gr(this.i,this.l,ot,null),va(this,ot);Ce==4&&je(this),this.o&&!this.J&&(Ce==4?Ku(this.j,this):(this.o=!1,_a(this)))}else Rf(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),je(this),ei(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?ds:(v=Number(y.substring(v,w)),isNaN(v)?Bo:(w+=1,w+v>y.length?ds:(y=y.slice(w,w+v),c.C=w+v,y)))}nn.prototype.cancel=function(){this.J=!0,je(this)};function _a(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(S(c.ba,c),y)}function _r(c){c.B&&(d.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pu(this.i,this.A),this.L!=2&&(mr(),ae(17)),je(this),this.s=2,ei(this)):Lu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Ku(c.j,c)}function je(c){_r(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ma(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function va(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||jo(v.h,c))){if(!c.K&&jo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)As(v),ws(v);else break t;Wo(v),ae(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=ve(S(v.Za,v),6e3));if(1>=ms(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((c.K||v.g==c)&&As(v),!K(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Bt=H[y];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const Pe=Bt[3];Pe!=null&&(v.la=Pe,v.j.info("VER="+v.la));const Ce=Bt[4];Ce!=null&&(v.Aa=Ce,v.j.info("SVER="+v.Aa));const Vi=Bt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(w=1.5*Vi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const qe=c.g;if(qe){const li=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var X=w.h;X.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(gs(X,X.h),X.h=null))}if(w.D){const Jo=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(w.ya=Jo,Xt(w.I,w.D,Jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ot=c;if(w.qa=Yu(w,w.J?w.ia:null,w.W),ot.K){rn(w.h,ot);var zt=ot,Re=w.L;Re&&(zt.I=Re),zt.B&&(_r(zt),_a(zt)),w.g=ot}else Gu(w);0<v.i.length&&Ss(v)}else Bt[0]!="stop"&&Bt[0]!="close"||ki(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ki(v,7):Yo(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}mr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Di(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ps(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ms(c){return c.h?1:c.g?c.g.size:0}function jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function gs(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Di.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Ho(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ys(c),w=bf(c),H=w.length,X=0;X<H;X++)y.call(void 0,w[X],v&&v[X],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),H=null;if(0<=w){var X=c[v].substring(0,w);H=c[v].substring(w+1)}else X=c[v];y(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ee(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ee){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.s),this.l=c.l;var y=c.i,v=new Ni;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),xi(this,v),this.m=c.m}else c&&(y=String(c).match(Ea))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),vr(this,y[4]),this.l=Rn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}Ee.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wa(y,Fo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wa(y,Fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(wa(v,v.charAt(0)=="/"?Sf:Go,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",wa(v,_s)),c.join("")};function mn(c){return new Ee(c)}function Ta(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,v){y instanceof Ni?(c.i=y,Bu(c.i,c.h)):(v||(y=wa(y,Af)),c.i=new Ni(y,c.h))}function Xt(c,y,v){c.i.set(y,v)}function ba(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,zu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Go=/[#\?:]/g,Sf=/[#\?]/g,Af=/[#\?@]/g,_s=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ni.prototype,i.add=function(c,y){Cn(this),this.i=null,c=ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Oi(c,y){Cn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return Cn(c),y=ni(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(v,w){v.forEach(function(H){c.call(y,H,w,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const H=c[w];for(let X=0;X<H.length;X++)v.push(y[w])}return v},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=ni(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,v){Oi(c,y),0<v.length&&(c.i=null,c.g.set(ni(c,y),q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const X=encodeURIComponent(String(w)),ot=this.V(w);for(w=0;w<ot.length;w++){var H=X;ot[w]!==""&&(H+="="+encodeURIComponent(String(ot[w]))),c.push(H)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,w){var H=w.toLowerCase();w!=H&&(Oi(this,w),$o(this,H,v))},c)),c.j=y}function Sa(c,y){const v=new An;if(d.Image){const w=new Image;w.onload=O(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=O(In,v,"TestLoadImage: error",!1,y,w),w.onabort=O(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(In,v,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function qn(c,y){const v=new An,w=new AbortController,H=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(H),X.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(v)}catch{}}function Aa(){this.g=new ga}function ii(c,y,v){const w=v||"";try{Ho(c,function(H,X){let ot=H;g(H)&&(ot=Bn(H)),y.push(w+X+"="+encodeURIComponent(ot))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Er,Po),Er.prototype.g=function(){return new Pi(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){ce.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Pi,ce),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):ai(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},i.Qa=function(c){this.g&&(this.response=c,ri(this))},i.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return ut(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Me(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xt(c,y,v))}function Gt(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Gt,ce);var vs=/^https?$/i,Ra=["POST","PUT"];i=Gt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?ko(this.o):ko(Jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){ju(this,X);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)v.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())v.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ra,y,void 0))||w||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of v)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ju(this,X)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Es(c),si(c)}function Es(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},i.bb=function(){Ts(this)};function Ts(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ye(c.Ea,0,c);else if(Kt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ot===0){var H=String(c.D).match(Ea)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),w=!vs.test(H?H.toLowerCase():"")}v=w}if(v)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var X=2<Dn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Es(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Ca(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Kt(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ca(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hs(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(K(c[w]))continue;var v=N(c[w]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[H]||[];y[H]=X,X.push(v)}C(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function bs(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bs.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){ae(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Yu(this,null,this.W),Ss(this)};function Yo(c){if(Hu(c),c.G==3){var y=c.U++,v=mn(c.I);if(Xt(v,"SID",c.K),Xt(v,"RID",y),Xt(v,"TYPE","terminate"),Da(c,v),y=new nn(c,c.j,y),y.L=2,y.v=ba(mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_a(y)}Qu(c)}function ws(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function Hu(c){ws(c),c.u&&(d.clearTimeout(c.u),c.u=null),As(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ss(c){if(!ps(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),pt||(lt(),pt=!0),Ut.add(y,c),c.B=0}}function Cf(c,y){return ms(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(S(c.Ga,c,y),Zo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new nn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Fu(this,H,y),v=mn(this.I),Xt(v,"RID",c),Xt(v,"CVER",22),this.D&&Xt(v,"X-HTTP-Session-Id",this.D),Da(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(Qo(X)))+"&"+y:this.m&&Me(v,this.m,X)),gs(this.h,H),this.Ua&&Xt(v,"TYPE","init"),this.P?(Xt(v,"$req",y),Xt(v,"SID","null"),H.T=!0,jn(H,v,null)):jn(H,v,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||ps(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.U++;const w=mn(c.I);Xt(w,"SID",c.K),Xt(w,"RID",v),Xt(w,"AID",c.T),Da(c,w),c.m&&c.o&&Me(w,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gs(c.h,v),jn(v,w,y)}function Da(c,y){c.H&&ut(c.H,function(v,w){Xt(y,w,v)}),c.l&&Ho({},function(v,w){Xt(y,w,v)})}function Fu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;t:{var H=c.i;let X=-1;for(;;){const ot=["count="+v];X==-1?0<v?(X=H[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let zt=!0;for(let Re=0;Re<v;Re++){let Bt=H[Re].g;const Pe=H[Re].map;if(Bt-=X,0>Bt)X=Math.max(0,H[Re].g-100),zt=!1;else try{ii(Pe,ot,"req"+Bt+"_")}catch{w&&w(Pe)}}if(zt){w=ot.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),pt||(lt(),pt=!0),Ut.add(y,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(S(c.Fa,c),Zo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),ws(this),$u(this))};function xa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Xt(y,"RID","rpc"),Xt(y,"SID",c.K),Xt(y,"AID",c.T),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(y,"TO",c.ja),Xt(y,"TYPE","xmlhttp"),Da(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ba(mn(y)),v.m=null,v.P=!0,Ii(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ws(this),Wo(this),ae(19))};function As(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){As(c),xa(c),c.g=null;var w=2}else if(jo(c.h,y))v=y.D,rn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=pr(),Kt(w,new Ae(w,v)),Ss(c)}else Gu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&Cf(c,y)||w==2&&Wo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function Zo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ki(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const H=!w;w=new Ee(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ta(w,"https"),ba(w),H?Sa(w.toString(),v):qn(w.toString(),v)}else ae(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Hu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,v){var w=v instanceof Ee?mn(v):new Ee(v);if(w.g!="")y&&(w.g=y+"."+w.g),vr(w,w.s);else{var H=d.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var X=new Ee(null);w&&Ta(X,w),y&&(X.g=y),H&&vr(X,H),v&&(X.l=v),w=X}return v=c.D,y=c.ya,v&&y&&Xt(w,v,y),Xt(w,"VER",c.la),Da(c,w),w}function Xu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Er({eb:v})):new Gt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Rs(){}Rs.prototype.g=function(c,y){return new an(c,y)};function an(c,y){ce.call(this),this.g=new bs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}M(an,ce),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Yo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Bn(c),c=v);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Ss(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,an.aa.N.call(this)};function Zu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Zu,Ri);function Ju(){Lo.call(this),this.status=1}M(Ju,Lo);function oi(c){this.g=c}M(oi,Wu),oi.prototype.ua=function(){Kt(this.g,"a")},oi.prototype.ta=function(c){Kt(this.g,new Zu(c))},oi.prototype.sa=function(c){Kt(this.g,new Ju)},oi.prototype.ra=function(){Kt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ab=function(){return new Rs},rb=function(){return pr()},ib=Zn,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,mh=yr,Ci.COMPLETE="complete",nb=Ci,Vo.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ce.prototype.listen=ce.prototype.K,$l=Vo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,eb=Gt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",P0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new xm("@firebase/firestore");function eo(){return ts.logLevel}function ft(i,...t){if(ts.logLevel<=Vt.DEBUG){const e=t.map(qm);ts.debug(`Firestore (${Ro}): ${i}`,...e)}}function or(i,...t){if(ts.logLevel<=Vt.ERROR){const e=t.map(qm);ts.error(`Firestore (${Ro}): ${i}`,...e)}}function po(i,...t){if(ts.logLevel<=Vt.WARN){const e=t.map(qm);ts.warn(`Firestore (${Ro}): ${i}`,...e)}}function qm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i="Unexpected state"){const t=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw or(t),new Error(t)}function $t(i,t){i||wt()}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends cr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Je.UNAUTHENTICATED))}shutdown(){}}class n2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string"),new sb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Je(t)}}class r2{constructor(t,e,a){this.l=t,this.h=e,this.P=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a2{constructor(t,e,a){this.l=t,this.h=e,this.P=a}getToken(){return Promise.resolve(new r2(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s2{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t(typeof e.token=="string"),this.R=e.token,new k0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<i;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=o2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Dt(i,t){return i<t?-1:i>t?1:0}function nm(i,t){let e=0;for(;e<i.length&&e<t.length;){const a=i.codePointAt(e),o=t.codePointAt(e);if(a!==o){if(a<128&&o<128)return Dt(a,o);{const u=ob(),h=l2(u.encode(V0(i,e)),u.encode(V0(t,e)));return h!==0?h:Dt(a,o)}}e+=a>65535?2:1}return Dt(i.length,t.length)}function V0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function l2(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Dt(i[e],t[e]);return Dt(i.length,t.length)}function mo(i,t,e){return i.length===t.length&&i.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-62135596800,U0=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(t){return xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*U0);return new xe(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<L0)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-L0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new xe(0,0))}static max(){return new At(new xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="__name__";class mi{constructor(t,e,a){e===void 0?e=0:e>t.length&&wt(),a===void 0?a=t.length-e:a>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=mi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Dt(t.length,e.length)}static compareSegments(t,e){const a=mi.isNumericId(t),o=mi.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?mi.extractNumericId(t).compare(mi.extractNumericId(e)):nm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class ie extends mi{construct(t,e,a){return new ie(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends mi{construct(t,e,a){return new Ke(t,e,a)}static isValidIdentifier(t){return u2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new Ke([z0])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(e)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function c2(i,t){const e=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new xe(e+1,0):new xe(e,a));return new Jr(o,gt.empty(),t)}function h2(i){return new Jr(i.readTime,i.key,iu)}class Jr{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new Jr(At.min(),gt.empty(),iu)}static max(){return new Jr(At.max(),gt.empty(),iu)}}function f2(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(i.documentKey,t.documentKey),e!==0?e:Dt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==d2)throw i;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.reject(e)}static resolve(t){return new rt((e,a)=>{e(t)})}static reject(t){return new rt((e,a)=>{a(t)})}static waitFor(t){return new rt((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=rt.resolve(!1);for(const a of t)e=e.next(o=>o?rt.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new rt((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new rt((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function m2(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.oe(a),this._e=a=>e.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function Yh(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function g2(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function y2(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=B0(t)),t=_2(i.get(e),t);return B0(t)}function _2(i,t){let e=t;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case ub:e+="";break;default:e+=u}}return e}function B0(i){return i+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function oa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function cb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new ue(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new $e(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,e,a,o,u){return this}insert(t,e,a){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let e=new Ne(Ke.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new wn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hb("Invalid base64 string: "+u):u}}(t);return new Qe(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(i){if($t(!!i),typeof i=="string"){let t=0;const e=v2.exec(i);if($t(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(i.seconds),nanos:_e(i.nanos)}}function _e(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ea(i){return typeof i=="string"?Qe.fromBase64String(i):Qe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",db="__type__",pb="__previous_value__",mb="__local_write_time__";function Xh(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[db])===null||e===void 0?void 0:e.stringValue)===fb}function Wh(i){const t=i.mapValue.fields[pb];return Xh(t)?Wh(t):t}function ru(i){const t=ta(i.mapValue.fields[mb].timestampValue);return new xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,e,a,o,u,h,d,m,g){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Nh="(default)";class au{constructor(t,e){this.projectId=t,this.database=e||Nh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="__type__",T2="__max__",rh={mapValue:{}},yb="__vector__",Oh="value";function na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xh(i)?4:w2(i)?9007199254740991:b2(i)?10:11:wt()}function bi(i,t){if(i===t)return!0;const e=na(i);if(e!==na(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ru(i).isEqual(ru(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ta(o.timestampValue),d=ta(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return ea(o.bytesValue).isEqual(ea(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_e(o.doubleValue),d=_e(u.doubleValue);return h===d?xh(h)===xh(d):isNaN(h)&&isNaN(d)}return!1}(i,t);case 9:return mo(i.arrayValue.values||[],t.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(j0(h)!==j0(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!bi(h[m],d[m])))return!1;return!0}(i,t);default:return wt()}}function su(i,t){return(i.values||[]).find(e=>bi(e,t))!==void 0}function go(i,t){if(i===t)return 0;const e=na(i),a=na(t);if(e!==a)return Dt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const d=_e(u.integerValue||u.doubleValue),m=_e(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,t);case 3:return H0(i.timestampValue,t.timestampValue);case 4:return H0(ru(i),ru(t));case 5:return nm(i.stringValue,t.stringValue);case 6:return function(u,h){const d=ea(u),m=ea(h);return d.compareTo(m)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Dt(d[g],m[g]);if(_!==0)return _}return Dt(d.length,m.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Dt(_e(u.latitude),_e(h.latitude));return d!==0?d:Dt(_e(u.longitude),_e(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return F0(i.arrayValue,t.arrayValue);case 10:return function(u,h){var d,m,g,_;const b=u.fields||{},S=h.fields||{},O=(d=b[Oh])===null||d===void 0?void 0:d.arrayValue,M=(m=S[Oh])===null||m===void 0?void 0:m.arrayValue,q=Dt(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return q!==0?q:F0(O,M)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let b=0;b<m.length&&b<_.length;++b){const S=nm(m[b],_[b]);if(S!==0)return S;const O=go(d[m[b]],g[_[b]]);if(O!==0)return O}return Dt(m.length,_.length)}(i.mapValue,t.mapValue);default:throw wt()}}function H0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Dt(i,t);const e=ta(i),a=ta(t),o=Dt(e.seconds,a.seconds);return o!==0?o:Dt(e.nanos,a.nanos)}function F0(i,t){const e=i.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=go(e[o],a[o]);if(u)return u}return Dt(e.length,a.length)}function yo(i){return im(i)}function im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const a=ta(e);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return ea(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return gt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=im(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${im(e.fields[h])}`;return o+"}"}(i.mapValue):wt()}function gh(i){switch(na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(i);return t?16+gh(t):16;case 5:return 2*i.stringValue.length;case 6:return ea(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+gh(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return oa(a.fields,(u,h)=>{o+=u.length+gh(h)}),o}(i.mapValue);default:throw wt()}}function Mh(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function rm(i){return!!i&&"integerValue"in i}function Fm(i){return!!i&&"arrayValue"in i}function G0(i){return!!i&&"nullValue"in i}function $0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yh(i){return!!i&&"mapValue"in i}function b2(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[gb])===null||e===void 0?void 0:e.stringValue)===yb}function Wl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return oa(i.mapValue.fields,(e,a)=>t.mapValue.fields[e]=Wl(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wl(i.arrayValue.values[e]);return t}return Object.assign({},i)}function w2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!yh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(e)}setAll(t){let e=Ke.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=Wl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());yh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return bi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){oa(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new dn(Wl(this.value))}}function _b(i){const t=[];return oa(i.fields,(e,a)=>{const o=new Ke([e]);if(yh(a)){const u=_b(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new tn(t,0,At.min(),At.min(),At.min(),dn.empty(),0)}static newFoundDocument(t,e,a,o){return new tn(t,1,e,At.min(),a,o,0)}static newNoDocument(t,e){return new tn(t,2,e,At.min(),At.min(),dn.empty(),0)}static newUnknownDocument(t,e){return new tn(t,3,e,At.min(),At.min(),dn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,e){this.position=t,this.inclusive=e}}function K0(i,t,e){let a=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?a=gt.comparator(gt.fromName(h.referenceValue),e.key):a=go(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Q0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!bi(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,e="asc"){this.field=t,this.dir=e}}function S2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class Se extends vb{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new R2(t,e,a):e==="array-contains"?new D2(t,a):e==="in"?new x2(t,a):e==="not-in"?new N2(t,a):e==="array-contains-any"?new O2(t,a):new Se(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new C2(t,a):new I2(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(go(e,this.value)):e!==null&&na(this.value)===na(e)&&this.matchesComparison(go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends vb{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Kn(t,e)}matches(t){return Eb(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Eb(i){return i.op==="and"}function Tb(i){return A2(i)&&Eb(i)}function A2(i){for(const t of i.filters)if(t instanceof Kn)return!1;return!0}function am(i){if(i instanceof Se)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(Tb(i))return i.filters.map(t=>am(t)).join(",");{const t=i.filters.map(e=>am(e)).join(",");return`${i.op}(${t})`}}function bb(i,t){return i instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&bi(a.value,o.value)}(i,t):i instanceof Kn?function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&bb(h,o.filters[d]),!0):!1}(i,t):void wt()}function wb(i){return i instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${yo(e.value)}`}(i):i instanceof Kn?function(e){return e.op.toString()+" {"+e.getFilters().map(wb).join(" ,")+"}"}(i):"Filter"}class R2 extends Se{constructor(t,e,a){super(t,e,a),this.key=gt.fromName(a.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class C2 extends Se{constructor(t,e){super(t,"in",e),this.keys=Sb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class I2 extends Se{constructor(t,e){super(t,"not-in",e),this.keys=Sb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Sb(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(a=>gt.fromName(a.referenceValue))}class D2 extends Se{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fm(e)&&su(e.arrayValue,this.value)}}class x2 extends Se{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&su(this.value.arrayValue,e)}}class N2 extends Se{constructor(t,e){super(t,"not-in",e)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!su(this.value.arrayValue,e)}}class O2 extends Se{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>su(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function Y0(i,t=null,e=[],a=[],o=null,u=null,h=null){return new M2(i,t,e,a,o,u,h)}function Gm(i){const t=Rt(i);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>am(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>yo(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>yo(a)).join(",")),t.le=e}return t.le}function $m(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!S2(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!bb(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Q0(i.startAt,t.startAt)&&Q0(i.endAt,t.endAt)}function sm(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function P2(i,t,e,a,o,u,h,d){return new as(i,t,e,a,o,u,h,d)}function Km(i){return new as(i)}function X0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Qm(i){return i.collectionGroup!==null}function uo(i){const t=Rt(i);if(t.he===null){t.he=[];const e=new Set;for(const u of t.explicitOrderBy)t.he.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ne(Ke.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.he.push(new ou(u,a))}),e.has(Ke.keyField().canonicalString())||t.he.push(new ou(Ke.keyField(),a))}return t.he}function vi(i){const t=Rt(i);return t.Pe||(t.Pe=k2(t,uo(i))),t.Pe}function k2(i,t){if(i.limitType==="F")return Y0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)});const e=i.endAt?new _o(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new _o(i.startAt.position,i.startAt.inclusive):null;return Y0(i.path,i.collectionGroup,t,i.filters,i.limit,e,a)}}function om(i,t){const e=i.filters.concat([t]);return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Ph(i,t,e){return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Zh(i,t){return $m(vi(i),vi(t))&&i.limitType===t.limitType}function Ab(i){return`${Gm(vi(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>wb(o)).join(", ")}]`),Yh(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>yo(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>yo(o)).join(",")),`Target(${a})`}(vi(i))}; limitType=${i.limitType})`}function Jh(i,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):gt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,o){for(const u of uo(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=K0(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,uo(a),o)||a.endAt&&!function(h,d,m){const g=K0(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,uo(a),o))}(i,t)}function V2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Rb(i){return(t,e)=>{let a=!1;for(const o of uo(i)){const u=L2(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function L2(i,t,e){const a=i.field.isKeyField()?gt.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?go(m,g):wt()}(i.field,t,e);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new ue(gt.comparator);function lr(){return U2}const Cb=new ue(gt.comparator);function Kl(...i){let t=Cb;for(const e of i)t=t.insert(e.key,e);return t}function Ib(i){let t=Cb;return i.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Ka(){return Zl()}function Db(){return Zl()}function Zl(){return new ss(i=>i.toString(),(i,t)=>i.isEqual(t))}const z2=new ue(gt.comparator),B2=new Ne(gt.comparator);function Lt(...i){let t=B2;for(const e of i)t=t.add(e);return t}const j2=new Ne(Dt);function q2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function xb(i){return{integerValue:""+i}}function H2(i,t){return g2(t)?xb(t):Ym(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function F2(i,t,e){return i instanceof lu?function(o,u){const h={fields:{[db]:{stringValue:fb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xh(u)&&(u=Wh(u)),u&&(h.fields[pb]=u),{mapValue:h}}(e,t):i instanceof uu?Ob(i,t):i instanceof cu?Mb(i,t):function(o,u){const h=Nb(o,u),d=W0(h)+W0(o.Ie);return rm(h)&&rm(o.Ie)?xb(d):Ym(o.serializer,d)}(i,t)}function G2(i,t,e){return i instanceof uu?Ob(i,t):i instanceof cu?Mb(i,t):e}function Nb(i,t){return i instanceof kh?function(a){return rm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class lu extends tf{}class uu extends tf{constructor(t){super(),this.elements=t}}function Ob(i,t){const e=Pb(t);for(const a of i.elements)e.some(o=>bi(o,a))||e.push(a);return{arrayValue:{values:e}}}class cu extends tf{constructor(t){super(),this.elements=t}}function Mb(i,t){let e=Pb(t);for(const a of i.elements)e=e.filter(o=>!bi(o,a));return{arrayValue:{values:e}}}class kh extends tf{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function W0(i){return _e(i.integerValue||i.doubleValue)}function Pb(i){return Fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,e){this.field=t,this.transform=e}}function K2(i,t){return i.field.isEqual(t.field)&&function(a,o){return a instanceof uu&&o instanceof uu||a instanceof cu&&o instanceof cu?mo(a.elements,o.elements,bi):a instanceof kh&&o instanceof kh?bi(a.Ie,o.Ie):a instanceof lu&&o instanceof lu}(i.transform,t.transform)}class Q2{constructor(t,e){this.version=t,this.transformResults=e}}class Un{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _h(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ef{}function kb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Xm(i.key,Un.none()):new Tu(i.key,i.data,Un.none());{const e=i.data,a=dn.empty();let o=new Ne(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new la(i.key,a,new wn(o.toArray()),Un.none())}}function Y2(i,t,e){i instanceof Tu?function(o,u,h){const d=o.value.clone(),m=J0(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,t,e):i instanceof la?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=J0(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(Vb(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function Jl(i,t,e,a){return i instanceof Tu?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=u.value.clone(),_=tE(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,a):i instanceof la?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=tE(u.fieldTransforms,m,h),_=h.data;return _.setAll(Vb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,t,e,a):function(u,h,d){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,t,e)}function X2(i,t){let e=null;for(const a of i.fieldTransforms){const o=t.data.field(a.field),u=Nb(a.transform,o||null);u!=null&&(e===null&&(e=dn.empty()),e.set(a.field,u))}return e||null}function Z0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&mo(a,o,(u,h)=>K2(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Tu extends ef{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends ef{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=i.data.field(e);t.set(e,a)}}),t}function J0(i,t,e){const a=new Map;$t(i.length===e.length);for(let o=0;o<e.length;o++){const u=i[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,G2(h,d,e[o]))}return a}function tE(i,t,e){const a=new Map;for(const o of i){const u=o.transform,h=e.data.field(o.field);a.set(o.field,F2(u,h,t))}return a}class Xm extends ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Y2(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=Jl(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=Jl(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=Db();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=kb(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(e,a)=>Z0(e,a))&&mo(this.baseMutations,t.baseMutations,(e,a)=>Z0(e,a))}}class Wm{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){$t(t.mutations.length===a.length);let o=function(){return z2}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Wm(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,qt;function ex(i){switch(i){case J.OK:return wt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return wt()}}function Lb(i){if(i===void 0)return or("GRPC error has no .code"),J.UNKNOWN;switch(i){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return wt()}}(qt=we||(we={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Wr([4294967295,4294967295],0);function eE(i){const t=ob().encode(i),e=new tb;return e.update(t),new Uint8Array(e.digest())}function nE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wr([e,a],0),new Wr([o,u],0)]}class Zm{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Ql(`Invalid padding: ${e}`);if(a<0)throw new Ql(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Wr.fromNumber(this.Ee)}Ae(t,e,a){let o=t.add(e.multiply(Wr.fromNumber(a)));return o.compare(nx)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=eE(t),[a,o]=nE(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Zm(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.Ee===0)return;const e=eE(t),[a,o]=nE(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new nf(At.min(),o,new ue(Dt),lr(),Lt())}}class bu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new bu(a,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,e,a,o){this.me=t,this.removedTargetIds=e,this.key=a,this.fe=o}}class Ub{constructor(t,e){this.targetId=t,this.ge=e}}class zb{constructor(t,e,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class iE{constructor(){this.pe=0,this.ye=rE(),this.we=Qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Lt(),e=Lt(),a=Lt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:wt()}}),new bu(this.we,this.Se,t,e,a)}Me(){this.be=!1,this.ye=rE()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ix{constructor(t){this.ke=t,this.qe=new Map,this.Qe=lr(),this.$e=ah(),this.Ue=ah(),this.Ke=new ue(Dt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const a=this.He(e);switch(t.state){case 0:this.Je(e)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(e);break;case 3:this.Je(e)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),a.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((a,o)=>{this.Je(o)&&e(o)})}Ze(t){const e=t.targetId,a=t.ge.count,o=this.Xe(e);if(o){const u=o.target;if(sm(u))if(a===0){const h=new gt(u.path);this.ze(e,h,tn.newNoDocument(h,At.min()))}else $t(a===1);else{const h=this.et(e);if(h!==a){const d=this.tt(t),m=d?this.nt(d,t,h):1;if(m!==0){this.Ye(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,g)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=ea(a).toUint8Array()}catch(m){if(m instanceof hb)return po("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Zm(h,o,u)}catch(m){return po(m instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,e,a){return e.ge.count===a-this.st(t,e.targetId)?0:2}st(t,e){const a=this.ke.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(e,u,null),o++)}),o}ot(t){const e=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&sm(d.target)){const m=new gt(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,tn.newNoDocument(m,t))}u.ve&&(e.set(h,u.Fe()),u.Me())}});let a=Lt();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new nf(t,e,this.Ke,this.Qe,a);return this.Qe=lr(),this.$e=ah(),this.Ue=ah(),this.Ke=new ue(Dt),o}Ge(t,e){if(!this.Je(t))return;const a=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,a),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,e)?o.xe(e,1):o.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),a&&(this.Qe=this.Qe.insert(e,a))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new iE,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Ne(Dt),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Ne(Dt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new iE),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function ah(){return new ue(gt.comparator)}function rE(){return new ue(gt.comparator)}const rx={asc:"ASCENDING",desc:"DESCENDING"},ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sx={and:"AND",or:"OR"};class ox{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function lm(i,t){return i.useProto3Json||Yh(t)?t:{value:t}}function Vh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function lx(i,t){return Vh(i,t.toTimestamp())}function Ei(i){return $t(!!i),At.fromTimestamp(function(e){const a=ta(e);return new xe(a.seconds,a.nanos)}(i))}function Jm(i,t){return um(i,t).canonicalString()}function um(i,t){const e=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function jb(i){const t=ie.fromString(i);return $t($b(t)),t}function cm(i,t){return Jm(i.databaseId,t.path)}function Mp(i,t){const e=jb(t);if(e.get(1)!==i.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new gt(Hb(e))}function qb(i,t){return Jm(i.databaseId,t)}function ux(i){const t=jb(i);return t.length===4?ie.emptyPath():Hb(t)}function hm(i){return new ie(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hb(i){return $t(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function aE(i,t,e){return{name:cm(i,t),fields:e.value.mapValue.fields}}function cx(i,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?($t(_===void 0||typeof _=="string"),Qe.fromBase64String(_||"")):($t(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Qe.fromUint8Array(_||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?J.UNKNOWN:Lb(g.code);return new ht(_,g.message||"")}(h);e=new zb(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Mp(i,a.document.name),u=Ei(a.document.updateTime),h=a.document.createTime?Ei(a.document.createTime):At.min(),d=new dn({mapValue:{fields:a.document.fields}}),m=tn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new vh(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Mp(i,a.document),u=a.readTime?Ei(a.readTime):At.min(),h=tn.newNoDocument(o,u),d=a.removedTargetIds||[];e=new vh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Mp(i,a.document),u=a.removedTargetIds||[];e=new vh([],u,o,null)}else{if(!("filter"in t))return wt();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new tx(o,u),d=a.targetId;e=new Ub(d,h)}}return e}function hx(i,t){let e;if(t instanceof Tu)e={update:aE(i,t.key,t.value)};else if(t instanceof Xm)e={delete:cm(i,t.key)};else if(t instanceof la)e={update:aE(i,t.key,t.data),updateMask:Ex(t.fieldMask)};else{if(!(t instanceof W2))return wt();e={verify:cm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw wt()}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:lx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(i,t.precondition)),e}function fx(i,t){return i&&i.length>0?($t(t!==void 0),i.map(e=>function(o,u){let h=o.updateTime?Ei(o.updateTime):Ei(u);return h.isEqual(At.min())&&(h=Ei(u)),new Q2(h,o.transformResults||[])}(e,t))):[]}function dx(i,t){return{documents:[qb(i,t.path)]}}function px(i,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=qb(i,o);const u=function(g){if(g.length!==0)return Gb(Kn.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:io(S.field),direction:yx(S.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=lm(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:e,parent:o}}function mx(i){let t=ux(i.parent);const e=i.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){$t(a===1);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(b){const S=Fb(b);return S instanceof Kn&&Tb(S)?S.getFilters():[S]}(e.where));let h=[];e.orderBy&&(h=function(b){return b.map(S=>function(M){return new ou(ro(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,Yh(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(b){const S=!!b.before,O=b.values||[];return new _o(O,S)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const S=!b.before,O=b.values||[];return new _o(O,S)}(e.endAt)),P2(t,o,h,u,d,"F",m,g)}function gx(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Fb(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=ro(e.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(e.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(e.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(e.unaryFilter.field);return Se.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(i):i.fieldFilter!==void 0?function(e){return Se.create(ro(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Kn.create(e.compositeFilter.filters.map(a=>Fb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(i):wt()}function yx(i){return rx[i]}function _x(i){return ax[i]}function vx(i){return sx[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Ke.fromServerFormat(i.fieldPath)}function Gb(i){return i instanceof Se?function(e){if(e.op==="=="){if($0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NAN"}};if(G0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NOT_NAN"}};if(G0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(e.field),op:_x(e.op),value:e.value}}}(i):i instanceof Kn?function(e){const a=e.getFilters().map(o=>Gb(o));return a.length===1?a[0]:{compositeFilter:{op:vx(e.op),filters:a}}}(i):wt()}function Ex(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,e,a,o,u=At.min(),h=At.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this.Tt=t}}function bx(i){const t=mx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Tn=new Sx}addToCollectionParentIndex(t,e){return this.Tn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Jr.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Jr.min())}updateCollectionGroup(t,e,a){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class Sx{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new Ne(ie.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ne(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Kb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",Ax=1048576;function lE([i,t],[e,a]){const o=Dt(i,e);return o===0?Dt(t,a):o}class Rx{constructor(t){this.Hn=t,this.buffer=new Ne(lE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();lE(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Cx{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(oE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Io(e)?ft(oE,"Ignoring IndexedDB error during garbage collection: ",e):await Co(e)}await this.er(3e5)})}}class Ix{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Qh.ae);const a=new Rx(e);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.tr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(sE)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(t,a,e))).next(b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(g=Date.now(),eo()<=Vt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Dx(i,t){return new Ix(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.changes=new ss(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?rt.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&Jl(a.mutation,o,wn.empty(),xe.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Lt()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Lt()){const o=Ka();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=Kl();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Ka();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Lt()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=lr();const h=Zl(),d=function(){return Zl()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof la)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Jl(_.mutation,g,_.mutation.getFieldMask(),xe.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>{var b;return d.set(g,new Nx(_,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(t,e){const a=Zl();let o=new ue((h,d)=>h-d),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||wn.empty();_=d.applyToLocalView(g,_),a.set(m,_);const b=(o.get(d.batchId)||Lt()).add(m);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,b=Db();_.forEach(S=>{if(!u.has(S)){const O=kb(e.get(S),a.get(S));O!==null&&b.set(S,O),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,b))}return rt.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Qm(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):rt.resolve(Ka());let d=iu,m=u;return h.next(g=>rt.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(_)?rt.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{m=m.insert(_,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(_=>({batchId:d,changes:Ib(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next(a=>{let o=Kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next(d=>rt.forEach(d,m=>{const g=function(b,S){return new as(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,tn.newInvalidDocument(_)))});let d=Kl();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&Jl(_.mutation,g,wn.empty(),xe.now()),Jh(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return rt.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(o){return{name:o.name,query:bx(o.bundledQuery),readTime:Ei(o.readTime)}}(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.overlays=new ue(gt.comparator),this.Rr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Ka();return rt.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.Et(t,e,u)}),rt.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),rt.resolve()}getOverlaysForCollection(t,e,a){const o=Ka(),u=e.length+1,h=new gt(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new ue((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Ka(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ka(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return rt.resolve(d)}Et(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new J2(e,a));let u=this.Rr.get(e);u===void 0&&(u=Lt(),this.Rr.set(e,u)),this.Rr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Vr=new Ne(Be.mr),this.gr=new Ne(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const a=new Be(t,e);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.wr(new Be(t,e))}Sr(t,e){t.forEach(a=>this.removeReference(a,e))}br(t){const e=new gt(new ie([])),a=new Be(e,t),o=new Be(e,t+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new gt(new ie([])),a=new Be(e,t),o=new Be(e,t+1);let u=Lt();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new Be(t,0),a=this.Vr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return gt.comparator(t.key,e.key)||Dt(t.Cr,e.Cr)}static pr(t,e){return Dt(t.Cr,e.Cr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Ne(Be.mr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Z2(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Be(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(h)}lookupMutationBatch(t,e){return rt.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.Nr(a),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Hm:this.Fr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Be(e,0),o=new Be(e,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);u.push(d)}),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new Ne(Dt);return e.forEach(o=>{const u=new Be(o,0),h=new Be(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{a=a.add(d.Cr)})}),rt.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;gt.isDocumentKey(u)||(u=u.child(""));const h=new Be(new gt(u),0);let d=new Ne(Dt);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),rt.resolve(this.Br(d))}Br(t){const e=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){$t(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return rt.forEach(e.mutations,o=>{const u=new Be(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,e){const a=new Be(e,0),o=this.Mr.firstAfterOrEqual(a);return rt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t){this.kr=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return rt.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(e))}getEntries(t,e){let a=lr();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),rt.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=lr();const h=e.path,d=new gt(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||f2(h2(_),a)<=0||(o.has(_.key)||Jh(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,e,a,o){wt()}qr(t,e){return rt.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new Ux(this)}getSize(t){return rt.resolve(this.size)}}class Ux extends xx{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),rt.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.persistence=t,this.Qr=new ss(e=>Gm(e),$m),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tg,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(t,e){return this.Qr.forEach((a,o)=>e(o)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.$r&&(this.$r=e),rt.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new vo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.zn(e),rt.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),rt.waitFor(u).next(()=>o)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const a=this.Qr.get(e)||null;return rt.resolve(a)}addMatchingKeys(t,e,a){return this.Ur.yr(e,a),rt.resolve()}removeMatchingKeys(t,e,a){this.Ur.Sr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),rt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const a=this.Ur.vr(e);return rt.resolve(a)}containsKey(t,e){return rt.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Qh(0),this.zr=!1,this.zr=!0,this.jr=new kx,this.referenceDelegate=t(this),this.Hr=new zx(this),this.indexManager=new wx,this.remoteDocumentCache=function(o){return new Lx(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Tx(e),this.Yr=new Mx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Px,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.Wr[t.toKey()];return a||(a=new Vx(e,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,a){ft("MemoryPersistence","Starting transaction:",t);const o=new Bx(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,e){return rt.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,e)))}}class Bx extends p2{constructor(t){super(),this.currentSequenceNumber=t}}class eg{constructor(t){this.persistence=t,this.ti=new tg,this.ni=null}static ri(t){return new eg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,e,a){return this.ti.addReference(a,e),this.ii.delete(a.toString()),rt.resolve()}removeReference(t,e,a){return this.ti.removeReference(a,e),this.ii.add(a.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),rt.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.ii,a=>{const o=gt.fromPath(a);return this.si(t,o).next(u=>{u||e.removeEntry(o,At.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(a=>{a?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return rt.or([()=>rt.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Lh{constructor(t,e){this.persistence=t,this.oi=new ss(a=>y2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Dx(this,e)}static ri(t,e){return new Lh(t,e)}Zr(){}Xr(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}sr(t){let e=0;return this.rr(t,a=>{e++}).next(()=>e)}rr(t,e){return rt.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?rt.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,e).next(d=>{d||(a++,u.removeEntry(h,At.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),rt.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gh(t.data.value)),e}ar(t,e,a){return rt.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.oi.get(e);return rt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Hi=a,this.Ji=o}static Yi(t,e){let a=Lt(),o=Lt();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ng(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return f1()?8:m2(en())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.rs(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new jx;return this._s(t,e,h).next(d=>{if(u.result=d,this.Xi)return this.us(t,e,h,d.size)})}).next(()=>u.result)}us(t,e,a,o){return a.documentReadCount<this.es?(eo()<=Vt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",no(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),rt.resolve()):(eo()<=Vt.DEBUG&&ft("QueryEngine","Query:",no(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(eo()<=Vt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",no(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(e))):rt.resolve())}rs(t,e){if(X0(e))return rt.resolve(null);let a=vi(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Ph(e,null,"F"),a=vi(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Lt(...u);return this.ns.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.cs(e,d);return this.ls(e,g,h,m.readTime)?this.rs(t,Ph(e,null,"F")):this.hs(t,g,e,m)}))})))}ss(t,e,a,o){return X0(e)||o.isEqual(At.min())?rt.resolve(null):this.ns.getDocuments(t,a).next(u=>{const h=this.cs(e,u);return this.ls(e,h,a,o)?rt.resolve(null):(eo()<=Vt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(e)),this.hs(t,h,e,c2(o,iu)).next(d=>d))})}cs(t,e){let a=new Ne(Rb(t));return e.forEach((o,u)=>{Jh(t,u)&&(a=a.add(u))}),a}ls(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,e,a){return eo()<=Vt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",no(e)),this.ns.getDocumentsMatchingQuery(t,e,Jr.min(),a)}hs(t,e,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",Hx=3e8;class Fx{constructor(t,e,a,o){this.persistence=t,this.Ps=e,this.serializer=o,this.Ts=new ue(Dt),this.Is=new ss(u=>Gm(u),$m),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ox(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function Gx(i,t,e,a){return new Fx(i,t,e,a)}async function Yb(i,t){const e=Rt(i);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.As(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Lt();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function $x(i,t){const e=Rt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const b=g.batch,S=b.keys();let O=rt.resolve();return S.forEach(M=>{O=O.next(()=>_.getEntry(m,M)).next(q=>{const k=g.docVersions.get(M);$t(k!==null),q.version.compareTo(k)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),_.addEntry(q)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function Xb(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function Kx(i,t){const e=Rt(i),a=t.snapshotVersion;let o=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.ds.newChangeBuffer({trackRemovals:!0});o=e.Ts;const d=[];t.targetChanges.forEach((_,b)=>{const S=o.get(b);if(!S)return;d.push(e.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>e.Hr.addMatchingKeys(u,_.addedDocuments,b)));let O=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?O=O.withResumeToken(Qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,a)),o=o.insert(b,O),function(q,k,F){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=Hx?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,O,_)&&d.push(e.Hr.updateTargetData(u,O))});let m=lr(),g=Lt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(Qx(u,h,t.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!a.isEqual(At.min())){const _=e.Hr.getLastRemoteSnapshotVersion(u).next(b=>e.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return rt.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ts=o,u))}function Qx(i,t,e){let a=Lt(),o=Lt();return e.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let h=lr();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):ft(ig,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function Yx(i,t){const e=Rt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Hm),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Xx(i,t){const e=Rt(i);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Hr.getTargetData(a,t).next(u=>u?(o=u,rt.resolve(o)):e.Hr.allocateTargetId(a).next(h=>(o=new Kr(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(a.targetId,a),e.Is.set(t,a.targetId)),a})}async function fm(i,t,e){const a=Rt(i),o=a.Ts.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Io(h))throw h;ft(ig,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function uE(i,t,e){const a=Rt(i);let o=At.min(),u=Lt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const b=Rt(m),S=b.Is.get(_);return S!==void 0?rt.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,_)}(a,h,vi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,e?o:At.min(),e?u:Lt())).next(d=>(Wx(a,V2(t),d),{documents:d,gs:u})))}function Wx(i,t,e){let a=i.Es.get(t)||At.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class cE{constructor(){this.activeTargetIds=q2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zx{constructor(){this.ho=new cE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,a){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new cE,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(hE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(hE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function dm(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",tN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,e,a,o,u){const h=dm(),d=this.bo(t,e.toUriEncodedString());ft(Pp,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(t,d,m,a).then(g=>(ft(Pp,`Received RPC '${t}' ${h}: `,g),g),g=>{throw po(Pp,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(t,e,a,o,u,h){return this.So(t,e,a,o,u)}Do(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}bo(t,e){const a=tN[t];return`${this.po}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class iN extends eN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,a,o){const u=dm();return new Promise((h,d)=>{const m=new eb;m.setWithCredentials(!0),m.listenOnce(nb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case mh.NO_ERROR:const _=m.getResponseJson();ft(Ze,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case mh.TIMEOUT:ft(Ze,`RPC '${t}' ${u} timed out`),d(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=m.getStatus();if(ft(Ze,`RPC '${t}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const M=function(k){const F=k.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(F)>=0?F:J.UNKNOWN}(O.status);d(new ht(M,O.message))}else d(new ht(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ht(J.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ft(Ze,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ft(Ze,`RPC '${t}' ${u} sending request:`,o),m.send(e,"POST",g,a,15)})}Wo(t,e,a){const o=dm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=ab(),d=rb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");ft(Ze,`Creating RPC '${t}' stream ${o}: ${_}`,m);const b=h.createWebChannel(_,m);let S=!1,O=!1;const M=new nN({Fo:k=>{O?ft(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(ft(Ze,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ft(Ze,`RPC '${t}' stream ${o} sending:`,k),b.send(k))},Mo:()=>b.close()}),q=(k,F,K)=>{k.listen(F,z=>{try{K(z)}catch(nt){setTimeout(()=>{throw nt},0)}})};return q(b,$l.EventType.OPEN,()=>{O||(ft(Ze,`RPC '${t}' stream ${o} transport opened.`),M.Qo())}),q(b,$l.EventType.CLOSE,()=>{O||(O=!0,ft(Ze,`RPC '${t}' stream ${o} transport closed`),M.Uo())}),q(b,$l.EventType.ERROR,k=>{O||(O=!0,po(Ze,`RPC '${t}' stream ${o} transport errored:`,k),M.Uo(new ht(J.UNAVAILABLE,"The operation could not be completed")))}),q(b,$l.EventType.MESSAGE,k=>{var F;if(!O){const K=k.data[0];$t(!!K);const z=K,nt=(z==null?void 0:z.error)||((F=z[0])===null||F===void 0?void 0:F.error);if(nt){ft(Ze,`RPC '${t}' stream ${o} received error:`,nt);const et=nt.status;let ut=function(R){const I=we[R];if(I!==void 0)return Lb(I)}(et),C=nt.message;ut===void 0&&(ut=J.INTERNAL,C="Unknown error status: "+et+" with message "+nt.message),O=!0,M.Uo(new ht(ut,C)),b.close()}else ft(Ze,`RPC '${t}' stream ${o} received:`,K),M.Ko(K)}}),q(d,ib.STAT_EVENT,k=>{k.stat===em.PROXY?ft(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===em.NOPROXY&&ft(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new ox(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=e,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,e-a);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class Zb{constructor(t,e,a,o,u,h,d,m){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Wb(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(or(e.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===e&&this.V_(a,o)},a=>{t(()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,e){const a=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(dE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(ft(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rN extends Zb{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=cx(this.serializer,t),a=function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Ei(h.readTime):At.min()}(t);return this.listener.p_(e,a)}y_(t){const e={};e.database=hm(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=sm(m)?{documents:dx(u,m)}:{query:px(u,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Bb(u,h.resumeToken);const g=lm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){d.readTime=Vh(u,h.snapshotVersion.toTimestamp());const g=lm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=gx(this.serializer,t);a&&(e.labels=a),this.I_(e)}w_(t){const e={};e.database=hm(this.serializer),e.removeTarget=t,this.I_(e)}}class aN extends Zb{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=fx(t.writeResults,t.commitTime),a=Ei(t.commitTime);return this.listener.v_(a,e)}C_(){const t={};t.database=hm(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>hx(this.serializer,a))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class oN extends sN{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,um(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(J.UNKNOWN,u.toString())})}Co(t,e,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(t,um(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(or(e),this.N_=!1):ft("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="RemoteStore";class uN{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{os(this)&&(ft(es,"Restarting streams for network reachability change."),await async function(m){const g=Rt(m);g.W_.add(4),await wu(g),g.j_.set("Unknown"),g.W_.delete(4),await af(g)}(this))})}),this.j_=new lN(a,o)}}async function af(i){if(os(i))for(const t of i.G_)await t(!0)}async function wu(i){for(const t of i.G_)await t(!1)}function Jb(i,t){const e=Rt(i);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),og(e)?sg(e):Do(e).c_()&&ag(e,t))}function rg(i,t){const e=Rt(i),a=Do(e);e.K_.delete(t),a.c_()&&tw(e,t),e.K_.size===0&&(a.c_()?a.P_():os(e)&&e.j_.set("Unknown"))}function ag(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(i).y_(t)}function tw(i,t){i.H_.Ne(t),Do(i).w_(t)}function sg(i){i.H_=new ix({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.K_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.j_.B_()}function og(i){return os(i)&&!Do(i).u_()&&i.K_.size>0}function os(i){return Rt(i).W_.size===0}function ew(i){i.H_=void 0}async function cN(i){i.j_.set("Online")}async function hN(i){i.K_.forEach((t,e)=>{ag(i,t)})}async function fN(i,t){ew(i),og(i)?(i.j_.q_(t),sg(i)):i.j_.set("Unknown")}async function dN(i,t,e){if(i.j_.set("Online"),t instanceof zb&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,t)}catch(a){ft(es,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Uh(i,a)}else if(t instanceof vh?i.H_.We(t):t instanceof Ub?i.H_.Ze(t):i.H_.je(t),!e.isEqual(At.min()))try{const a=await Xb(i.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.K_.get(g);_&&u.K_.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.K_.get(m);if(!_)return;u.K_.set(m,_.withResumeToken(Qe.EMPTY_BYTE_STRING,_.snapshotVersion)),tw(u,m);const b=new Kr(_.target,m,g,_.sequenceNumber);ag(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(i,e)}catch(a){ft(es,"Failed to raise snapshot:",a),await Uh(i,a)}}async function Uh(i,t,e){if(!Io(t))throw t;i.W_.add(1),await wu(i),i.j_.set("Offline"),e||(e=()=>Xb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ft(es,"Retrying IndexedDB access"),await e(),i.W_.delete(1),await af(i)})}function nw(i,t){return t().catch(e=>Uh(i,e,t))}async function sf(i){const t=Rt(i),e=ia(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:Hm;for(;pN(t);)try{const o=await Yx(t.localStore,a);if(o===null){t.U_.length===0&&e.P_();break}a=o.batchId,mN(t,o)}catch(o){await Uh(t,o)}iw(t)&&rw(t)}function pN(i){return os(i)&&i.U_.length<10}function mN(i,t){i.U_.push(t);const e=ia(i);e.c_()&&e.S_&&e.b_(t.mutations)}function iw(i){return os(i)&&!ia(i).u_()&&i.U_.length>0}function rw(i){ia(i).start()}async function gN(i){ia(i).C_()}async function yN(i){const t=ia(i);for(const e of i.U_)t.b_(e.mutations)}async function _N(i,t,e){const a=i.U_.shift(),o=Wm.from(a,t,e);await nw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await sf(i)}async function vN(i,t){t&&ia(i).S_&&await async function(a,o){if(function(h){return ex(h)&&h!==J.ABORTED}(o.code)){const u=a.U_.shift();ia(a).h_(),await nw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await sf(a)}}(i,t),iw(i)&&rw(i)}async function pE(i,t){const e=Rt(i);e.asyncQueue.verifyOperationInProgress(),ft(es,"RemoteStore received new credentials");const a=os(e);e.W_.add(3),await wu(e),a&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await af(e)}async function EN(i,t){const e=Rt(i);t?(e.W_.delete(2),await af(e)):t||(e.W_.add(2),await wu(e),e.j_.set("Unknown"))}function Do(i){return i.J_||(i.J_=function(e,a,o){const u=Rt(e);return u.M_(),new rN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:cN.bind(null,i),No:hN.bind(null,i),Lo:fN.bind(null,i),p_:dN.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),og(i)?sg(i):i.j_.set("Unknown")):(await i.J_.stop(),ew(i))})),i.J_}function ia(i){return i.Y_||(i.Y_=function(e,a,o){const u=Rt(e);return u.M_(),new aN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:gN.bind(null,i),Lo:vN.bind(null,i),D_:yN.bind(null,i),v_:_N.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await sf(i)):(await i.Y_.stop(),i.U_.length>0&&(ft(es,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new lg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,t){if(or("AsyncQueue",`${t}: ${i}`),Io(i))return new ht(J.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||gt.comparator(e.key,a.key):(e,a)=>gt.comparator(e.key,a.key),this.keyedMap=Kl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new co;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Z_=new ue(gt.comparator)}track(t){const e=t.doc.key,a=this.Z_.get(e);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(e):t.type===1&&a.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,a)=>{t.push(a)}),t}}class Eo{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Eo(t,e,co.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class bN{constructor(){this.queries=gE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,a){const o=Rt(e),u=o.queries;o.queries=gE(),u.forEach((h,d)=>{for(const m of d.ta)m.onError(a)})})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function gE(){return new ss(i=>Ab(i),Zh)}async function aw(i,t){const e=Rt(i);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new TN,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await e.onListen(o,!0);break;case 1:u.ea=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=ug(h,`Initialization of query '${no(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.ta.push(t),t.sa(e.onlineState),u.ea&&t.oa(u.ea)&&cg(e)}async function sw(i,t){const e=Rt(i),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function wN(i,t){const e=Rt(i);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&cg(e)}function SN(i,t,e){const a=Rt(i),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(e);a.queries.delete(t)}function cg(i){i.ia.forEach(t=>{t.next()})}var pm,yE;(yE=pm||(pm={}))._a="default",yE.Cache="cache";class ow{constructor(t,e,a){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const a=e!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.key=t}}class uw{constructor(t){this.key=t}}class AN{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=Rb(t),this.wa=new co(this.ya)}get Sa(){return this.fa}ba(t,e){const a=e?e.Da:new mE,o=e?e.wa:this.wa;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,b)=>{const S=o.get(_),O=Jh(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;S&&O?S.data.isEqual(O.data)?M!==q&&(a.track({type:3,doc:O}),k=!0):this.va(S,O)||(a.track({type:2,doc:O}),k=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(d=!0)):!S&&O?(a.track({type:0,doc:O}),k=!0):S&&!O&&(a.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(O?(h=h.add(O),u=q?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{wa:h,Da:a,ls:d,mutatedKeys:u}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((_,b)=>function(O,M){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return q(O)-q(M)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(a),o=o!=null&&o;const d=e&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new Eo(this.query,t.wa,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Lt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const e=[];return t.forEach(a=>{this.pa.has(a)||e.push(new uw(a))}),this.pa.forEach(a=>{t.has(a)||e.push(new lw(a))}),e}Oa(t){this.fa=t.gs,this.pa=Lt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class RN{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class CN{constructor(t){this.key=t,this.Ba=!1}}class IN{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ss(d=>Ab(d),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new ue(gt.comparator),this.Ua=new Map,this.Ka=new tg,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DN(i,t,e=!0){const a=mw(i);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await cw(a,t,e,!0),o}async function xN(i,t){const e=mw(i);await cw(e,t,!0,!1)}async function cw(i,t,e,a){const o=await Xx(i.localStore,vi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await NN(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&Jb(i.remoteStore,o),d}async function NN(i,t,e,a,o){i.Ha=(b,S,O)=>async function(q,k,F,K){let z=k.view.ba(F);z.ls&&(z=await uE(q.localStore,k.query,!1).then(({documents:C})=>k.view.ba(C,z)));const nt=K&&K.targetChanges.get(k.targetId),et=K&&K.targetMismatches.get(k.targetId)!=null,ut=k.view.applyChanges(z,q.isPrimaryClient,nt,et);return vE(q,k.targetId,ut.Ma),ut.snapshot}(i,b,S,O);const u=await uE(i.localStore,t,!0),h=new AN(t,u.gs),d=h.ba(u.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(e,a&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);vE(i,e,g.Ma);const _=new RN(t,e,h);return i.ka.set(t,_),i.qa.has(e)?i.qa.get(e).push(t):i.qa.set(e,[t]),g.snapshot}async function ON(i,t,e){const a=Rt(i),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!Zh(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&rg(a.remoteStore,o.targetId),mm(a,o.targetId)}).catch(Co)):(mm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function MN(i,t){const e=Rt(i),a=e.ka.get(t),o=e.qa.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),rg(e.remoteStore,a.targetId))}async function PN(i,t,e){const a=jN(i);try{const o=await function(h,d){const m=Rt(h),g=xe.now(),_=d.reduce((O,M)=>O.add(M.key),Lt());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=lr(),q=Lt();return m.ds.getEntries(O,_).next(k=>{M=k,M.forEach((F,K)=>{K.isValidDocument()||(q=q.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(k=>{b=k;const F=[];for(const K of d){const z=X2(K,b.get(K.key).overlayedDocument);z!=null&&F.push(new la(K.key,z,_b(z.value.mapValue),Un.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,F,d)}).next(k=>{S=k;const F=k.applyToLocalDocumentSet(b,q);return m.documentOverlayCache.saveOverlays(O,k.batchId,F)})}).then(()=>({batchId:S.batchId,changes:Ib(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new ue(Dt)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,e),await Su(a,o.changes),await sf(a.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");e.reject(u)}}async function hw(i,t){const e=Rt(i);try{const a=await Kx(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Ua.get(u);h&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$t(h.Ba):o.removedDocuments.size>0&&($t(h.Ba),h.Ba=!1))}),await Su(e,a,t)}catch(a){await Co(a)}}function _E(i,t,e){const a=Rt(i);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.ka.forEach((u,h)=>{const d=h.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Rt(h);m.onlineState=d;let g=!1;m.queries.forEach((_,b)=>{for(const S of b.ta)S.sa(d)&&(g=!0)}),g&&cg(m)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function kN(i,t,e){const a=Rt(i);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Ua.get(t),u=o&&o.key;if(u){let h=new ue(gt.comparator);h=h.insert(u,tn.newNoDocument(u,At.min()));const d=Lt().add(u),m=new nf(At.min(),new Map,new ue(Dt),h,d);await hw(a,m),a.$a=a.$a.remove(u),a.Ua.delete(t),fg(a)}else await fm(a.localStore,t,!1).then(()=>mm(a,t,e)).catch(Co)}async function VN(i,t){const e=Rt(i),a=t.batch.batchId;try{const o=await $x(e.localStore,t);dw(e,a,null),fw(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Su(e,o)}catch(o){await Co(o)}}async function LN(i,t,e){const a=Rt(i);try{const o=await function(h,d){const m=Rt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>($t(b!==null),_=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);dw(a,t,e),fw(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Su(a,o)}catch(o){await Co(o)}}function fw(i,t){(i.Ga.get(t)||[]).forEach(e=>{e.resolve()}),i.Ga.delete(t)}function dw(i,t,e){const a=Rt(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function mm(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),e&&i.La.Ja(a,e);i.qa.delete(t),i.isPrimaryClient&&i.Ka.br(t).forEach(a=>{i.Ka.containsKey(a)||pw(i,a)})}function pw(i,t){i.Qa.delete(t.path.canonicalString());const e=i.$a.get(t);e!==null&&(rg(i.remoteStore,e),i.$a=i.$a.remove(t),i.Ua.delete(e),fg(i))}function vE(i,t,e){for(const a of e)a instanceof lw?(i.Ka.addReference(a.key,t),UN(i,a)):a instanceof uw?(ft(hg,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,t),i.Ka.containsKey(a.key)||pw(i,a.key)):wt()}function UN(i,t){const e=t.key,a=e.path.canonicalString();i.$a.get(e)||i.Qa.has(a)||(ft(hg,"New document in limbo: "+e),i.Qa.add(a),fg(i))}function fg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const e=new gt(ie.fromString(t)),a=i.za.next();i.Ua.set(a,new CN(e)),i.$a=i.$a.insert(e,a),Jb(i.remoteStore,new Kr(vi(Km(e.path)),a,"TargetPurposeLimboResolution",Qh.ae))}}async function Su(i,t,e){const a=Rt(i),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,m)=>{h.push(a.Ha(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const b=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ng.Yi(m.targetId,g);u.push(b)}}))}),await Promise.all(h),a.La.p_(o),await async function(m,g){const _=Rt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>rt.forEach(g,S=>rt.forEach(S.Hi,O=>_.persistence.referenceDelegate.addReference(b,S.targetId,O)).next(()=>rt.forEach(S.Ji,O=>_.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))}catch(b){if(!Io(b))throw b;ft(ig,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const O=_.Ts.get(S),M=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(M);_.Ts=_.Ts.insert(S,q)}}}(a.localStore,u))}async function zN(i,t){const e=Rt(i);if(!e.currentUser.isEqual(t)){ft(hg,"User change. New user:",t.toKey());const a=await Yb(e.localStore,t);e.currentUser=t,function(u,h){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new ht(J.CANCELLED,h))})}),u.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Su(e,a.Rs)}}function BN(i,t){const e=Rt(i),a=e.Ua.get(t);if(a&&a.Ba)return Lt().add(a.key);{let o=Lt();const u=e.qa.get(t);if(!u)return o;for(const h of u){const d=e.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function mw(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kN.bind(null,t),t.La.p_=wN.bind(null,t.eventManager),t.La.Ja=SN.bind(null,t.eventManager),t}function jN(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,t),t}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return Gx(this.persistence,new qx,t.initialUser,this.serializer)}Xa(t){return new Qb(eg.ri,this.serializer)}Za(t){return new Zx}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class qN extends zh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){$t(this.persistence.referenceDelegate instanceof Lh);const a=this.persistence.referenceDelegate.garbageCollector;return new Cx(a,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Qb(a=>Lh.ri(a,e),this.serializer)}}class gm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_E(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await EN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bN}()}createDatastore(t){const e=rf(t.databaseInfo.databaseId),a=function(u){return new iN(u)}(t.databaseInfo);return function(u,h,d,m){return new oN(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new uN(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>_E(this.syncEngine,e,0),function(){return fE.D()?new fE:new Jx}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const b=new IN(o,u,h,d,m,g);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Rt(o);ft(es,"RemoteStore shutting down."),u.W_.add(5),await wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class HN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=lb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ft(ra,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ft(ra,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=ug(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Vp(i,t){i.asyncQueue.verifyOperationInProgress(),ft(ra,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let a=e.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Yb(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function EE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await FN(i);ft(ra,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(a=>pE(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>pE(t.remoteStore,o)),i._onlineComponents=t}async function FN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft(ra,"Using user provided OfflineComponentProvider");try{await Vp(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;po("Error using user provided cache. Falling back to memory cache: "+e),await Vp(i,new zh)}}else ft(ra,"Using default OfflineComponentProvider"),await Vp(i,new qN(void 0));return i._offlineComponents}async function yw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft(ra,"Using user provided OnlineComponentProvider"),await EE(i,i._uninitializedComponentsProvider._online)):(ft(ra,"Using default OnlineComponentProvider"),await EE(i,new gm))),i._onlineComponents}function GN(i){return yw(i).then(t=>t.syncEngine)}async function _w(i){const t=await yw(i),e=t.eventManager;return e.onListen=DN.bind(null,t.syncEngine),e.onUnlisten=ON.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=MN.bind(null,t.syncEngine),e}function $N(i,t,e={}){const a=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new gw({next:S=>{_.su(),h.enqueueAndForget(()=>sw(u,b));const O=S.docs.has(d);!O&&S.fromCache?g.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&m&&m.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new ow(Km(d.path),_,{includeMetadataChanges:!0,Ta:!0});return aw(u,b)}(await _w(i),i.asyncQueue,t,e,a)),a.promise}function KN(i,t,e={}){const a=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new gw({next:S=>{_.su(),h.enqueueAndForget(()=>sw(u,b)),S.fromCache&&m.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new ow(d,_,{includeMetadataChanges:!0,Ta:!0});return aw(u,b)}(await _w(i),i.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i,t,e){if(!e)throw new ht(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function QN(i,t,e,a){if(t===!0&&a===!0)throw new ht(J.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function bE(i){if(!gt.isDocumentKey(i))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wE(i){if(gt.isDocumentKey(i))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function of(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":wt()}function Qn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=of(i);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",SE=!0;class AE{constructor(t){var e,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=SE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:SE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ax)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vw((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new e2;switch(a.type){case"firstParty":return new a2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=TE.get(e);a&&(ft("ComponentProvider","Removing Datastore"),TE.delete(e),a.terminate())}(this),Promise.resolve()}}function YN(i,t,e,a={}){var o;const u=(i=Qn(i,lf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${t}:${e}`;u.host!==Tw&&u.host!==d&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Ya(m,h)&&(i._setSettings(m),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Je.MOCK_USER;else{g=a1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Je(b)}i._authCredentials=new n2(new sb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class ln{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Zr extends fr{constructor(t,e,a){super(t,e,Km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new gt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function bw(i,t,...e){if(i=pe(i),Ew("collection","path",t),i instanceof lf){const a=ie.fromString(t,...e);return wE(a),new Zr(i,null,a)}{if(!(i instanceof ln||i instanceof Zr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ie.fromString(t,...e));return wE(a),new Zr(i.firestore,null,a)}}function ir(i,t,...e){if(i=pe(i),arguments.length===1&&(t=lb.newId()),Ew("doc","path",t),i instanceof lf){const a=ie.fromString(t,...e);return bE(a),new ln(i,null,new gt(a))}{if(!(i instanceof ln||i instanceof Zr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ie.fromString(t,...e));return bE(a),new ln(i.firestore,i instanceof Zr?i.converter:null,new gt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class CE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Wb(this,"async_queue_retry"),this.Su=()=>{const a=kp();a&&ft(RE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const e=kp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=kp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Io(t))throw t;ft(RE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw or("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=e,e}enqueueAfterDelay(t,e,a){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const o=lg.createAndSchedule(this,t,e,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class ls extends lf{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new CE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CE(t),this._firestoreClient=void 0,await t}}}function XN(i,t){const e=typeof i=="object"?i:mT(),a=typeof i=="string"?i:Nh,o=Om(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=i1("firestore");u&&YN(o,...u)}return o}function dg(i){if(i._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WN(i),i._firestoreClient}function WN(i){var t,e,a;const o=i._freezeSettings(),u=function(d,m,g,_){return new E2(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,vw(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new HN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this._byteString=t}static fromBase64String(t){try{return new To(Qe.fromBase64String(t))}catch(e){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new To(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class JN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,e,this.fieldTransforms):new Tu(t,this.data,e,this.fieldTransforms)}}class ww{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return new la(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class gg{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new gg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Bh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Sw(this.Lu)&&ZN.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class tO{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||rf(t)}ju(t,e,a,o=!1){return new gg({Lu:t,methodName:e,zu:a,path:Ke.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(i){const t=i._freezeSettings(),e=rf(i._databaseId);return new tO(i._databaseId,!!t.ignoreUndefinedProperties,e)}function Aw(i,t,e,a,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,t,e,o);_g("Data must be an object, but it was:",h,a);const d=Cw(a,h);let m,g;if(u.merge)m=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const S=ym(t,b,e);if(!h.contains(S))throw new ht(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Dw(_,S)||_.push(S)}m=new wn(_),g=h.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=h.fieldTransforms;return new JN(new dn(d),m,g)}class hf extends cf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hf}}class yg extends cf{_toFieldTransform(t){return new $2(t.path,new lu)}isEqual(t){return t instanceof yg}}function eO(i,t,e,a){const o=i.ju(1,t,e);_g("Data must be an object, but it was:",o,a);const u=[],h=dn.empty();oa(a,(m,g)=>{const _=vg(t,m,e);g=pe(g);const b=o.Uu(_);if(g instanceof hf)u.push(_);else{const S=Ru(g,b);S!=null&&(u.push(_),h.set(_,S))}});const d=new wn(u);return new ww(h,d,o.fieldTransforms)}function nO(i,t,e,a,o,u){const h=i.ju(1,t,e),d=[ym(t,a,e)],m=[o];if(u.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(ym(t,u[S])),m.push(u[S+1]);const g=[],_=dn.empty();for(let S=d.length-1;S>=0;--S)if(!Dw(g,d[S])){const O=d[S];let M=m[S];M=pe(M);const q=h.Uu(O);if(M instanceof hf)g.push(O);else{const k=Ru(M,q);k!=null&&(g.push(O),_.set(O,k))}}const b=new wn(g);return new ww(_,b,h.fieldTransforms)}function Rw(i,t,e,a=!1){return Ru(e,i.ju(a?4:3,t))}function Ru(i,t){if(Iw(i=pe(i)))return _g("Unsupported field value:",t,i),Cw(i,t);if(i instanceof cf)return function(a,o){if(!Sw(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=Ru(d,o.Ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,t)}return function(a,o){if((a=pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return H2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=xe.fromDate(a);return{timestampValue:Vh(o.serializer,u)}}if(a instanceof xe){const u=new xe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(a instanceof pg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof To)return{bytesValue:Bb(o.serializer,a._byteString)};if(a instanceof ln){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof mg)return function(h,d){return{mapValue:{fields:{[gb]:{stringValue:yb},[Oh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Ym(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${of(a)}`)}(i,t)}function Cw(i,t){const e={};return cb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(i,(a,o)=>{const u=Ru(o,t.qu(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function Iw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xe||i instanceof pg||i instanceof To||i instanceof ln||i instanceof cf||i instanceof mg)}function _g(i,t,e){if(!Iw(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const a=of(e);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function ym(i,t,e){if((t=pe(t))instanceof uf)return t._internalPath;if(typeof t=="string")return vg(i,t);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,e)}const iO=new RegExp("[~\\*/\\[\\]]");function vg(i,t,e){if(t.search(iO)>=0)throw Bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new uf(...t.split("."))._internalPath}catch{throw Bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Bh(i,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new ht(J.INVALID_ARGUMENT,d+i+m)}function Dw(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Tg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rO extends Eg{data(){return super.data()}}function Tg(i,t){return typeof t=="string"?vg(i,t):t instanceof uf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class ff extends bg{}function IE(i,t,...e){let a=[];t instanceof bg&&a.push(t),a=a.concat(e),function(u){const h=u.filter(m=>m instanceof Sg).length,d=u.filter(m=>m instanceof wg).length;if(h>1||h>0&&d>0)throw new ht(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class wg extends ff{constructor(t,e,a){super(),this._field=t,this._op=e,this._value=a,this.type="where"}static _create(t,e,a){return new wg(t,e,a)}_apply(t){const e=this._parse(t);return xw(t._query,e),new fr(t.firestore,t.converter,om(t._query,e))}_parse(t){const e=Au(t.firestore);return function(u,h,d,m,g,_,b){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ht(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){OE(b,_);const M=[];for(const q of b)M.push(NE(m,u,q));S={arrayValue:{values:M}}}else S=NE(m,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||OE(b,_),S=Rw(d,h,b,_==="in"||_==="not-in");return Se.create(g,_,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends bg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Sg(t,e)}_parse(t){const e=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return e.length===1?e[0]:Kn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)xw(h,m),h=om(h,m)}(t._query,e),new fr(t.firestore,t.converter,om(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends ff{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Ag(t,e)}_apply(t){const e=function(o,u,h){if(o.startAt!==null)throw new ht(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ht(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,h)}(t._query,this._field,this._direction);return new fr(t.firestore,t.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new as(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function DE(i,t="asc"){const e=t,a=Tg("orderBy",i);return Ag._create(a,e)}class Rg extends ff{constructor(t,e,a){super(),this.type=t,this._limit=e,this._limitType=a}static _create(t,e,a){return new Rg(t,e,a)}_apply(t){return new fr(t.firestore,t.converter,Ph(t._query,this._limit,this._limitType))}}function xE(i){return Rg._create("limit",i,"F")}class Cg extends ff{constructor(t,e,a){super(),this.type=t,this._docOrFields=e,this._inclusive=a}static _create(t,e,a){return new Cg(t,e,a)}_apply(t){const e=oO(t,this.type,this._docOrFields,this._inclusive);return new fr(t.firestore,t.converter,function(o,u){return new as(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(t._query,e))}}function sO(...i){return Cg._create("startAfter",i,!1)}function oO(i,t,e,a){if(e[0]=pe(e[0]),e[0]instanceof Eg)return function(u,h,d,m,g){if(!m)throw new ht(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const b of uo(u))if(b.field.isKeyField())_.push(Mh(h,m.key));else{const S=m.data.field(b.field);if(Xh(S))throw new ht(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const O=b.field.canonicalString();throw new ht(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}_.push(S)}return new _o(_,g)}(i._query,i.firestore._databaseId,t,e[0]._document,a);{const o=Au(i.firestore);return function(h,d,m,g,_,b){const S=h.explicitOrderBy;if(_.length>S.length)throw new ht(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let M=0;M<_.length;M++){const q=_[M];if(S[M].field.isKeyField()){if(typeof q!="string")throw new ht(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!Qm(h)&&q.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const k=h.path.child(ie.fromString(q));if(!gt.isDocumentKey(k))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const F=new gt(k);O.push(Mh(d,F))}else{const k=Rw(m,g,q);O.push(k)}}return new _o(O,b)}(i._query,i.firestore._databaseId,o,t,e,a)}}function NE(i,t,e){if(typeof(e=pe(e))=="string"){if(e==="")throw new ht(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qm(t)&&e.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const a=t.path.child(ie.fromString(e));if(!gt.isDocumentKey(a))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Mh(i,new gt(a))}if(e instanceof ln)return Mh(i,e._key);throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(e)}.`)}function OE(i,t){if(!Array.isArray(i)||i.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xw(i,t){const e=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class lO{convertValue(t,e="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return oa(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var e,a,o;const u=(o=(a=(e=t.fields)===null||e===void 0?void 0:e[Oh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>_e(h.doubleValue));return new mg(u)}convertGeoPoint(t){return new pg(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=Wh(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const e=ta(t);return new xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=ie.fromString(t);$t($b(a));const o=new au(a.get(1),a.get(3)),u=new gt(a.popFirst(5));return o.isEqual(e)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i,t,e){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ow extends Eg{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Tg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}}class Eh extends Ow{data(t={}){return super.data(t)}}class uO{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new Eh(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:cO(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(i){i=Qn(i,ln);const t=Qn(i.firestore,ls);return $N(dg(t),i._key).then(e=>pO(t,i,e))}class Mw extends lO{constructor(t){super(),this.firestore=t}convertBytes(t){return new To(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,e)}}function hO(i){i=Qn(i,fr);const t=Qn(i.firestore,ls),e=dg(t),a=new Mw(t);return aO(i._query),KN(e,i._query).then(o=>new uO(t,a,i,o))}function fO(i,t,e){i=Qn(i,ln);const a=Qn(i.firestore,ls),o=Nw(i.converter,t);return df(a,[Aw(Au(a),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Un.none())])}function Pw(i,t,e,...a){i=Qn(i,ln);const o=Qn(i.firestore,ls),u=Au(o);let h;return h=typeof(t=pe(t))=="string"||t instanceof uf?nO(u,"updateDoc",i._key,t,e,a):eO(u,"updateDoc",i._key,t),df(o,[h.toMutation(i._key,Un.exists(!0))])}function kw(i){return df(Qn(i.firestore,ls),[new Xm(i._key,Un.none())])}function dO(i,t){const e=Qn(i.firestore,ls),a=ir(i),o=Nw(i.converter,t);return df(e,[Aw(Au(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function df(i,t){return function(a,o){const u=new nr;return a.asyncQueue.enqueueAndForget(async()=>PN(await GN(a),o,u)),u.promise}(dg(i),t)}function pO(i,t,e){const a=e.docs.get(t._key),o=new Mw(i);return new Ow(i,o,t._key,a,new Yl(e.hasPendingWrites,e.fromCache),t.converter)}function jh(){return new yg("serverTimestamp")}(function(t,e=!0){(function(o){Ro=o})(Ao),fo(new Xa("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new ls(new i2(a.getProvider("auth-internal")),new s2(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Xr(M0,P0,t),Xr(M0,P0,"esm2017")})();const mO={apiKey:"AIzaSyCwzvqfwiGFPOwxVk2hJlv_Jzp8XBAVT7A",authDomain:"mediabox-1772f.firebaseapp.com",projectId:"mediabox-1772f",storageBucket:"mediabox-1772f.firebasestorage.app",messagingSenderId:"148968605688",appId:"1:148968605688:web:1c447eead001c2d26c780d"},Vw=pT(mO),gi=JD(Vw),Ti=XN(Vw),gO="_topbar_1s1xt_1",yO="_logo_1s1xt_21",_O="_searchInput_1s1xt_37",vO="_actions_1s1xt_69",EO="_addButton_1s1xt_83",TO="_editButton_1s1xt_85",bO="_icon_1s1xt_87",wO="_profileIcon_1s1xt_117",SO="_avatarImg_1s1xt_131",Xi={topbar:gO,logo:yO,searchInput:_O,actions:vO,addButton:EO,editButton:TO,icon:bO,profileIcon:wO,avatarImg:SO},AO="_profile_8zlyw_5",RO="_dropdown_8zlyw_23",ME={profile:AO,dropdown:RO};function CO({isOpen:i,onToggle:t,onOpenConfig:e,avatarRef:a}){const o=L.useRef(null),u=du(),h=()=>{localStorage.removeItem("token"),u("/login")};return L.useEffect(()=>{const d=m=>{var g;i&&o.current&&!o.current.contains(m.target)&&!((g=a==null?void 0:a.current)!=null&&g.contains(m.target))&&t(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[i,t,a]),B.jsx("div",{ref:o,className:ME.profile,children:i&&B.jsxs("div",{className:ME.dropdown,children:[B.jsx("button",{type:"button",onClick:()=>{t(!1),typeof e=="function"&&e()},children:"Configuraes"}),B.jsx("button",{type:"button",onClick:h,children:"Logout"})]})})}function IO({onAdd:i,onEdit:t,profileOpen:e,onToggleProfile:a,onOpenConfig:o}){const[u,h]=L.useState(null),d=L.useRef();return L.useEffect(()=>{(async()=>{const g=gi.currentUser;if(!g)return;const _=ir(Ti,"Usuarios",g.uid),b=await Ig(_);if(b.exists()){const S=b.data();S.avatarBase64&&h(S.avatarBase64)}})()},[]),B.jsxs("nav",{className:Xi.topbar,children:[B.jsx("div",{className:Xi.logo,children:B.jsx("img",{src:"/MediaBox/MediaBoxLogo.png",alt:"MediaBox Logo"})}),B.jsx("input",{type:"text",className:Xi.searchInput,placeholder:"Buscar por ttulo ou tag"}),B.jsxs("div",{className:Xi.actions,children:[B.jsx("button",{onClick:i,className:Xi.addButton,children:""}),B.jsx("button",{onClick:t,className:Xi.editButton,children:""}),B.jsx("div",{ref:d,className:Xi.profileIcon,onClick:()=>a(!e),children:u?B.jsx("img",{src:u,alt:"avatar",className:Xi.avatarImg}):B.jsx("span",{className:Xi.icon,children:""})}),B.jsx(CO,{isOpen:e,onToggle:a,onOpenConfig:o,avatarRef:d})]})]})}function DO({loadMore:i,hasMore:t,children:e}){const a=L.useRef();return L.useEffect(()=>{if(!t)return;const o=new IntersectionObserver(([u])=>{u.isIntersecting&&i()},{rootMargin:"200px"});return o.observe(a.current),()=>o.disconnect()},[i,t]),B.jsxs(B.Fragment,{children:[e,t&&B.jsx("div",{ref:a,style:{height:1}})]})}const xO="_table_s9r1g_5",NO="_tableContainer_s9r1g_21",OO="_capaImg_s9r1g_201",MO="_emptyState_s9r1g_215",PO="_selectedRow_s9r1g_233",kO="_fadeOut_s9r1g_243",ho={table:xO,tableContainer:NO,capaImg:OO,emptyState:MO,selectedRow:PO,fadeOut:kO},VO="_reviewStars_fh5uo_5",LO="_starFilled_fh5uo_21",UO="_starEmpty_fh5uo_29",Lp={reviewStars:VO,starFilled:LO,starEmpty:UO};function zO({rating:i,max:t=5}){const e=Math.max(0,Math.min(Math.round(i),t));return B.jsx("div",{className:Lp.reviewStars,title:`${e} de ${t} estrelas`,children:Array.from({length:t},(a,o)=>B.jsx("span",{className:o<e?Lp.starFilled:Lp.starEmpty,"aria-hidden":"true",children:""},o))})}function BO(i){if(i!=null&&i.toDate)return i.toDate().toLocaleDateString();if(typeof i=="string"){const[t,e,a]=i.split("-");return`${a}/${e}/${t}`}return""}function jO({item:i,isSelected:t,onSelect:e,fadeOut:a=!1}){return B.jsxs("tr",{className:`${t?ho.selectedRow:""} ${a?ho.fadeOut:""}`,onClick:e,children:[B.jsx("td",{"data-cell":"Capa",children:B.jsx("img",{src:i.capa,alt:i.titulo,className:ho.capaImg})}),B.jsx("td",{"data-cell":"Ttulo",children:i.titulo}),B.jsx("td",{"data-cell":"Tipo",children:i.tipo}),B.jsx("td",{"data-cell":"Progresso",children:i.progresso}),B.jsx("td",{"data-cell":"Data de incluso",children:BO(i.dataInclusao)}),B.jsx("td",{"data-cell":"Gnero",children:Array.isArray(i.genero)?i.genero.join(", "):i.genero}),B.jsx("td",{"data-cell":"Comentrio",title:i.comentario,children:i.comentario}),B.jsx("td",{"data-cell":"Nota",children:B.jsx(zO,{rating:i.nota})})]})}function qO({items:i,selectedId:t,onSelect:e,onRatingChange:a}){const[o,u]=L.useState(null);return i.length?B.jsx("div",{className:ho.tableContainer,children:B.jsxs("table",{className:ho.table,children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Capa"}),B.jsx("th",{children:"Ttulo"}),B.jsx("th",{children:"Tipo"}),B.jsx("th",{children:"Progresso"}),B.jsx("th",{children:"Data de Incluso"}),B.jsx("th",{children:"Gnero"}),B.jsx("th",{children:"Comentrio"}),B.jsx("th",{children:"Nota"})]})}),B.jsx("tbody",{children:i.map(h=>B.jsx(jO,{item:h,isSelected:h.id===t,onSelect:()=>e(h),fadeOut:h._removing===!0},h.id))})]})}):B.jsx("div",{className:ho.emptyState,children:B.jsx("p",{children:"Nenhuma mdia cadastrada."})})}var Up,PE;function HO(){if(PE)return Up;PE=1;var i=!1,t,e,a,o,u,h,d,m,g,_,b,S,O,M,q;function k(){if(!i){i=!0;var K=navigator.userAgent,z=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(K),nt=/(Mac OS X)|(Windows)|(Linux)/.exec(K);if(S=/\b(iPhone|iP[ao]d)/.exec(K),O=/\b(iP[ao]d)/.exec(K),_=/Android/i.exec(K),M=/FBAN\/\w+;/i.exec(K),q=/Mobile/i.exec(K),b=!!/Win64/.exec(K),z){t=z[1]?parseFloat(z[1]):z[5]?parseFloat(z[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var et=/(?:Trident\/(\d+.\d+))/.exec(K);h=et?parseFloat(et[1])+4:t,e=z[2]?parseFloat(z[2]):NaN,a=z[3]?parseFloat(z[3]):NaN,o=z[4]?parseFloat(z[4]):NaN,o?(z=/(?:Chrome\/(\d+\.\d+))/.exec(K),u=z&&z[1]?parseFloat(z[1]):NaN):u=NaN}else t=e=a=u=o=NaN;if(nt){if(nt[1]){var ut=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(K);d=ut?parseFloat(ut[1].replace("_",".")):!0}else d=!1;m=!!nt[2],g=!!nt[3]}else d=m=g=!1}}var F={ie:function(){return k()||t},ieCompatibilityMode:function(){return k()||h>t},ie64:function(){return F.ie()&&b},firefox:function(){return k()||e},opera:function(){return k()||a},webkit:function(){return k()||o},safari:function(){return F.webkit()},chrome:function(){return k()||u},windows:function(){return k()||m},osx:function(){return k()||d},linux:function(){return k()||g},iphone:function(){return k()||S},mobile:function(){return k()||S||O||_||q},nativeApp:function(){return k()||M},android:function(){return k()||_},ipad:function(){return k()||O}};return Up=F,Up}var zp,kE;function FO(){if(kE)return zp;kE=1;var i=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:i,canUseWorkers:typeof Worker<"u",canUseEventListeners:i&&!!(window.addEventListener||window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};return zp=t,zp}var Bp,VE;function GO(){if(VE)return Bp;VE=1;var i=FO(),t;i.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(a,o){if(!i.canUseDOM||o&&!("addEventListener"in document))return!1;var u="on"+a,h=u in document;if(!h){var d=document.createElement("div");d.setAttribute(u,"return;"),h=typeof d[u]=="function"}return!h&&t&&a==="wheel"&&(h=document.implementation.hasFeature("Events.wheel","3.0")),h}return Bp=e,Bp}var jp,LE;function $O(){if(LE)return jp;LE=1;var i=HO(),t=GO(),e=10,a=40,o=800;function u(h){var d=0,m=0,g=0,_=0;return"detail"in h&&(m=h.detail),"wheelDelta"in h&&(m=-h.wheelDelta/120),"wheelDeltaY"in h&&(m=-h.wheelDeltaY/120),"wheelDeltaX"in h&&(d=-h.wheelDeltaX/120),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(d=m,m=0),g=d*e,_=m*e,"deltaY"in h&&(_=h.deltaY),"deltaX"in h&&(g=h.deltaX),(g||_)&&h.deltaMode&&(h.deltaMode==1?(g*=a,_*=a):(g*=o,_*=o)),g&&!d&&(d=g<1?-1:1),_&&!m&&(m=_<1?-1:1),{spinX:d,spinY:m,pixelX:g,pixelY:_}}return u.getEventType=function(){return i.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},jp=u,jp}var qp,UE;function KO(){return UE||(UE=1,qp=$O()),qp}var QO=KO();const YO=FE(QO);function XO(i,t,e,a,o,u){u===void 0&&(u=0);var h=bo(i,t,u),d=h.width,m=h.height,g=Math.min(d,e),_=Math.min(m,a);return g>_*o?{width:_*o,height:_}:{width:g,height:g/o}}function WO(i){return i.width>i.height?i.width/i.naturalWidth:i.height/i.naturalHeight}function Hl(i,t,e,a,o){o===void 0&&(o=0);var u=bo(t.width,t.height,o),h=u.width,d=u.height;return{x:zE(i.x,h,e.width,a),y:zE(i.y,d,e.height,a)}}function zE(i,t,e,a){var o=t*a/2-e/2;return pf(i,-o,o)}function BE(i,t){return Math.sqrt(Math.pow(i.y-t.y,2)+Math.pow(i.x-t.x,2))}function jE(i,t){return Math.atan2(t.y-i.y,t.x-i.x)*180/Math.PI}function ZO(i,t,e,a,o,u,h){u===void 0&&(u=0),h===void 0&&(h=!0);var d=h?JO:tM,m=bo(t.width,t.height,u),g=bo(t.naturalWidth,t.naturalHeight,u),_={x:d(100,((m.width-e.width/o)/2-i.x/o)/m.width*100),y:d(100,((m.height-e.height/o)/2-i.y/o)/m.height*100),width:d(100,e.width/m.width*100/o),height:d(100,e.height/m.height*100/o)},b=Math.round(d(g.width,_.width*g.width/100)),S=Math.round(d(g.height,_.height*g.height/100)),O=g.width>=g.height*a,M=O?{width:Math.round(S*a),height:S}:{width:b,height:Math.round(b/a)},q=ze(ze({},M),{x:Math.round(d(g.width-M.width,_.x*g.width/100)),y:Math.round(d(g.height-M.height,_.y*g.height/100))});return{croppedAreaPercentages:_,croppedAreaPixels:q}}function JO(i,t){return Math.min(i,Math.max(0,t))}function tM(i,t){return t}function eM(i,t,e,a,o,u){var h=bo(t.width,t.height,e),d=pf(a.width/h.width*(100/i.width),o,u),m={x:d*h.width/2-a.width/2-h.width*d*(i.x/100),y:d*h.height/2-a.height/2-h.height*d*(i.y/100)};return{crop:m,zoom:d}}function nM(i,t,e){var a=WO(t);return e.height>e.width?e.height/(i.height*a):e.width/(i.width*a)}function iM(i,t,e,a,o,u){e===void 0&&(e=0);var h=bo(t.naturalWidth,t.naturalHeight,e),d=pf(nM(i,t,a),o,u),m=a.height>a.width?a.height/i.height:a.width/i.width,g={x:((h.width-i.width)/2-i.x)*m,y:((h.height-i.height)/2-i.y)*m};return{crop:g,zoom:d}}function qE(i,t){return{x:(t.x+i.x)/2,y:(t.y+i.y)/2}}function rM(i){return i*Math.PI/180}function bo(i,t,e){var a=rM(e);return{width:Math.abs(Math.cos(a)*i)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*i)+Math.abs(Math.cos(a)*t)}}function pf(i,t,e){return Math.min(Math.max(i,t),e)}function oh(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return i.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var aM=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,sM=1,oM=3,lM=1,Dg=function(i){OC(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.cropperRef=L.createRef(),e.imageRef=L.createRef(),e.videoRef=L.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var a=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(a){a=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(a){return a.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var a=e.computeSizes();a&&(e.emitCropData(),e.setInitialCrop(a)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(a){if(e.props.initialCroppedAreaPercentages){var o=eM(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),u=o.crop,h=o.zoom;e.props.onCropChange(u),e.props.onZoomChange&&e.props.onZoomChange(h)}else if(e.props.initialCroppedAreaPixels){var d=iM(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),u=d.crop,h=d.zoom;e.props.onCropChange(u),e.props.onZoomChange&&e.props.onZoomChange(h)}},e.computeSizes=function(){var a,o,u,h,d,m,g=e.imageRef.current||e.videoRef.current;if(g&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var _=e.containerRect.width/e.containerRect.height,b=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,S=((u=e.imageRef.current)===null||u===void 0?void 0:u.naturalHeight)||((h=e.videoRef.current)===null||h===void 0?void 0:h.videoHeight)||0,O=g.offsetWidth<b||g.offsetHeight<S,M=b/S,q=void 0;if(O)switch(e.state.mediaObjectFit){default:case"contain":q=_>M?{width:e.containerRect.height*M,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/M};break;case"horizontal-cover":q={width:e.containerRect.width,height:e.containerRect.width/M};break;case"vertical-cover":q={width:e.containerRect.height*M,height:e.containerRect.height};break}else q={width:g.offsetWidth,height:g.offsetHeight};e.mediaSize=ze(ze({},q),{naturalWidth:b,naturalHeight:S}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var k=e.props.cropSize?e.props.cropSize:XO(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((d=e.state.cropSize)===null||d===void 0?void 0:d.height)!==k.height||((m=e.state.cropSize)===null||m===void 0?void 0:m.width)!==k.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(k),e.setState({cropSize:k},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(k),k}},e.saveContainerPosition=function(){if(e.containerRef){var a=e.containerRef.getBoundingClientRect();e.containerPosition={x:a.left,y:a.top}}},e.onMouseDown=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(t.getMousePoint(a)))},e.onMouseMove=function(a){return e.onDrag(t.getMousePoint(a))},e.onScroll=function(a){e.currentDoc&&(a.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(a){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(a))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),a.touches.length===2?e.onPinchStart(a):a.touches.length===1&&e.onDragStart(t.getTouchPoint(a.touches[0]))))},e.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?e.onPinchMove(a):a.touches.length===1&&e.onDrag(t.getTouchPoint(a.touches[0]))},e.onGestureStart=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(a){if(a.preventDefault(),!e.isTouching){var o=t.getMousePoint(a),u=e.gestureZoomStart-1+a.scale;if(e.setNewZoom(u,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var h=e.gestureRotationStart+a.rotation;e.props.onRotationChange(h)}}},e.onGestureEnd=function(a){e.cleanEvents()},e.onDragStart=function(a){var o,u,h=a.x,d=a.y;e.dragStartPosition={x:h,y:d},e.dragStartCrop=ze({},e.props.crop),(u=(o=e.props).onInteractionStart)===null||u===void 0||u.call(o)},e.onDrag=function(a){var o=a.x,u=a.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(o===void 0||u===void 0)){var h=o-e.dragStartPosition.x,d=u-e.dragStartPosition.y,m={x:e.dragStartCrop.x+h,y:e.dragStartCrop.y+d},g=e.props.restrictPosition?Hl(m,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):m;e.props.onCropChange(g)}}))},e.onDragStopped=function(){var a,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(a=e.props).onInteractionEnd)===null||o===void 0||o.call(a)},e.onWheel=function(a){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(a))){a.preventDefault();var o=t.getMousePoint(a),u=YO(a).pixelY,h=e.props.zoom-u*e.props.zoomSpeed/200;e.setNewZoom(h,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var d,m;return(m=(d=e.props).onInteractionStart)===null||m===void 0?void 0:m.call(d)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var d,m;return(m=(d=e.props).onInteractionEnd)===null||m===void 0?void 0:m.call(d)})},250)}},e.getPointOnContainer=function(a,o){var u=a.x,h=a.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(u-o.x),y:e.containerRect.height/2-(h-o.y)}},e.getPointOnMedia=function(a){var o=a.x,u=a.y,h=e.props,d=h.crop,m=h.zoom;return{x:(o+d.x)/m,y:(u+d.y)/m}},e.setNewZoom=function(a,o,u){var h=u===void 0?{}:u,d=h.shouldUpdatePosition,m=d===void 0?!0:d;if(!(!e.state.cropSize||!e.props.onZoomChange)){var g=pf(a,e.props.minZoom,e.props.maxZoom);if(m){var _=e.getPointOnContainer(o,e.containerPosition),b=e.getPointOnMedia(_),S={x:b.x*g-_.x,y:b.y*g-_.y},O=e.props.restrictPosition?Hl(S,e.mediaSize,e.state.cropSize,g,e.props.rotation):S;e.props.onCropChange(O)}e.props.onZoomChange(g)}},e.getCropData=function(){if(!e.state.cropSize)return null;var a=e.props.restrictPosition?Hl(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return ZO(a,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var a=e.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,u),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,u)}},e.emitCropAreaChange=function(){var a=e.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,u)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var a=e.props.restrictPosition?Hl(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(a),e.emitCropData()}},e.onKeyDown=function(a){var o,u,h=e.props,d=h.crop,m=h.onCropChange,g=h.keyboardStep,_=h.zoom,b=h.rotation,S=g;if(e.state.cropSize){a.shiftKey&&(S*=.2);var O=ze({},d);switch(a.key){case"ArrowUp":O.y-=S,a.preventDefault();break;case"ArrowDown":O.y+=S,a.preventDefault();break;case"ArrowLeft":O.x-=S,a.preventDefault();break;case"ArrowRight":O.x+=S,a.preventDefault();break;default:return}e.props.restrictPosition&&(O=Hl(O,e.mediaSize,e.state.cropSize,_,b)),a.repeat||(u=(o=e.props).onInteractionStart)===null||u===void 0||u.call(o),m(O)}},e.onKeyUp=function(a){var o,u;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}e.emitCropData(),(u=(o=e.props).onInteractionEnd)===null||u===void 0||u.call(o)},e}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=aM,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var a,o,u,h,d,m,g,_,b;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((a=e.cropSize)===null||a===void 0?void 0:a.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((u=e.cropSize)===null||u===void 0?void 0:u.width)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.width)?this.computeSizes():(((d=e.crop)===null||d===void 0?void 0:d.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((g=e.crop)===null||g===void 0?void 0:g.y)!==((_=this.props.crop)===null||_===void 0?void 0:_.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((b=this.videoRef.current)===null||b===void 0||b.load());var S=this.getObjectFit();S!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:S},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,a=e.cropSize,o=e.aspect;return a?a.width/a.height:o},t.prototype.getObjectFit=function(){var e,a,o,u;if(this.props.objectFit==="cover"){var h=this.imageRef.current||this.videoRef.current;if(h&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,m=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,g=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((u=this.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,_=m/g;return _<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var a=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=BE(a,o),this.lastPinchRotation=jE(a,o),this.onDragStart(qE(a,o))},t.prototype.onPinchMove=function(e){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(e.touches[0]),u=t.getTouchPoint(e.touches[1]),h=qE(o,u);this.onDrag(h),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=BE(o,u),m=a.props.zoom*(d/a.lastPinchDistance);a.setNewZoom(m,h,{shouldUpdatePosition:!1}),a.lastPinchDistance=d;var g=jE(o,u),_=a.props.rotation+(g-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(_),a.lastPinchRotation=g})}},t.prototype.render=function(){var e=this,a,o=this.props,u=o.image,h=o.video,d=o.mediaProps,m=o.cropperProps,g=o.transform,_=o.crop,b=_.x,S=_.y,O=o.rotation,M=o.zoom,q=o.cropShape,k=o.showGrid,F=o.style,K=F.containerStyle,z=F.cropAreaStyle,nt=F.mediaStyle,et=o.classes,ut=et.containerClassName,C=et.cropAreaClassName,A=et.mediaClassName,R=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(N){return e.containerRef=N},"data-testid":"container",style:K,className:oh("reactEasyCrop_Container",ut)},u?L.createElement("img",ze({alt:"",className:oh("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},d,{src:u,ref:this.imageRef,style:ze(ze({},nt),{transform:g||"translate(".concat(b,"px, ").concat(S,"px) rotate(").concat(O,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):h&&L.createElement("video",ze({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:oh("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ze(ze({},nt),{transform:g||"translate(".concat(b,"px, ").concat(S,"px) rotate(").concat(O,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(h)?h:[{src:h}]).map(function(I){return L.createElement("source",ze({key:I.src},I))})),this.state.cropSize&&L.createElement("div",ze({ref:this.cropperRef,style:ze(ze({},z),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:oh("reactEasyCrop_CropArea",q==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",C)},m)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:oM,minZoom:sM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:lM},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(L.Component);function xg(i,t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const a=e.getContext("2d");return new Promise((o,u)=>{const h=new Image;h.crossOrigin="anonymous",h.src=i,h.onload=()=>{a.drawImage(h,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const d=e.toDataURL("image/jpeg");o(d)},h.onerror=d=>u(d)})}function Lw(i){var t,e,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(e=Lw(i[t]))&&(a&&(a+=" "),a+=e)}else for(e in i)i[e]&&(a&&(a+=" "),a+=e);return a}function Qa(){for(var i,t,e=0,a="",o=arguments.length;e<o;e++)(i=arguments[e])&&(t=Lw(i))&&(a&&(a+=" "),a+=t);return a}function uM(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}uM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cu=i=>typeof i=="number"&&!isNaN(i),ns=i=>typeof i=="string",ur=i=>typeof i=="function",cM=i=>ns(i)||Cu(i),_m=i=>ns(i)||ur(i)?i:null,hM=(i,t)=>i===!1||Cu(i)&&i>0?i:t,vm=i=>L.isValidElement(i)||ns(i)||ur(i)||Cu(i);function fM(i,t,e=300){let{scrollHeight:a,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${e}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,e)})})}function dM({enter:i,exit:t,appendPosition:e=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:d,done:m,nodeRef:g,isIn:_,playToast:b}){let S=e?`${i}--${h}`:i,O=e?`${t}--${h}`:t,M=L.useRef(0);return L.useLayoutEffect(()=>{let q=g.current,k=S.split(" "),F=K=>{K.target===g.current&&(b(),q.removeEventListener("animationend",F),q.removeEventListener("animationcancel",F),M.current===0&&K.type!=="animationcancel"&&q.classList.remove(...k))};q.classList.add(...k),q.addEventListener("animationend",F),q.addEventListener("animationcancel",F)},[]),L.useEffect(()=>{let q=g.current,k=()=>{q.removeEventListener("animationend",k),a?fM(q,m,o):m()};_||(d?k():(M.current=1,q.className+=` ${O}`,q.addEventListener("animationend",k)))},[_]),re.createElement(re.Fragment,null,u)}}function HE(i,t){return{content:Uw(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function Uw(i,t,e=!1){return L.isValidElement(i)&&!ns(i.type)?L.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ur(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function pM({closeToast:i,theme:t,ariaLabel:e="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),i(!0)},"aria-label":e},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mM({delay:i,isRunning:t,closeToast:e,type:a="default",hide:o,className:u,controlledProgress:h,progress:d,rtl:m,isIn:g,theme:_}){let b=o||h&&d===0,S={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};h&&(S.transform=`scaleX(${d})`);let O=Qa("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":m}),M=ur(u)?u({rtl:m,type:a,defaultClassName:O}):Qa(O,u),q={[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{g&&e()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${a}`}),re.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:M,style:S,...q}))}var gM=1,zw=()=>`${gM++}`;function yM(i,t,e){let a=1,o=0,u=[],h=[],d=t,m=new Map,g=new Set,_=K=>(g.add(K),()=>g.delete(K)),b=()=>{h=Array.from(m.values()),g.forEach(K=>K())},S=({containerId:K,toastId:z,updateId:nt})=>{let et=K?K!==i:i!==1,ut=m.has(z)&&nt==null;return et||ut},O=(K,z)=>{m.forEach(nt=>{var et;(z==null||z===nt.props.toastId)&&((et=nt.toggle)==null||et.call(nt,K))})},M=K=>{var z,nt;(nt=(z=K.props)==null?void 0:z.onClose)==null||nt.call(z,K.removalReason),K.isActive=!1},q=K=>{if(K==null)m.forEach(M);else{let z=m.get(K);z&&M(z)}b()},k=()=>{o-=u.length,u=[]},F=K=>{var z,nt;let{toastId:et,updateId:ut}=K.props,C=ut==null;K.staleId&&m.delete(K.staleId),K.isActive=!0,m.set(et,K),b(),e(HE(K,C?"added":"updated")),C&&((nt=(z=K.props).onOpen)==null||nt.call(z))};return{id:i,props:d,observe:_,toggle:O,removeToast:q,toasts:m,clearQueue:k,buildToast:(K,z)=>{if(S(z))return;let{toastId:nt,updateId:et,data:ut,staleId:C,delay:A}=z,R=et==null;R&&o++;let I={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(z).filter(([P,D])=>D!=null)),toastId:nt,updateId:et,data:ut,isIn:!1,className:_m(z.className||d.toastClassName),progressClassName:_m(z.progressClassName||d.progressClassName),autoClose:z.isLoading?!1:hM(z.autoClose,d.autoClose),closeToast(P){m.get(nt).removalReason=P,q(nt)},deleteToast(){let P=m.get(nt);if(P!=null){if(e(HE(P,"removed")),m.delete(nt),o--,o<0&&(o=0),u.length>0){F(u.shift());return}b()}}};I.closeButton=d.closeButton,z.closeButton===!1||vm(z.closeButton)?I.closeButton=z.closeButton:z.closeButton===!0&&(I.closeButton=vm(d.closeButton)?d.closeButton:!0);let N={content:K,props:I,staleId:C};d.limit&&d.limit>0&&o>d.limit&&R?u.push(N):Cu(A)?setTimeout(()=>{F(N)},A):F(N)},setProps(K){d=K},setToggle:(K,z)=>{let nt=m.get(K);nt&&(nt.toggle=z)},isToastActive:K=>{var z;return(z=m.get(K))==null?void 0:z.isActive},getSnapshot:()=>h}}var on=new Map,hu=[],Em=new Set,_M=i=>Em.forEach(t=>t(i)),Bw=()=>on.size>0;function vM(){hu.forEach(i=>qw(i.content,i.options)),hu=[]}var EM=(i,{containerId:t})=>{var e;return(e=on.get(t||1))==null?void 0:e.toasts.get(i)};function jw(i,t){var e;if(t)return!!((e=on.get(t))!=null&&e.isToastActive(i));let a=!1;return on.forEach(o=>{o.isToastActive(i)&&(a=!0)}),a}function TM(i){if(!Bw()){hu=hu.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||cM(i))on.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=on.get(i.containerId);t?t.removeToast(i.id):on.forEach(e=>{e.removeToast(i.id)})}}var bM=(i={})=>{on.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function qw(i,t){vm(i)&&(Bw()||hu.push({content:i,options:t}),on.forEach(e=>{e.buildToast(i,t)}))}function wM(i){var t;(t=on.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function Hw(i,t){on.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function SM(i){let t=i.containerId||1;return{subscribe(e){let a=yM(t,i,_M);on.set(t,a);let o=a.observe(e);return vM(),()=>{o(),on.delete(t)}},setProps(e){var a;(a=on.get(t))==null||a.setProps(e)},getSnapshot(){var e;return(e=on.get(t))==null?void 0:e.getSnapshot()}}}function AM(i){return Em.add(i),()=>{Em.delete(i)}}function RM(i){return i&&(ns(i.toastId)||Cu(i.toastId))?i.toastId:zw()}function Iu(i,t){return qw(i,t),t.toastId}function mf(i,t){return{...t,type:t&&t.type||i,toastId:RM(t)}}function gf(i){return(t,e)=>Iu(t,mf(i,e))}function Tt(i,t){return Iu(i,mf("default",t))}Tt.loading=(i,t)=>Iu(i,mf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function CM(i,{pending:t,error:e,success:a},o){let u;t&&(u=ns(t)?Tt.loading(t,o):Tt.loading(t.render,{...o,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,b)=>{if(_==null){Tt.dismiss(u);return}let S={type:g,...h,...o,data:b},O=ns(_)?{render:_}:_;return u?Tt.update(u,{...S,...O}):Tt(O.render,{...S,...O}),b},m=ur(i)?i():i;return m.then(g=>d("success",a,g)).catch(g=>d("error",e,g)),m}Tt.promise=CM;Tt.success=gf("success");Tt.info=gf("info");Tt.error=gf("error");Tt.warning=gf("warning");Tt.warn=Tt.warning;Tt.dark=(i,t)=>Iu(i,mf("default",{theme:"dark",...t}));function IM(i){TM(i)}Tt.dismiss=IM;Tt.clearWaitingQueue=bM;Tt.isActive=jw;Tt.update=(i,t={})=>{let e=EM(i,t);if(e){let{props:a,content:o}=e,u={delay:100,...a,...t,toastId:t.toastId||i,updateId:zw()};u.toastId!==i&&(u.staleId=i);let h=u.render||o;delete u.render,Iu(h,u)}};Tt.done=i=>{Tt.update(i,{progress:1})};Tt.onChange=AM;Tt.play=i=>Hw(!0,i);Tt.pause=i=>Hw(!1,i);function DM(i){var t;let{subscribe:e,getSnapshot:a,setProps:o}=L.useRef(SM(i)).current;o(i);let u=(t=L.useSyncExternalStore(e,a,a))==null?void 0:t.slice();function h(d){if(!u)return[];let m=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:_}=g.props;m.has(_)||m.set(_,[]),m.get(_).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:h,isToastActive:jw,count:u==null?void 0:u.length}}function xM(i){let[t,e]=L.useState(!1),[a,o]=L.useState(!1),u=L.useRef(null),h=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:_,closeOnClick:b}=i;wM({id:i.toastId,containerId:i.containerId,fn:e}),L.useEffect(()=>{if(i.pauseOnFocusLoss)return S(),()=>{O()}},[i.pauseOnFocusLoss]);function S(){document.hasFocus()||F(),window.addEventListener("focus",k),window.addEventListener("blur",F)}function O(){window.removeEventListener("focus",k),window.removeEventListener("blur",F)}function M(C){if(i.draggable===!0||i.draggable===C.pointerType){K();let A=u.current;h.canCloseOnClick=!0,h.canDrag=!0,A.style.transition="none",i.draggableDirection==="x"?(h.start=C.clientX,h.removalDistance=A.offsetWidth*(i.draggablePercent/100)):(h.start=C.clientY,h.removalDistance=A.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function q(C){let{top:A,bottom:R,left:I,right:N}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&i.pauseOnHover&&C.clientX>=I&&C.clientX<=N&&C.clientY>=A&&C.clientY<=R?F():k()}function k(){e(!0)}function F(){e(!1)}function K(){h.didMove=!1,document.addEventListener("pointermove",nt),document.addEventListener("pointerup",et)}function z(){document.removeEventListener("pointermove",nt),document.removeEventListener("pointerup",et)}function nt(C){let A=u.current;if(h.canDrag&&A){h.didMove=!0,t&&F(),i.draggableDirection==="x"?h.delta=C.clientX-h.start:h.delta=C.clientY-h.start,h.start!==C.clientX&&(h.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function et(){z();let C=u.current;if(h.canDrag&&h.didMove&&C){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let ut={onPointerDown:M,onPointerUp:q};return d&&m&&(ut.onMouseEnter=F,i.stacked||(ut.onMouseLeave=k)),b&&(ut.onClick=C=>{_&&_(C),h.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:F,isRunning:t,preventExitTransition:a,toastRef:u,eventHandlers:ut}}var NM=typeof window<"u"?L.useLayoutEffect:L.useEffect,yf=({theme:i,type:t,isLoading:e,...a})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function OM(i){return re.createElement(yf,{...i},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MM(i){return re.createElement(yf,{...i},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function PM(i){return re.createElement(yf,{...i},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function kM(i){return re.createElement(yf,{...i},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function VM(){return re.createElement("div",{className:"Toastify__spinner"})}var Tm={info:MM,warning:OM,success:PM,error:kM,spinner:VM},LM=i=>i in Tm;function UM({theme:i,type:t,isLoading:e,icon:a}){let o=null,u={theme:i,type:t};return a===!1||(ur(a)?o=a({...u,isLoading:e}):L.isValidElement(a)?o=L.cloneElement(a,u):e?o=Tm.spinner():LM(t)&&(o=Tm[t](u))),o}var zM=i=>{let{isRunning:t,preventExitTransition:e,toastRef:a,eventHandlers:o,playToast:u}=xM(i),{closeButton:h,children:d,autoClose:m,onClick:g,type:_,hideProgressBar:b,closeToast:S,transition:O,position:M,className:q,style:k,progressClassName:F,updateId:K,role:z,progress:nt,rtl:et,toastId:ut,deleteToast:C,isIn:A,isLoading:R,closeOnClick:I,theme:N,ariaLabel:P}=i,D=Qa("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":et},{"Toastify__toast--close-on-click":I}),kt=ur(q)?q({rtl:et,position:M,type:_,defaultClassName:D}):Qa(D,q),xt=UM(i),W=!!nt||!m,lt={closeToast:S,type:_,theme:N},pt=null;return h===!1||(ur(h)?pt=h(lt):L.isValidElement(h)?pt=L.cloneElement(h,lt):pt=pM(lt)),re.createElement(O,{isIn:A,done:C,position:M,preventExitTransition:e,nodeRef:a,playToast:u},re.createElement("div",{id:ut,tabIndex:0,onClick:g,"data-in":A,className:kt,...o,style:k,ref:a,...A&&{role:z,"aria-label":P}},xt!=null&&re.createElement("div",{className:Qa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},xt),Uw(d,i,!t),pt,!i.customProgressBar&&re.createElement(mM,{...K&&!W?{key:`p-${K}`}:{},rtl:et,theme:N,delay:m,isRunning:t,isIn:A,closeToast:S,hide:b,type:_,className:F,controlledProgress:W,progress:nt||0})))},BM=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),jM=dM(BM("bounce",!0)),qM={position:"top-right",transition:jM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function Du(i){let t={...qM,...i},e=i.stacked,[a,o]=L.useState(!0),u=L.useRef(null),{getToastToRender:h,isToastActive:d,count:m}=DM(t),{className:g,style:_,rtl:b,containerId:S,hotKeys:O}=t;function M(k){let F=Qa("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":b});return ur(g)?g({position:k,rtl:b,defaultClassName:F}):Qa(F,_m(g))}function q(){e&&(o(!0),Tt.play())}return NM(()=>{var k;if(e){let F=u.current.querySelectorAll('[data-in="true"]'),K=12,z=(k=t.position)==null?void 0:k.includes("top"),nt=0,et=0;Array.from(F).reverse().forEach((ut,C)=>{let A=ut;A.classList.add("Toastify__toast--stacked"),C>0&&(A.dataset.collapsed=`${a}`),A.dataset.pos||(A.dataset.pos=z?"top":"bot");let R=nt*(a?.2:1)+(a?0:K*C);A.style.setProperty("--y",`${z?R:R*-1}px`),A.style.setProperty("--g",`${K}`),A.style.setProperty("--s",`${1-(a?et:0)}`),nt+=A.offsetHeight,et+=.025})}},[a,m,e]),L.useEffect(()=>{function k(F){var K;let z=u.current;O(F)&&((K=z.querySelector('[tabIndex="0"]'))==null||K.focus(),o(!1),Tt.pause()),F.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(o(!0),Tt.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[O]),re.createElement("section",{ref:u,className:"Toastify",id:S,onMouseEnter:()=>{e&&(o(!1),Tt.pause())},onMouseLeave:q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((k,F)=>{let K=F.length?{..._}:{..._,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:M(k),"data-stacked":e,style:K,key:`c-${k}`},F.map(({content:z,props:nt})=>re.createElement(zM,{...nt,stacked:e,collapseAll:q,isIn:d(nt.toastId,nt.containerId),key:`t-${nt.key}`},z)))}))}const xo={position:"top-left",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,theme:"dark",closeOnClick:!0,pauseOnHover:!0,draggable:!0};function Fw(i,t,e){Tt.info(B.jsxs("div",{children:[B.jsx("div",{children:i}),B.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[B.jsx("button",{onClick:()=>{t(),Tt.dismiss()},style:{background:"#e74c3c",color:"#fff",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Sim"}),B.jsx("button",{onClick:()=>{e==null||e(),Tt.dismiss()},style:{background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"No"})]})]}),{...xo,icon:!1,autoClose:!1,closeOnClick:!1,draggable:!1})}const HM="_backdrop_1o4qx_1",FM="_modal_1o4qx_27",GM="_fileInputLabel_1o4qx_97",$M="_fileInput_1o4qx_97",KM="_preview_1o4qx_149",QM="_buttons_1o4qx_169",YM="_cropContainer_1o4qx_237",XM="_cropActions_1o4qx_265",WM="_closeButton_1o4qx_343",de={backdrop:HM,modal:FM,fileInputLabel:GM,fileInput:$M,preview:KM,buttons:QM,cropContainer:YM,cropActions:XM,closeButton:WM};function ZM({onClose:i,onSuccess:t}){const[e,a]=L.useState({capa:"",titulo:"",tipo:"Filme",progresso:"",dataInclusao:"",genero:"",comentario:"",nota:""}),o=L.useRef(null),u=L.useRef(),h=new Date().toISOString().split("T")[0],[d,m]=L.useState(!1),[g,_]=L.useState(null),[b,S]=L.useState({x:0,y:0}),[O,M]=L.useState(1),[q,k]=L.useState(null),F=C=>{C.target===u.current&&i()},K=C=>{const A=C.target.files[0];A&&(_(URL.createObjectURL(A)),m(!0))},z=L.useCallback((C,A)=>{k(A)},[]),nt=async()=>{try{const C=await xg(g,q);a(A=>({...A,capa:C})),m(!1)}catch(C){console.error(C)}},et=C=>{const{name:A,value:R}=C.target;a(I=>({...I,[A]:R})),A==="comentario"&&o.current&&(o.current.style.height="auto",o.current.style.height=o.current.scrollHeight+"px")},ut=async C=>{if(C.preventDefault(),!e.capa){Tt.error("Por favor, faa upload da capa antes de salvar.");return}const A=(e.genero||"").split(/\s*,\s*/).map(I=>I.trim()).filter(Boolean),R={titulo:e.titulo,tipo:e.tipo,progresso:e.progresso,dataInclusao:e.dataInclusao||jh(),genero:A,comentario:e.comentario,nota:e.nota===""?0:Number(e.nota),capa:e.capa,createdAt:jh()};try{const I=gi.currentUser.uid,N=bw(Ti,"Usuarios",I,"midias"),P=await dO(N,R);Tt.success("Mdia adicionada com sucesso!"),t({id:P.id,...R}),i()}catch(I){Tt.error("Erro ao adicionar mdia: "+I.message)}};return B.jsxs(B.Fragment,{children:[B.jsx("div",{ref:u,className:de.backdrop,onClick:F,children:B.jsxs("div",{className:de.modal,children:[B.jsxs("div",{className:de.modalHeader,children:[B.jsx("h2",{children:"Adicionar Mdia"}),B.jsx("button",{className:de.closeButton,onClick:i,"aria-label":"Fechar",children:""})]}),d&&g?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:de.cropContainer,children:B.jsx(Dg,{image:g,crop:b,zoom:O,aspect:2/3,onCropChange:S,onZoomChange:M,onCropComplete:z})}),B.jsxs("div",{className:de.cropActions,children:[B.jsx("button",{type:"button",onClick:()=>m(!1),children:"Cancelar"}),B.jsx("button",{type:"button",onClick:nt,children:"Aplicar Corte"})]})]}):B.jsxs("form",{onSubmit:ut,children:[B.jsxs("label",{className:de.fileInputLabel,children:[e.capa?"Alterar Capa":"Upload da Capa",B.jsx("input",{name:"capa",type:"file",accept:"image/*",onChange:K,className:de.fileInput})]}),e.capa&&B.jsx("img",{src:e.capa,alt:"Preview Capa",className:de.preview}),B.jsx("input",{name:"titulo",placeholder:"Ttulo",value:e.titulo,onChange:et,required:!0}),B.jsx("select",{name:"tipo",value:e.tipo,onChange:et,children:["Filme","Srie","Anime","Livro","Mang","Manhwa","Light Novel","Outro"].map(C=>B.jsx("option",{children:C},C))}),B.jsx("input",{name:"progresso",placeholder:"Progresso",value:e.progresso,onChange:et}),B.jsx("input",{name:"dataInclusao",type:"date",value:e.dataInclusao,min:"1800-01-01",max:h,onChange:et}),B.jsx("input",{name:"genero",placeholder:"Gneros (separe por vrgula)",value:e.genero,onChange:et}),B.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,ref:o,value:e.comentario,onChange:et}),B.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota (05)",value:e.nota,onChange:et}),B.jsxs("div",{className:de.buttons,children:[B.jsx("button",{type:"button",onClick:i,children:"Cancelar"}),B.jsx("button",{type:"submit",className:de.saveButton,children:"Salvar"})]})]})]})}),B.jsx(Du,{...xo})]})}function JM({media:i,onClose:t,onSuccess:e}){const[a,o]=L.useState({...i}),u=L.useRef(),[h,d]=L.useState(!1),[m,g]=L.useState(null),[_,b]=L.useState({x:0,y:0}),[S,O]=L.useState(1),[M,q]=L.useState(null),[k,F]=L.useState(!1),K=new Date().toISOString().split("T")[0];L.useEffect(()=>{o({...i})},[i]);const z=N=>{N.target===u.current&&t()},nt=L.useCallback((N,P)=>{q(P)},[]),et=async()=>{const N=await xg(m,M);o(P=>({...P,capa:N})),d(!1)},ut=N=>{const P=N.target.files[0];P&&(g(URL.createObjectURL(P)),d(!0))},C=N=>{const{name:P,value:D}=N.target;o(kt=>({...kt,[P]:D}))},A=async()=>{try{const N=gi.currentUser.uid,P=ir(Ti,"Usuarios",N,"midias",i.id);F(!0),await kw(P),Tt.success("Mdia excluda com sucesso!"),e(null)}catch(N){console.error("Erro ao excluir mdia:",N),Tt.error("Ocorreu um erro ao excluir. Tente novamente.")}},R=()=>{Fw("Tem certeza que deseja excluir esta mdia?",A,()=>{})},I=async N=>{if(N.preventDefault(),k)return;const D=(Array.isArray(a.genero)?a.genero.join(" "):a.genero||"").split(/\s*,\s*/).map(xt=>xt.trim()).filter(Boolean),kt={titulo:a.titulo,tipo:a.tipo,progresso:a.progresso,dataInclusao:a.dataInclusao||jh(),genero:D,comentario:a.comentario,nota:Number(a.nota),capa:a.capa,updatedAt:jh()};try{const xt=gi.currentUser.uid,W=ir(Ti,"Usuarios",xt,"midias",i.id);await Pw(W,kt),Tt.success("Mdia atualizada com sucesso!"),e({id:i.id,...kt}),t()}catch(xt){console.error("Erro ao atualizar mdia:",xt),Tt.error("Erro ao atualizar mdia: "+xt.message)}};return B.jsxs(B.Fragment,{children:[B.jsx("div",{ref:u,className:de.backdrop,onClick:z,children:B.jsxs("div",{className:de.modal,children:[B.jsxs("div",{className:de.modalHeader,children:[B.jsx("h2",{children:"Editar Mdia"}),B.jsx("button",{className:de.closeButton,onClick:t,"aria-label":"Fechar",children:""})]}),h&&m?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:de.cropContainer,children:B.jsx(Dg,{image:m,crop:_,zoom:S,aspect:2/3,onCropChange:b,onZoomChange:O,onCropComplete:nt,showGrid:!1})}),B.jsxs("div",{className:de.cropActions,children:[B.jsx("button",{type:"button",onClick:()=>d(!1),children:"Cancelar"}),B.jsx("button",{type:"button",onClick:et,children:"Aplicar Corte"})]})]}):B.jsxs("form",{onSubmit:I,children:[B.jsxs("label",{className:de.fileInputLabel,children:["Upload da Capa",B.jsx("input",{type:"file",accept:"image/*",onChange:ut,className:de.fileInput})]}),a.capa&&B.jsx("img",{src:a.capa,alt:"Preview",className:de.preview}),B.jsx("input",{name:"titulo",placeholder:"Ttulo",value:a.titulo,onChange:C,required:!0}),B.jsx("select",{name:"tipo",value:a.tipo,onChange:C,children:["Filme","Srie","Anime","Livro","Mang","Manhwa","Outro"].map(N=>B.jsx("option",{children:N},N))}),B.jsx("input",{name:"progresso",placeholder:"Progresso",value:a.progresso,onChange:C}),B.jsx("input",{name:"dataInclusao",type:"date",min:"1800-01-01",max:K,value:a.dataInclusao,onChange:C}),B.jsx("input",{name:"genero",placeholder:"Gneros",value:a.genero,onChange:C}),B.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,value:a.comentario,onChange:C,rows:4,style:{minHeight:"6rem",resize:"vertical"}}),B.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota",value:a.nota,onChange:C}),B.jsxs("div",{className:de.buttons,children:[B.jsx("button",{type:"button",onClick:t,children:"Cancelar"}),B.jsx("button",{type:"button",onClick:R,children:"Excluir"}),B.jsx("button",{type:"submit",className:de.saveButton,children:"Salvar"})]})]})]})}),B.jsx(Du,{...xo})]})}const tP="_backdrop_1n1kz_5",eP="_modal_1n1kz_31",nP="_modalHeader_1n1kz_57",iP="_closeButton_1n1kz_81",rP="_tabs_1n1kz_99",aP="_active_1n1kz_135",sP="_fileInputLabel_1n1kz_157",oP="_fileInput_1n1kz_157",lP="_previewCircle_1n1kz_207",uP="_buttons_1n1kz_243",cP="_deleteAccountButton_1n1kz_291",hP="_saveButton_1n1kz_313",fP="_cropContainer_1n1kz_333",dP="_cropActions_1n1kz_349",Ue={backdrop:tP,modal:eP,modalHeader:nP,closeButton:iP,tabs:rP,active:aP,fileInputLabel:sP,fileInput:oP,previewCircle:lP,buttons:uP,deleteAccountButton:cP,saveButton:hP,cropContainer:fP,cropActions:dP};function pP({onClose:i}){const t=L.useRef(),e=gi.currentUser,[a,o]=L.useState("profile"),[u,h]=L.useState({displayName:e.displayName||"",currentPassword:"",newPassword:"",confirmPassword:"",avatarBase64:"",email:e.email||""}),[d,m]=L.useState(null),[g,_]=L.useState(!1),[b,S]=L.useState({x:0,y:0}),[O,M]=L.useState(1),[q,k]=L.useState(null);L.useEffect(()=>{(async()=>{const N=ir(Ti,"Usuarios",e.uid),P=await Ig(N);if(P.exists()){const D=P.data();h(kt=>({...kt,avatarBase64:D.avatarBase64||""}))}})()},[e.uid]);const F=I=>{I.target===t.current&&i()},K=I=>{const N=I.target.files[0];N&&(m(URL.createObjectURL(N)),_(!0))},z=L.useCallback((I,N)=>{k(N)},[]),nt=async()=>{const I=await xg(d,q);h(N=>({...N,avatarBase64:I})),_(!1)},et=I=>{const{name:N,value:P}=I.target;h(D=>({...D,[N]:P}))},ut=async()=>{try{await VI(e,{displayName:u.displayName});const I=ir(Ti,"Usuarios",e.uid);await Pw(I,{avatarBase64:u.avatarBase64,displayName:u.displayName}),Tt.success("Perfil atualizado com sucesso!"),i()}catch(I){Tt.error("Erro ao atualizar perfil: "+I.message)}},C=async()=>{try{if(u.newPassword!==u.confirmPassword){Tt.error("As senhas no coincidem");return}const I=rs.credential(e.email,u.currentPassword);await NI(e,I),await LI(e,u.newPassword),h(N=>({...N,currentPassword:"",newPassword:"",confirmPassword:""})),Tt.success("Senha atualizada com sucesso!"),i()}catch(I){Tt.error("Erro ao atualizar senha: "+I.message)}},A=async()=>{try{await kw(ir(Ti,"Usuarios",e.uid)),await qI(e),Tt.success("Conta excluda com sucesso!"),i()}catch(I){Tt.error("Erro ao excluir conta: "+I.message)}},R=()=>{Fw("Tem certeza que deseja excluir sua conta?",A,()=>{})};return B.jsxs(B.Fragment,{children:[B.jsx("div",{ref:t,className:Ue.backdrop,onClick:F,children:B.jsxs("div",{className:Ue.modal,children:[B.jsxs("div",{className:Ue.modalHeader,children:[B.jsx("h2",{children:"Configuraes"}),B.jsx("button",{className:Ue.closeButton,onClick:i,children:""})]}),B.jsxs("div",{className:Ue.tabs,children:[B.jsx("button",{className:a==="profile"?Ue.active:"",onClick:()=>o("profile"),children:"Editar Usurio"}),B.jsx("button",{className:a==="security"?Ue.active:"",onClick:()=>o("security"),children:"Segurana"}),B.jsx("button",{className:a==="account"?Ue.active:"",onClick:()=>o("account"),children:"Conta"})]}),g&&d?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Ue.cropContainer,children:B.jsx(Dg,{image:d,crop:b,zoom:O,aspect:1,onCropChange:S,onZoomChange:M,onCropComplete:z,showGrid:!1})}),B.jsxs("div",{className:Ue.cropActions,children:[B.jsx("button",{type:"button",onClick:()=>_(!1),children:"Cancelar"}),B.jsx("button",{type:"button",onClick:nt,children:"Salvar Foto"})]})]}):a==="profile"?B.jsxs("form",{onSubmit:I=>I.preventDefault(),children:[B.jsxs("label",{className:Ue.fileInputLabel,children:[u.avatarBase64?"Alterar Foto":"Upload da Foto",B.jsx("input",{type:"file",accept:"image/*",onChange:K,className:Ue.fileInput})]}),u.avatarBase64&&B.jsx("img",{src:u.avatarBase64,alt:"Preview",className:Ue.previewCircle}),B.jsx("input",{name:"displayName",placeholder:"Nome de Usurio",value:u.displayName,onChange:et}),B.jsxs("div",{className:Ue.buttons,children:[B.jsx("button",{type:"button",onClick:i,children:"Cancelar"}),B.jsx("button",{type:"button",className:Ue.saveButton,onClick:ut,children:"Salvar"})]})]}):a==="security"?B.jsxs("form",{onSubmit:I=>I.preventDefault(),children:[B.jsx("input",{type:"password",name:"currentPassword",placeholder:"Senha Atual",value:u.currentPassword,onChange:et}),B.jsx("input",{type:"password",name:"newPassword",placeholder:"Nova Senha",value:u.newPassword,onChange:et}),B.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirmar Nova Senha",value:u.confirmPassword,onChange:et}),B.jsxs("div",{className:Ue.buttons,children:[B.jsx("button",{type:"button",onClick:i,children:"Cancelar"}),B.jsx("button",{type:"button",className:Ue.saveButton,onClick:C,children:"Salvar Alteraes"})]})]}):B.jsx("form",{onSubmit:I=>I.preventDefault(),children:B.jsx("button",{type:"button",className:Ue.deleteAccountButton,onClick:R,children:"Excluir Conta"})})]})}),B.jsx(Du,{...xo})]})}const mP="_container_137b1_21",gP={container:mP};function yP(){const[i,t]=L.useState(null),[e,a]=L.useState(!0),[o,u]=L.useState([]),[h,d]=L.useState(null),[m,g]=L.useState(!0),[_,b]=L.useState(!1),[S,O]=L.useState(!1),[M,q]=L.useState(null),[k,F]=L.useState(!1),[K,z]=L.useState(!1),nt=du(),et=L.useRef(!0);L.useEffect(()=>{const P=jI(gi,D=>{D?t(D):nt("/login",{replace:!0}),a(!1)});return()=>P()},[nt]);const ut=i&&bw(Ti,"Usuarios",i.uid,"midias"),C=async()=>{if(!ut)return;let P=IE(ut,DE("dataInclusao","desc"),xE(20));h&&(P=IE(ut,DE("dataInclusao","desc"),sO(h),xE(20)));const D=await hO(P),kt=D.docs.map(W=>({id:W.id,...W.data()}));if(et.current){if(kt.length===0)Tt.info("Bem-vindo(a)! Seu acervo est vazio  adicione algo incrvel clicando no +");else{const W=i.displayName||"usurio";Tt.success(`Bem vindo de volta, ${W}!`)}et.current=!1}u(W=>{const lt=new Set(W.map(Ut=>Ut.id)),pt=kt.filter(Ut=>!lt.has(Ut.id));return[...W,...pt]});const xt=D.docs[D.docs.length-1];d(xt),g(D.docs.length===20)};L.useEffect(()=>{!e&&i&&(u([]),d(null),g(!0),C())},[e,i]);const A=P=>{u(D=>[P,...D])},R=P=>{q(P)},I=()=>{if(!M){Tt.error("Selecione uma mdia");return}O(!0)},N=P=>{P===null?(u(D=>D.filter(kt=>kt.id!==(M==null?void 0:M.id))),q(null),O(!1)):u(D=>D.map(kt=>kt.id===P.id?P:kt))};return e?null:B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:gP.container,children:[B.jsx(IO,{onAdd:()=>b(!0),onEdit:I,profileOpen:k,onToggleProfile:F,onOpenConfig:()=>z(!0)}),_&&B.jsx(ZM,{onClose:()=>b(!1),onSuccess:A}),S&&B.jsx(JM,{media:M,onClose:()=>O(!1),onSuccess:N}),K&&B.jsx(pP,{onClose:()=>z(!1)}),B.jsx(DO,{loadMore:C,hasMore:m,children:B.jsx(qO,{items:o,selectedId:M==null?void 0:M.id,onSelect:R,onRatingChange:(P,D)=>u(kt=>kt.map(xt=>xt.id===P?{...xt,nota:D}:xt))})})]}),B.jsx(Du,{...xo})]})}const _P="_container_u6c8a_25",vP="_switchContainer_u6c8a_49",EP="_switchText_u6c8a_155",TP="_card_u6c8a_169",bP="_input_u6c8a_195",wP="_submitButton_u6c8a_223",SP="_forgotLink_u6c8a_253",pi={container:_P,switchContainer:vP,switchText:EP,card:TP,input:bP,submitButton:wP,forgotLink:SP},AP="_checkmark_clbbt_11",RP="_checkmark__circle_clbbt_37",CP="_checkmark__check_clbbt_55",Hp={checkmark:AP,checkmark__circle:RP,checkmark__check:CP},IP=()=>B.jsxs("svg",{className:Hp.checkmark,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[B.jsx("circle",{className:Hp.checkmark__circle,cx:"26",cy:"26",r:"25",fill:"none"}),B.jsx("path",{className:Hp.checkmark__check,fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]});function DP(){const[i,t]=L.useState(!0),[e,a]=L.useState(""),[o,u]=L.useState(""),[h,d]=L.useState(""),[m,g]=L.useState(""),[_,b]=L.useState(!1),[S,O]=L.useState(!1),M=du(),q=L.useRef(null),k=()=>{t(!i),a(""),u(""),d(""),g("")},F=async z=>{z.preventDefault();const nt=z.target;if(!nt.checkValidity()){nt.reportValidity();return}if(!i&&o!==m){const et=nt.querySelector('input[placeholder="Confirme sua Senha"]');et.setCustomValidity("Senhas diferentes"),et.reportValidity();return}b(!0);try{if(i){await PI(gi,e,o);const et=gi.currentUser,ut=await Ig(ir(Ti,"Usuarios",et.uid));ut.exists()&&sessionStorage.setItem("userProfile",JSON.stringify(ut.data()))}else{const{user:et}=await MI(gi,e,o);await fO(ir(Ti,"Usuarios",et.uid),{nome:h,email:e}),sessionStorage.setItem("userProfile",JSON.stringify({nome:h,email:e}))}O(!0),setTimeout(()=>M("/home"),1e3)}catch(et){console.error("Erro Firebase:",et);const ut=document.querySelector("form"),C=ut.querySelector('input[type="email"]'),A=ut.querySelector('input[type="password"]');switch(et.code){case"auth/user-not-found":C.setCustomValidity("Usurio no encontrado"),C.reportValidity();break;case"auth/wrong-password":A.setCustomValidity("Senha incorreta"),A.reportValidity();break;case"auth/email-already-in-use":C.setCustomValidity("E-mail j cadastrado"),C.reportValidity();break;default:A.setCustomValidity("Erro na autenticao"),A.reportValidity()}}finally{b(!1)}},K=async z=>{z.preventDefault();const nt=q.current;if(!nt.checkValidity()){nt.reportValidity();return}try{await OI(gi,e),Tt.success("Link de redefinio enviado! Verifique sua caixa de entrada.")}catch{Tt.error("No foi possvel enviar o e-mail")}};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:pi.container,children:B.jsxs("div",{className:pi.card,children:[B.jsx("h1",{children:i?"Login":"Cadastre-se"}),B.jsxs("form",{onSubmit:F,noValidate:!0,children:[!i&&B.jsx("input",{type:"text",placeholder:"Seu Nome",autoComplete:"name",required:!0,className:pi.input,value:h,onChange:z=>{z.target.setCustomValidity(""),d(z.target.value)},minLength:2}),B.jsx("input",{ref:q,type:"email",placeholder:"Seu Email",autoComplete:"email",required:!0,className:pi.input,value:e,onChange:z=>{z.target.setCustomValidity(""),a(z.target.value)}}),B.jsx("input",{type:"password",placeholder:"Sua Senha",autoComplete:i?"current-password":"new-password",required:!0,className:pi.input,value:o,onChange:z=>{z.target.setCustomValidity(""),u(z.target.value)},minLength:6}),!i&&B.jsx("input",{type:"password",placeholder:"Confirme sua Senha",autoComplete:"new-password",required:!0,className:pi.input,value:m,onChange:z=>{z.target.setCustomValidity(""),g(z.target.value)},minLength:6}),S?B.jsx(IP,{}):B.jsx("button",{type:"submit",className:pi.submitButton,disabled:_,children:_?i?"Entrando...":"Registrando...":i?"Entrar":"Registrar"}),i&&B.jsx("button",{type:"button",className:pi.forgotLink,onClick:K,children:"Esqueceu sua senha?"})]}),B.jsxs("div",{className:pi.switchContainer,children:[B.jsx("span",{className:pi.switchText,children:i?"Novo por aqui? Deslize para se inscrever!":"J  cadastrado? Faa o login!"}),B.jsx("input",{type:"checkbox",id:"switch",checked:!i,onChange:k}),B.jsx("label",{htmlFor:"switch"})]})]})}),B.jsx(Du,{...xo})]})}function xP(){return B.jsx(zR,{children:B.jsxs(mR,{children:[B.jsx(lh,{path:"/",element:B.jsx(dR,{to:"/login",replace:!0})}),B.jsx(lh,{path:"/login",element:B.jsx(DP,{})}),B.jsx(lh,{path:"/home",element:B.jsx(yP,{})})]})})}SA.createRoot(document.getElementById("root")).render(B.jsx(L.StrictMode,{children:B.jsx(xP,{})}));
