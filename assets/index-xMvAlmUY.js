(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function JE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ep={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function CA(){if(Gv)return Ul;Gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=t,Ul.jsx=e,Ul.jsxs=e,Ul}var $v;function IA(){return $v||($v=1,Ep.exports=CA()),Ep.exports}var P=IA(),Tp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function DA(){if(Kv)return xt;Kv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,q={};function k(V,at,ct){this.props=V,this.context=at,this.refs=q,this.updater=ct||x}k.prototype.isReactComponent={},k.prototype.setState=function(V,at){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,at,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=k.prototype;function Q(V,at,ct){this.props=V,this.context=at,this.refs=q,this.updater=ct||x}var B=Q.prototype=new H;B.constructor=Q,O(B,k.prototype),B.isPureReactComponent=!0;var et=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function I(V,at,ct,ot,vt,Mt){return ct=Mt.ref,{$$typeof:r,type:V,key:at,ref:ct!==void 0?ct:null,props:Mt}}function A(V,at){return I(V.type,at,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function C(V){var at={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return at[ct]})}var M=/\/+/g;function z(V,at){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):at.toString(36)}function D(){}function ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(at){V.status==="pending"&&(V.status="fulfilled",V.value=at)},function(at){V.status==="pending"&&(V.status="rejected",V.reason=at)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ft(V,at,ct,ot,vt){var Mt=typeof V;(Mt==="undefined"||Mt==="boolean")&&(V=null);var At=!1;if(V===null)At=!0;else switch(Mt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(V.$$typeof){case r:case t:At=!0;break;case _:return At=V._init,ft(At(V._payload),at,ct,ot,vt)}}if(At)return vt=vt(V),At=ot===""?"."+z(V,0):ot,et(vt)?(ct="",At!=null&&(ct=At.replace(M,"$&/")+"/"),ft(vt,at,ct,"",function(Wn){return Wn})):vt!=null&&(R(vt)&&(vt=A(vt,ct+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(M,"$&/")+"/")+At)),at.push(vt)),1;At=0;var Oe=ot===""?".":ot+":";if(et(V))for(var ne=0;ne<V.length;ne++)ot=V[ne],Mt=Oe+z(ot,ne),At+=ft(ot,at,ct,Mt,vt);else if(ne=S(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(ot=V.next()).done;)ot=ot.value,Mt=Oe+z(ot,ne++),At+=ft(ot,at,ct,Mt,vt);else if(Mt==="object"){if(typeof V.then=="function")return ft(ae(V),at,ct,ot,vt);throw at=String(V),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return At}function $(V,at,ct){if(V==null)return V;var ot=[],vt=0;return ft(V,ot,"","",function(Mt){return at.call(ct,Mt,vt++)}),ot}function st(V){if(V._status===-1){var at=V._result;at=at(),at.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=at)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Dt(){}return xt.Children={map:$,forEach:function(V,at,ct){$(V,function(){at.apply(this,arguments)},ct)},count:function(V){var at=0;return $(V,function(){at++}),at},toArray:function(V){return $(V,function(at){return at})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xt.Component=k,xt.Fragment=e,xt.Profiler=o,xt.PureComponent=Q,xt.StrictMode=a,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return rt.H.useMemoCache(V)}},xt.cache=function(V){return function(){return V.apply(null,arguments)}},xt.cloneElement=function(V,at,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ot=O({},V.props),vt=V.key,Mt=void 0;if(at!=null)for(At in at.ref!==void 0&&(Mt=void 0),at.key!==void 0&&(vt=""+at.key),at)!lt.call(at,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&at.ref===void 0||(ot[At]=at[At]);var At=arguments.length-2;if(At===1)ot.children=ct;else if(1<At){for(var Oe=Array(At),ne=0;ne<At;ne++)Oe[ne]=arguments[ne+2];ot.children=Oe}return I(V.type,vt,void 0,void 0,Mt,ot)},xt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},xt.createElement=function(V,at,ct){var ot,vt={},Mt=null;if(at!=null)for(ot in at.key!==void 0&&(Mt=""+at.key),at)lt.call(at,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(vt[ot]=at[ot]);var At=arguments.length-2;if(At===1)vt.children=ct;else if(1<At){for(var Oe=Array(At),ne=0;ne<At;ne++)Oe[ne]=arguments[ne+2];vt.children=Oe}if(V&&V.defaultProps)for(ot in At=V.defaultProps,At)vt[ot]===void 0&&(vt[ot]=At[ot]);return I(V,Mt,void 0,void 0,null,vt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(V){return{$$typeof:d,render:V}},xt.isValidElement=R,xt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:st}},xt.memo=function(V,at){return{$$typeof:g,type:V,compare:at===void 0?null:at}},xt.startTransition=function(V){var at=rt.T,ct={};rt.T=ct;try{var ot=V(),vt=rt.S;vt!==null&&vt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Dt,dt)}catch(Mt){dt(Mt)}finally{rt.T=at}},xt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},xt.use=function(V){return rt.H.use(V)},xt.useActionState=function(V,at,ct){return rt.H.useActionState(V,at,ct)},xt.useCallback=function(V,at){return rt.H.useCallback(V,at)},xt.useContext=function(V){return rt.H.useContext(V)},xt.useDebugValue=function(){},xt.useDeferredValue=function(V,at){return rt.H.useDeferredValue(V,at)},xt.useEffect=function(V,at,ct){var ot=rt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(V,at)},xt.useId=function(){return rt.H.useId()},xt.useImperativeHandle=function(V,at,ct){return rt.H.useImperativeHandle(V,at,ct)},xt.useInsertionEffect=function(V,at){return rt.H.useInsertionEffect(V,at)},xt.useLayoutEffect=function(V,at){return rt.H.useLayoutEffect(V,at)},xt.useMemo=function(V,at){return rt.H.useMemo(V,at)},xt.useOptimistic=function(V,at){return rt.H.useOptimistic(V,at)},xt.useReducer=function(V,at,ct){return rt.H.useReducer(V,at,ct)},xt.useRef=function(V){return rt.H.useRef(V)},xt.useState=function(V){return rt.H.useState(V)},xt.useSyncExternalStore=function(V,at,ct){return rt.H.useSyncExternalStore(V,at,ct)},xt.useTransition=function(){return rt.H.useTransition()},xt.version="19.1.0",xt}var Qv;function Sm(){return Qv||(Qv=1,Tp.exports=DA()),Tp.exports}var L=Sm();const Ft=JE(L);var bp={exports:{}},zl={},wp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function xA(){return Yv||(Yv=1,function(r){function t($,st){var dt=$.length;$.push(st);t:for(;0<dt;){var Dt=dt-1>>>1,V=$[Dt];if(0<o(V,st))$[Dt]=st,$[dt]=V,dt=Dt;else break t}}function e($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var st=$[0],dt=$.pop();if(dt!==st){$[0]=dt;t:for(var Dt=0,V=$.length,at=V>>>1;Dt<at;){var ct=2*(Dt+1)-1,ot=$[ct],vt=ct+1,Mt=$[vt];if(0>o(ot,dt))vt<V&&0>o(Mt,ot)?($[Dt]=Mt,$[vt]=dt,Dt=vt):($[Dt]=ot,$[ct]=dt,Dt=ct);else if(vt<V&&0>o(Mt,dt))$[Dt]=Mt,$[vt]=dt,Dt=vt;else break t}}return st}function o($,st){var dt=$.sortIndex-st.sortIndex;return dt!==0?dt:$.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,b=null,S=3,x=!1,O=!1,q=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function et($){for(var st=e(g);st!==null;){if(st.callback===null)a(g);else if(st.startTime<=$)a(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(g)}}function rt($){if(q=!1,et($),!O)if(e(m)!==null)O=!0,lt||(lt=!0,z());else{var st=e(g);st!==null&&ft(rt,st.startTime-$)}}var lt=!1,I=-1,A=5,R=-1;function C(){return k?!0:!(r.unstable_now()-R<A)}function M(){if(k=!1,lt){var $=r.unstable_now();R=$;var st=!0;try{t:{O=!1,q&&(q=!1,Q(I),I=-1),x=!0;var dt=S;try{e:{for(et($),b=e(m);b!==null&&!(b.expirationTime>$&&C());){var Dt=b.callback;if(typeof Dt=="function"){b.callback=null,S=b.priorityLevel;var V=Dt(b.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){b.callback=V,et($),st=!0;break e}b===e(m)&&a(m),et($)}else a(m);b=e(m)}if(b!==null)st=!0;else{var at=e(g);at!==null&&ft(rt,at.startTime-$),st=!1}}break t}finally{b=null,S=dt,x=!1}st=void 0}}finally{st?z():lt=!1}}}var z;if(typeof B=="function")z=function(){B(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ae=D.port2;D.port1.onmessage=M,z=function(){ae.postMessage(null)}}else z=function(){H(M,0)};function ft($,st){I=H(function(){$(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var dt=S;S=st;try{return $()}finally{S=dt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=S;S=$;try{return st()}finally{S=dt}},r.unstable_scheduleCallback=function($,st,dt){var Dt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,$={id:_++,callback:st,priorityLevel:$,startTime:dt,expirationTime:V,sortIndex:-1},dt>Dt?($.sortIndex=dt,t(g,$),e(m)===null&&$===e(g)&&(q?(Q(I),I=-1):q=!0,ft(rt,dt-Dt))):($.sortIndex=V,t(m,$),O||x||(O=!0,lt||(lt=!0,z()))),$},r.unstable_shouldYield=C,r.unstable_wrapCallback=function($){var st=S;return function(){var dt=S;S=st;try{return $.apply(this,arguments)}finally{S=dt}}}}(Sp)),Sp}var Xv;function NA(){return Xv||(Xv=1,wp.exports=xA()),wp.exports}var Ap={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function OA(){if(Wv)return We;Wv=1;var r=Sm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,_)},We.flushSync=function(m){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=_,a.d.f()}},We.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},We.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},We.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):_==="script"&&a.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},We.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},We.requestFormReset=function(m){a.d.r(m)},We.unstable_batchedUpdates=function(m,g){return m(g)},We.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.1.0",We}var Zv;function MA(){if(Zv)return Ap.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ap.exports=OA(),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function kA(){if(Jv)return zl;Jv=1;var r=NA(),t=Sm(),e=MA();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),n;if(p===l)return d(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,l=p;break}if(T===l){E=!0,l=f,s=p;break}T=T.sibling}if(!E){for(T=p.child;T;){if(T===s){E=!0,s=p,l=f;break}if(T===l){E=!0,l=p,s=f;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case k:return"Profiler";case q:return"StrictMode";case rt:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case B:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case et:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:ae(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return ae(n(i))}catch{}}return null}var ft=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],V=-1;function at(n){return{current:n}}function ct(n){0>V||(n.current=Dt[V],Dt[V]=null,V--)}function ot(n,i){V++,Dt[V]=n.current,n.current=i}var vt=at(null),Mt=at(null),At=at(null),Oe=at(null);function ne(n,i){switch(ot(At,i),ot(Mt,n),ot(vt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?vv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=vv(i),n=Ev(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ct(vt),ot(vt,n)}function Wn(){ct(vt),ct(Mt),ct(At)}function di(n){n.memoizedState!==null&&ot(Oe,n);var i=vt.current,s=Ev(i,n.type);i!==s&&(ot(Mt,n),ot(vt,s))}function Sr(n){Mt.current===n&&(ct(vt),ct(Mt)),Oe.current===n&&(ct(Oe),Ml._currentValue=dt)}var ca=Object.prototype.hasOwnProperty,ha=r.unstable_scheduleCallback,fa=r.unstable_cancelCallback,xo=r.unstable_shouldYield,Iu=r.unstable_requestPaint,Sn=r.unstable_now,Ef=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,cs=r.unstable_UserBlockingPriority,da=r.unstable_NormalPriority,Tf=r.unstable_LowPriority,hs=r.unstable_IdlePriority,Oo=r.log,Du=r.unstable_setDisableYieldValue,he=null,Qt=null;function pn(n){if(typeof Oo=="function"&&Du(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(he,n)}catch{}}var Ye=Math.clz32?Math.clz32:pa,xu=Math.log,bf=Math.LN2;function pa(n){return n>>>=0,n===0?32:31-(xu(n)/bf|0)|0}var ma=256,ga=4194304;function Bn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fs(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?f=Bn(l):(E&=T,E!==0?f=Bn(E):s||(s=T&~n,s!==0&&(f=Bn(s))))):(T=l&~p,T!==0?f=Bn(T):E!==0?f=Bn(E):s||(s=l&~n,s!==0&&(f=Bn(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function ya(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Mo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var n=ma;return ma<<=1,(ma&4194048)===0&&(ma=256),n}function Po(){var n=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),n}function Ar(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Rr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vo(n,i,s,l,f,p){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,N=n.expirationTimes,K=n.hiddenUpdates;for(s=E&~s;0<s;){var Z=31-Ye(s),nt=1<<Z;T[Z]=0,N[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}s&=~nt}l!==0&&Zn(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~i))}function Zn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ye(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Lo(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-Ye(s),f=1<<l;f&i|n[l]&i&&(n[l]|=i),s&=~f}}function pi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ds(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mi(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:zv(n.type))}function Nu(n,i){var s=st.p;try{return st.p=n,i()}finally{st.p=s}}var se=Math.random().toString(36).slice(2),Ae="__reactFiber$"+se,ve="__reactProps$"+se,An="__reactContainer$"+se,Uo="__reactEvents$"+se,wf="__reactListeners$"+se,gi="__reactHandles$"+se,Ou="__reactResources$"+se,_a="__reactMarker$"+se;function yi(n){delete n[Ae],delete n[ve],delete n[Uo],delete n[wf],delete n[gi]}function Cr(n){var i=n[Ae];if(i)return i;for(var s=n.parentNode;s;){if(i=s[An]||s[Ae]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Sv(n);n!==null;){if(s=n[Ae])return s;n=Sv(n)}return i}n=s,s=n.parentNode}return null}function Jn(n){if(n=n[Ae]||n[An]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function tr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function nn(n){var i=n[Ou];return i||(i=n[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(n){n[_a]=!0}var zo=new Set,ps={};function jn(n,i){Ir(n,i),Ir(n+"Capture",i)}function Ir(n,i){for(ps[n]=i,n=0;n<i.length;n++)zo.add(i[n])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},va={};function Pu(n){return ca.call(va,n)?!0:ca.call(ku,n)?!1:Mu.test(n)?va[n]=!0:(ku[n]=!0,!1)}function _i(n,i,s){if(Pu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function er(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function je(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}var Ea,Vu;function Dr(n){if(Ea===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ea=i&&i[1]||"",Vu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+n+Vu}var ms=!1;function gs(n,i){if(!n||ms)return"";ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var Y=X}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(X){Y=X}n.call(nt.prototype)}}else{try{throw Error()}catch(X){Y=X}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],T=p[1];if(E&&T){var N=E.split(`
`),K=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===K.length)for(l=N.length-1,f=K.length-1;1<=l&&0<=f&&N[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==K[f]){var Z=`
`+N[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ms=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Dr(s):""}function Bo(n){switch(n.tag){case 26:case 27:case 5:return Dr(n.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return gs(n.type,!1);case 11:return gs(n.type.render,!1);case 1:return gs(n.type,!0);case 31:return Dr("Activity");default:return""}}function ys(n){try{var i="";do i+=Bo(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sf(n){var i=jo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function _s(n){n._valueTracker||(n._valueTracker=Sf(n))}function qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=jo(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Ta(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Af=/[\n"\\]/g;function Ee(n){return n.replace(Af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(n,i,s,l,f,p,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+rn(i)):n.value!==""+rn(i)&&(n.value=""+rn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vi(n,E,rn(i)):s!=null?vi(n,E,rn(s)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function ba(n,i,s,l,f,p,E,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+rn(s):"",i=i!=null?""+rn(i):s,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vi(n,i,s){i==="number"&&Ta(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function xr(n,i,s,l){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+rn(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Wt(n,i,s){if(i!=null&&(i=""+rn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+rn(s):""}function wa(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ft(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=rn(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Rn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||Sa.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Ho(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Lu(n,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Lu(n,p,i[p])}function Fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(n){return Cf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nr=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,Mr=null;function Go(n){var i=Jn(n);if(i&&(n=i.stateNode)){var s=n[ve]||null;t:switch(n=i.stateNode,i.type){case"input":if(mn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ee(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var f=l[ve]||null;if(!f)throw Error(a(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&qo(l)}break t;case"textarea":Wt(n,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&xr(n,!!s.multiple,i,!1)}}}var nr=!1;function Uu(n,i,s){if(nr)return n(i,s);nr=!0;try{var l=n(i);return l}finally{if(nr=!1,(Or!==null||Mr!==null)&&(Nc(),Or&&(i=Or,n=Mr,Mr=Or=null,Go(i),n)))for(i=0;i<n.length;i++)Go(n[i])}}function Aa(n,i){var s=n.stateNode;if(s===null)return null;var l=s[ve]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){In=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{In=!1}var rr=null,Ei=null,kr=null;function $o(){if(kr)return kr;var n,i=Ei,s=i.length,l,f="value"in rr?rr.value:rr.textContent,p=f.length;for(n=0;n<s&&i[n]===f[n];n++);var E=s-n;for(l=1;l<=E&&i[s-l]===f[p-l];l++);return kr=f.slice(n,1<l?1-l:void 0)}function ir(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ar(){return!0}function Ko(){return!1}function Me(n){function i(s,l,f,p,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ar:Ko,this.isPropagationStopped=Ko,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),i}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=Me($t),Ca=_({},$t,{view:0,detail:0}),zu=Me(Ca),Ts,bs,sr,Ia=_({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sr&&(sr&&n.type==="mousemove"?(Ts=n.screenX-sr.screenX,bs=n.screenY-sr.screenY):bs=Ts=0,sr=n),Ts)},movementY:function(n){return"movementY"in n?n.movementY:bs}}),Dn=Me(Ia),Bu=_({},Ia,{dataTransfer:0}),If=Me(Bu),Da=_({},Ca,{relatedTarget:0}),ws=Me(Da),Qo=_({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=Me(Qo),ju=_({},$t,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),As=Me(ju),Df=_({},$t,{data:0}),Yo=Me(Df),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hu[n])?!!i[n]:!1}function Na(){return Xo}var Fu=_({},Ca,{key:function(n){if(n.key){var i=xa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ir(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(n){return n.type==="keypress"?ir(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ir(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rs=Me(Fu),Gu=_({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Me(Gu),Pr=_({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),$u=Me(Pr),Ku=_({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Me(Ku),Yu=_({},Ia,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=Me(Yu),an=_({},$t,{newState:0,oldState:0}),Xu=Me(an),Wu=[9,13,27,32],or=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,v=qn&&(!or||c&&8<c&&11>=c),w=" ",F=!1;function W(n,i){switch(n){case"keyup":return Wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zt=!1;function Re(n,i){switch(n){case"compositionend":return ut(i);case"keypress":return i.which!==32?null:(F=!0,w);case"textInput":return n=i.data,n===w&&F?null:n;default:return null}}function Bt(n,i){if(zt)return n==="compositionend"||!or&&W(n,i)?(n=$o(),kr=Ei=rr=null,zt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ke[n.type]:i==="textarea"}function Vr(n,i,s,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,i=Lc(i,"onChange"),0<i.length&&(s=new Es("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var qe=null,lr=null;function Zo(n){pv(n,0)}function Zu(n){var i=tr(n);if(qo(i))return n}function Pg(n,i){if(n==="change")return i}var Vg=!1;if(qn){var xf;if(qn){var Nf="oninput"in document;if(!Nf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Nf=typeof Lg.oninput=="function"}xf=Nf}else xf=!1;Vg=xf&&(!document.documentMode||9<document.documentMode)}function Ug(){qe&&(qe.detachEvent("onpropertychange",zg),lr=qe=null)}function zg(n){if(n.propertyName==="value"&&Zu(lr)){var i=[];Vr(i,lr,n,Cn(n)),Uu(Zo,i)}}function rS(n,i,s){n==="focusin"?(Ug(),qe=i,lr=s,qe.attachEvent("onpropertychange",zg)):n==="focusout"&&Ug()}function iS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(lr)}function aS(n,i){if(n==="click")return Zu(i)}function sS(n,i){if(n==="input"||n==="change")return Zu(i)}function oS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var gn=typeof Object.is=="function"?Object.is:oS;function Jo(n,i){if(gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!ca.call(i,f)||!gn(n[f],i[f]))return!1}return!0}function Bg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jg(n,i){var s=Bg(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Bg(s)}}function qg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?qg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ta(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ta(n.document)}return i}function Of(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var lS=qn&&"documentMode"in document&&11>=document.documentMode,Is=null,Mf=null,tl=null,kf=!1;function Fg(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kf||Is==null||Is!==Ta(l)||(l=Is,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Jo(tl,l)||(tl=l,l=Lc(Mf,"onSelect"),0<l.length&&(i=new Es("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=Is)))}function Oa(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ds={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Pf={},Gg={};qn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ma(n){if(Pf[n])return Pf[n];if(!Ds[n])return n;var i=Ds[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Gg)return Pf[n]=i[s];return n}var $g=Ma("animationend"),Kg=Ma("animationiteration"),Qg=Ma("animationstart"),uS=Ma("transitionrun"),cS=Ma("transitionstart"),hS=Ma("transitioncancel"),Yg=Ma("transitionend"),Xg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Hn(n,i){Xg.set(n,i),jn(i,[n])}var Wg=new WeakMap;function xn(n,i){if(typeof n=="object"&&n!==null){var s=Wg.get(n);return s!==void 0?s:(i={value:n,source:i,stack:ys(i)},Wg.set(n,i),i)}return{value:n,source:i,stack:ys(i)}}var Nn=[],xs=0,Lf=0;function Ju(){for(var n=xs,i=Lf=xs=0;i<n;){var s=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var f=Nn[i];Nn[i++]=null;var p=Nn[i];if(Nn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&Zg(s,f,p)}}function tc(n,i,s,l){Nn[xs++]=n,Nn[xs++]=i,Nn[xs++]=s,Nn[xs++]=l,Lf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Uf(n,i,s,l){return tc(n,i,s,l),ec(n)}function Ns(n,i){return tc(n,null,null,i),ec(n)}function Zg(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=n.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&i!==null&&(f=31-Ye(s),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=s|536870912),p):null}function ec(n){if(50<Al)throw Al=0,Fd=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Os={};function fS(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,i,s,l){return new fS(n,i,s,l)}function zf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lr(n,i){var s=n.alternate;return s===null?(s=yn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Jg(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function nc(n,i,s,l,f,p){var E=0;if(l=n,typeof n=="function")zf(n)&&(E=1);else if(typeof n=="string")E=pA(n,s,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=yn(31,s,i,f),n.elementType=R,n.lanes=p,n;case O:return ka(s.children,f,p,i);case q:E=8,f|=24;break;case k:return n=yn(12,s,i,f|2),n.elementType=k,n.lanes=p,n;case rt:return n=yn(13,s,i,f),n.elementType=rt,n.lanes=p,n;case lt:return n=yn(19,s,i,f),n.elementType=lt,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case B:E=10;break t;case Q:E=9;break t;case et:E=11;break t;case I:E=14;break t;case A:E=16,l=null;break t}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=yn(E,s,i,f),i.elementType=n,i.type=l,i.lanes=p,i}function ka(n,i,s,l){return n=yn(7,n,l,i),n.lanes=s,n}function Bf(n,i,s){return n=yn(6,n,null,i),n.lanes=s,n}function jf(n,i,s){return i=yn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ms=[],ks=0,rc=null,ic=0,On=[],Mn=0,Pa=null,Ur=1,zr="";function Va(n,i){Ms[ks++]=ic,Ms[ks++]=rc,rc=n,ic=i}function ty(n,i,s){On[Mn++]=Ur,On[Mn++]=zr,On[Mn++]=Pa,Pa=n;var l=Ur;n=zr;var f=32-Ye(l)-1;l&=~(1<<f),s+=1;var p=32-Ye(i)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Ur=1<<32-Ye(i)+f|s<<f|l,zr=p+n}else Ur=1<<p|s<<f|l,zr=n}function qf(n){n.return!==null&&(Va(n,1),ty(n,1,0))}function Hf(n){for(;n===rc;)rc=Ms[--ks],Ms[ks]=null,ic=Ms[--ks],Ms[ks]=null;for(;n===Pa;)Pa=On[--Mn],On[Mn]=null,zr=On[--Mn],On[Mn]=null,Ur=On[--Mn],On[Mn]=null}var sn=null,fe=null,Gt=!1,La=null,ur=!1,Ff=Error(a(519));function Ua(n){var i=Error(a(418,""));throw rl(xn(i,n)),Ff}function ey(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[Ae]=n,i[ve]=l,s){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Vt(Cl[s],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ba(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),wa(i,l.value,l.defaultValue,l.children),_s(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||_v(i.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Uc),i=!0):i=!1,i||Ua(n)}function ny(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:sn=sn.return}}function el(n){if(n!==sn)return!1;if(!Gt)return ny(n),Gt=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||sp(n.type,n.memoizedProps)),s=!s),s&&fe&&Ua(n),ny(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){fe=Gn(n.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}fe=null}}else i===27?(i=fe,Vi(n.type)?(n=cp,cp=null,fe=n):fe=i):fe=sn?Gn(n.stateNode.nextSibling):null;return!0}function nl(){fe=sn=null,Gt=!1}function ry(){var n=La;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),La=null),n}function rl(n){La===null?La=[n]:La.push(n)}var Gf=at(null),za=null,Br=null;function Ti(n,i,s){ot(Gf,i._currentValue),i._currentValue=s}function jr(n){n._currentValue=Gf.current,ct(Gf)}function $f(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function Kf(n,i,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=f;for(var N=0;N<i.length;N++)if(T.context===i[N]){p.lanes|=s,T=p.alternate,T!==null&&(T.lanes|=s),$f(p.return,s,n),l||(E=null);break t}p=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),$f(E,s,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function il(n,i,s,l){n=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=f.type;gn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Oe.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&Kf(i,n,s,l),i.flags|=262144}function ac(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ba(n){za=n,Br=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xe(n){return iy(za,n)}function sc(n,i){return za===null&&Ba(n),iy(n,i)}function iy(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Br===null){if(n===null)throw Error(a(308));Br=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Br=Br.next=i;return s}var dS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},pS=r.unstable_scheduleCallback,mS=r.unstable_NormalPriority,Ie={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new dS,data:new Map,refCount:0}}function al(n){n.refCount--,n.refCount===0&&pS(mS,function(){n.controller.abort()})}var sl=null,Yf=0,Ps=0,Vs=null;function gS(n,i){if(sl===null){var s=sl=[];Yf=0,Ps=Wd(),Vs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yf++,i.then(ay,ay),i}function ay(){if(--Yf===0&&sl!==null){Vs!==null&&(Vs.status="fulfilled");var n=sl;sl=null,Ps=0,Vs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function yS(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var sy=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&gS(n,i),sy!==null&&sy(n,i)};var ja=at(null);function Xf(){var n=ja.current;return n!==null?n:re.pooledCache}function oc(n,i){i===null?ot(ja,ja.current):ot(ja,i.pool)}function oy(){var n=Xf();return n===null?null:{parent:Ie._currentValue,pool:n}}var ol=Error(a(460)),ly=Error(a(474)),lc=Error(a(542)),Wf={then:function(){}};function uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function uc(){}function cy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(uc,uc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,fy(n),n;default:if(typeof i.status=="string")i.then(uc,uc);else{if(n=re,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,fy(n),n}throw ll=i,ol}}var ll=null;function hy(){if(ll===null)throw Error(a(459));var n=ll;return ll=null,n}function fy(n){if(n===ol||n===lc)throw Error(a(483))}var bi=!1;function Zf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ec(n),Zg(n,null,s),i}return tc(n,l,i,s),ec(n)}function ul(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Lo(n,s)}}function td(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var ed=!1;function cl(){if(ed){var n=Vs;if(n!==null)throw n}}function hl(n,i,s,l){ed=!1;var f=n.updateQueue;bi=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,K=N.next;N.next=null,E===null?p=K:E.next=K,E=N;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=K:T.next=K,Z.lastBaseUpdate=N))}if(p!==null){var nt=f.baseState;E=0,Z=K=N=null,T=p;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(jt&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ps&&(ed=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=n,Et=T;Y=i;var te=s;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){nt=wt.call(te,nt,Y);break t}nt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,Y=typeof wt=="function"?wt.call(te,nt,Y):wt,Y==null)break t;nt=_({},nt,Y);break t;case 2:bi=!0}}Y=T.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(K=Z=X,N=nt):Z=Z.next=X,E|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(N=nt),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Oi|=E,n.lanes=E,n.memoizedState=nt}}function dy(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function py(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)dy(s[n],i)}var Ls=at(null),cc=at(0);function my(n,i){n=Qr,ot(cc,n),ot(Ls,i),Qr=n|i.baseLanes}function nd(){ot(cc,Qr),ot(Ls,Ls.current)}function rd(){Qr=cc.current,ct(Ls),ct(cc)}var Ai=0,Nt=null,Zt=null,Te=null,hc=!1,Us=!1,qa=!1,fc=0,fl=0,zs=null,_S=0;function ge(){throw Error(a(321))}function id(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!gn(n[s],i[s]))return!1;return!0}function ad(n,i,s,l,f,p){return Ai=p,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?Zy:Jy,qa=!1,p=s(l,f),qa=!1,Us&&(p=yy(i,s,l,f)),gy(n),p}function gy(n){$.H=_c;var i=Zt!==null&&Zt.next!==null;if(Ai=0,Te=Zt=Nt=null,hc=!1,fl=0,zs=null,i)throw Error(a(300));n===null||Pe||(n=n.dependencies,n!==null&&ac(n)&&(Pe=!0))}function yy(n,i,s,l){Nt=n;var f=0;do{if(Us&&(zs=null),fl=0,Us=!1,25<=f)throw Error(a(301));if(f+=1,Te=Zt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=AS,p=i(s,l)}while(Us);return p}function vS(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?dl(i):i,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(Nt.flags|=1024),i}function sd(){var n=fc!==0;return fc=0,n}function od(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function ld(n){if(hc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hc=!1}Ai=0,Te=Zt=Nt=null,Us=!1,fl=fc=0,zs=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Nt.memoizedState=Te=n:Te=Te.next=n,Te}function be(){if(Zt===null){var n=Nt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var i=Te===null?Nt.memoizedState:Te.next;if(i!==null)Te=i,Zt=n;else{if(n===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?Nt.memoizedState=Te=n:Te=Te.next=n}return Te}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(n){var i=fl;return fl+=1,zs===null&&(zs=[]),n=cy(zs,n,i),i=Nt,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Zy:Jy),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dl(n);if(n.$$typeof===B)return Xe(n)}throw Error(a(438,String(n)))}function cd(n){var i=null,s=Nt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ud(),Nt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=C;return i.index++,s}function qr(n,i){return typeof i=="function"?i(n):i}function pc(n){var i=be();return hd(i,Zt,n)}function hd(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{i=f.next;var T=E=null,N=null,K=i,Z=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(jt&nt)===nt:(Ai&nt)===nt){var Y=K.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===Ps&&(Z=!0);else if((Ai&Y)===Y){K=K.next,Y===Ps&&(Z=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(T=N=nt,E=p):N=N.next=nt,Nt.lanes|=Y,Oi|=Y;nt=K.action,qa&&s(p,nt),p=K.hasEagerState?K.eagerState:s(p,nt)}else Y={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(T=N=Y,E=p):N=N.next=Y,Nt.lanes|=nt,Oi|=nt;K=K.next}while(K!==null&&K!==i);if(N===null?E=p:N.next=T,!gn(p,n.memoizedState)&&(Pe=!0,Z&&(s=Vs,s!==null)))throw s;n.memoizedState=p,n.baseState=E,n.baseQueue=N,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function fd(n){var i=be(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);gn(p,i.memoizedState)||(Pe=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function _y(n,i,s){var l=Nt,f=be(),p=Gt;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!gn((Zt||f).memoizedState,s);E&&(f.memoizedState=s,Pe=!0),f=f.queue;var T=Ty.bind(null,l,f,n);if(pl(2048,8,T,[n]),f.getSnapshot!==i||E||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Bs(9,mc(),Ey.bind(null,l,f,s,i),null),re===null)throw Error(a(349));p||(Ai&124)!==0||vy(l,i,s)}return s}function vy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Nt.updateQueue,i===null?(i=ud(),Nt.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Ey(n,i,s,l){i.value=s,i.getSnapshot=l,by(i)&&wy(n)}function Ty(n,i,s){return s(function(){by(i)&&wy(n)})}function by(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!gn(n,s)}catch{return!0}}function wy(n){var i=Ns(n,2);i!==null&&bn(i,n,2)}function dd(n){var i=un();if(typeof n=="function"){var s=n;if(n=s(),qa){pn(!0);try{s()}finally{pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:n},i}function Sy(n,i,s,l){return n.baseState=s,hd(n,Zt,typeof l=="function"?l:qr)}function ES(n,i,s,l,f){if(yc(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,Ay(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Ay(n,i){var s=i.action,l=i.payload,f=n.state;if(i.isTransition){var p=$.T,E={};$.T=E;try{var T=s(f,l),N=$.S;N!==null&&N(E,T),Ry(n,i,T)}catch(K){pd(n,i,K)}finally{$.T=p}}else try{p=s(f,l),Ry(n,i,p)}catch(K){pd(n,i,K)}}function Ry(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Cy(n,i,l)},function(l){return pd(n,i,l)}):Cy(n,i,s)}function Cy(n,i,s){i.status="fulfilled",i.value=s,Iy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Ay(n,s)))}function pd(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Iy(i),i=i.next;while(i!==l)}n.action=null}function Iy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Dy(n,i){return i}function xy(n,i){if(Gt){var s=re.formState;if(s!==null){t:{var l=Nt;if(Gt){if(fe){e:{for(var f=fe,p=ur;f.nodeType!==8;){if(!p){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){fe=Gn(f.nextSibling),l=f.data==="F!";break t}}Ua(l)}l=!1}l&&(i=s[0])}}return s=un(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:i},s.queue=l,s=Yy.bind(null,Nt,l),l.dispatch=s,l=dd(!1),p=vd.bind(null,Nt,!1,l.queue),l=un(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,s=ES.bind(null,Nt,f,p,s),f.dispatch=s,l.memoizedState=n,[i,s,!1]}function Ny(n){var i=be();return Oy(i,Zt,n)}function Oy(n,i,s){if(i=hd(n,i,Dy)[0],n=pc(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(E){throw E===ol?lc:E}else l=i;i=be();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(Nt.flags|=2048,Bs(9,mc(),TS.bind(null,f,s),null)),[l,p,n]}function TS(n,i){n.action=i}function My(n){var i=be(),s=Zt;if(s!==null)return Oy(i,s,n);be(),i=i.memoizedState,s=be();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function Bs(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=ud(),Nt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function mc(){return{destroy:void 0,resource:void 0}}function ky(){return be().memoizedState}function gc(n,i,s,l){var f=un();l=l===void 0?null:l,Nt.flags|=n,f.memoizedState=Bs(1|i,mc(),s,l)}function pl(n,i,s,l){var f=be();l=l===void 0?null:l;var p=f.memoizedState.inst;Zt!==null&&l!==null&&id(l,Zt.memoizedState.deps)?f.memoizedState=Bs(i,p,s,l):(Nt.flags|=n,f.memoizedState=Bs(1|i,p,s,l))}function Py(n,i){gc(8390656,8,n,i)}function Vy(n,i){pl(2048,8,n,i)}function Ly(n,i){return pl(4,2,n,i)}function Uy(n,i){return pl(4,4,n,i)}function zy(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function By(n,i,s){s=s!=null?s.concat([n]):null,pl(4,4,zy.bind(null,i,n),s)}function md(){}function jy(n,i){var s=be();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&id(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function qy(n,i){var s=be();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&id(i,l[1]))return l[0];if(l=n(),qa){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[l,i],l}function gd(n,i,s){return s===void 0||(Ai&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=G_(),Nt.lanes|=n,Oi|=n,s)}function Hy(n,i,s,l){return gn(s,i)?s:Ls.current!==null?(n=gd(n,s,l),gn(n,i)||(Pe=!0),n):(Ai&42)===0?(Pe=!0,n.memoizedState=s):(n=G_(),Nt.lanes|=n,Oi|=n,i)}function Fy(n,i,s,l,f){var p=st.p;st.p=p!==0&&8>p?p:8;var E=$.T,T={};$.T=T,vd(n,!1,i,s);try{var N=f(),K=$.S;if(K!==null&&K(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=yS(N,l);ml(n,i,Z,Tn(n))}else ml(n,i,l,Tn(n))}catch(nt){ml(n,i,{then:function(){},status:"rejected",reason:nt},Tn())}finally{st.p=p,$.T=E}}function bS(){}function yd(n,i,s,l){if(n.tag!==5)throw Error(a(476));var f=Gy(n).queue;Fy(n,f,i,dt,s===null?bS:function(){return $y(n),s(l)})}function Gy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:dt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function $y(n){var i=Gy(n).next.queue;ml(n,i,{},Tn())}function _d(){return Xe(Ml)}function Ky(){return be().memoizedState}function Qy(){return be().memoizedState}function wS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Tn();n=wi(s);var l=Si(i,n,s);l!==null&&(bn(l,i,s),ul(l,i,s)),i={cache:Qf()},n.payload=i;return}i=i.return}}function SS(n,i,s){var l=Tn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yc(n)?Xy(i,s):(s=Uf(n,i,s,l),s!==null&&(bn(s,n,l),Wy(s,i,l)))}function Yy(n,i,s){var l=Tn();ml(n,i,s,l)}function ml(n,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yc(n))Xy(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,T=p(E,s);if(f.hasEagerState=!0,f.eagerState=T,gn(T,E))return tc(n,i,f,0),re===null&&Ju(),!1}catch{}finally{}if(s=Uf(n,i,f,l),s!==null)return bn(s,n,l),Wy(s,i,l),!0}return!1}function vd(n,i,s,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(i)throw Error(a(479))}else i=Uf(n,s,l,2),i!==null&&bn(i,n,2)}function yc(n){var i=n.alternate;return n===Nt||i!==null&&i===Nt}function Xy(n,i){Us=hc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Wy(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Lo(n,s)}}var _c={readContext:Xe,use:dc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Zy={readContext:Xe,use:dc,useCallback:function(n,i){return un().memoizedState=[n,i===void 0?null:i],n},useContext:Xe,useEffect:Py,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,gc(4194308,4,zy.bind(null,i,n),s)},useLayoutEffect:function(n,i){return gc(4194308,4,n,i)},useInsertionEffect:function(n,i){gc(4,2,n,i)},useMemo:function(n,i){var s=un();i=i===void 0?null:i;var l=n();if(qa){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=un();if(s!==void 0){var f=s(i);if(qa){pn(!0);try{s(i)}finally{pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=SS.bind(null,Nt,n),[l.memoizedState,n]},useRef:function(n){var i=un();return n={current:n},i.memoizedState=n},useState:function(n){n=dd(n);var i=n.queue,s=Yy.bind(null,Nt,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:md,useDeferredValue:function(n,i){var s=un();return gd(s,n,i)},useTransition:function(){var n=dd(!1);return n=Fy.bind(null,Nt,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Nt,f=un();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),re===null)throw Error(a(349));(jt&124)!==0||vy(l,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,Py(Ty.bind(null,l,p,n),[n]),l.flags|=2048,Bs(9,mc(),Ey.bind(null,l,p,s,i),null),s},useId:function(){var n=un(),i=re.identifierPrefix;if(Gt){var s=zr,l=Ur;s=(l&~(1<<32-Ye(l)-1)).toString(32)+s,i=""+i+"R"+s,s=fc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=_S++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:_d,useFormState:xy,useActionState:xy,useOptimistic:function(n){var i=un();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=vd.bind(null,Nt,!0,s),s.dispatch=i,[n,i]},useMemoCache:cd,useCacheRefresh:function(){return un().memoizedState=wS.bind(null,Nt)}},Jy={readContext:Xe,use:dc,useCallback:jy,useContext:Xe,useEffect:Vy,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:pc,useRef:ky,useState:function(){return pc(qr)},useDebugValue:md,useDeferredValue:function(n,i){var s=be();return Hy(s,Zt.memoizedState,n,i)},useTransition:function(){var n=pc(qr)[0],i=be().memoizedState;return[typeof n=="boolean"?n:dl(n),i]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:_d,useFormState:Ny,useActionState:Ny,useOptimistic:function(n,i){var s=be();return Sy(s,Zt,n,i)},useMemoCache:cd,useCacheRefresh:Qy},AS={readContext:Xe,use:dc,useCallback:jy,useContext:Xe,useEffect:Vy,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:fd,useRef:ky,useState:function(){return fd(qr)},useDebugValue:md,useDeferredValue:function(n,i){var s=be();return Zt===null?gd(s,n,i):Hy(s,Zt.memoizedState,n,i)},useTransition:function(){var n=fd(qr)[0],i=be().memoizedState;return[typeof n=="boolean"?n:dl(n),i]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:_d,useFormState:My,useActionState:My,useOptimistic:function(n,i){var s=be();return Zt!==null?Sy(s,Zt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Qy},js=null,gl=0;function vc(n){var i=gl;return gl+=1,js===null&&(js=[]),cy(js,n,i)}function yl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ec(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function t_(n){var i=n._init;return i(n._payload)}function e_(n){function i(j,U){if(n){var G=j.deletions;G===null?(j.deletions=[U],j.flags|=16):G.push(U)}}function s(j,U){if(!n)return null;for(;U!==null;)i(j,U),U=U.sibling;return null}function l(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function f(j,U){return j=Lr(j,U),j.index=0,j.sibling=null,j}function p(j,U,G){return j.index=G,n?(G=j.alternate,G!==null?(G=G.index,G<U?(j.flags|=67108866,U):G):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,U,G,tt){return U===null||U.tag!==6?(U=Bf(G,j.mode,tt),U.return=j,U):(U=f(U,G),U.return=j,U)}function N(j,U,G,tt){var mt=G.type;return mt===O?Z(j,U,G.props.children,tt,G.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&t_(mt)===U.type)?(U=f(U,G.props),yl(U,G),U.return=j,U):(U=nc(G.type,G.key,G.props,null,j.mode,tt),yl(U,G),U.return=j,U)}function K(j,U,G,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=jf(G,j.mode,tt),U.return=j,U):(U=f(U,G.children||[]),U.return=j,U)}function Z(j,U,G,tt,mt){return U===null||U.tag!==7?(U=ka(G,j.mode,tt,mt),U.return=j,U):(U=f(U,G),U.return=j,U)}function nt(j,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bf(""+U,j.mode,G),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=nc(U.type,U.key,U.props,null,j.mode,G),yl(G,U),G.return=j,G;case x:return U=jf(U,j.mode,G),U.return=j,U;case A:var tt=U._init;return U=tt(U._payload),nt(j,U,G)}if(ft(U)||z(U))return U=ka(U,j.mode,G,null),U.return=j,U;if(typeof U.then=="function")return nt(j,vc(U),G);if(U.$$typeof===B)return nt(j,sc(j,U),G);Ec(j,U)}return null}function Y(j,U,G,tt){var mt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:T(j,U,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===mt?N(j,U,G,tt):null;case x:return G.key===mt?K(j,U,G,tt):null;case A:return mt=G._init,G=mt(G._payload),Y(j,U,G,tt)}if(ft(G)||z(G))return mt!==null?null:Z(j,U,G,tt,null);if(typeof G.then=="function")return Y(j,U,vc(G),tt);if(G.$$typeof===B)return Y(j,U,sc(j,G),tt);Ec(j,G)}return null}function X(j,U,G,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(G)||null,T(U,j,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return j=j.get(tt.key===null?G:tt.key)||null,N(U,j,tt,mt);case x:return j=j.get(tt.key===null?G:tt.key)||null,K(U,j,tt,mt);case A:var kt=tt._init;return tt=kt(tt._payload),X(j,U,G,tt,mt)}if(ft(tt)||z(tt))return j=j.get(G)||null,Z(U,j,tt,mt,null);if(typeof tt.then=="function")return X(j,U,G,vc(tt),mt);if(tt.$$typeof===B)return X(j,U,G,sc(U,tt),mt);Ec(U,tt)}return null}function wt(j,U,G,tt){for(var mt=null,kt=null,gt=U,Tt=U=0,Le=null;gt!==null&&Tt<G.length;Tt++){gt.index>Tt?(Le=gt,gt=null):Le=gt.sibling;var Ht=Y(j,gt,G[Tt],tt);if(Ht===null){gt===null&&(gt=Le);break}n&&gt&&Ht.alternate===null&&i(j,gt),U=p(Ht,U,Tt),kt===null?mt=Ht:kt.sibling=Ht,kt=Ht,gt=Le}if(Tt===G.length)return s(j,gt),Gt&&Va(j,Tt),mt;if(gt===null){for(;Tt<G.length;Tt++)gt=nt(j,G[Tt],tt),gt!==null&&(U=p(gt,U,Tt),kt===null?mt=gt:kt.sibling=gt,kt=gt);return Gt&&Va(j,Tt),mt}for(gt=l(gt);Tt<G.length;Tt++)Le=X(gt,j,Tt,G[Tt],tt),Le!==null&&(n&&Le.alternate!==null&&gt.delete(Le.key===null?Tt:Le.key),U=p(Le,U,Tt),kt===null?mt=Le:kt.sibling=Le,kt=Le);return n&&gt.forEach(function(ji){return i(j,ji)}),Gt&&Va(j,Tt),mt}function Et(j,U,G,tt){if(G==null)throw Error(a(151));for(var mt=null,kt=null,gt=U,Tt=U=0,Le=null,Ht=G.next();gt!==null&&!Ht.done;Tt++,Ht=G.next()){gt.index>Tt?(Le=gt,gt=null):Le=gt.sibling;var ji=Y(j,gt,Ht.value,tt);if(ji===null){gt===null&&(gt=Le);break}n&&gt&&ji.alternate===null&&i(j,gt),U=p(ji,U,Tt),kt===null?mt=ji:kt.sibling=ji,kt=ji,gt=Le}if(Ht.done)return s(j,gt),Gt&&Va(j,Tt),mt;if(gt===null){for(;!Ht.done;Tt++,Ht=G.next())Ht=nt(j,Ht.value,tt),Ht!==null&&(U=p(Ht,U,Tt),kt===null?mt=Ht:kt.sibling=Ht,kt=Ht);return Gt&&Va(j,Tt),mt}for(gt=l(gt);!Ht.done;Tt++,Ht=G.next())Ht=X(gt,j,Tt,Ht.value,tt),Ht!==null&&(n&&Ht.alternate!==null&&gt.delete(Ht.key===null?Tt:Ht.key),U=p(Ht,U,Tt),kt===null?mt=Ht:kt.sibling=Ht,kt=Ht);return n&&gt.forEach(function(RA){return i(j,RA)}),Gt&&Va(j,Tt),mt}function te(j,U,G,tt){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var mt=G.key;U!==null;){if(U.key===mt){if(mt=G.type,mt===O){if(U.tag===7){s(j,U.sibling),tt=f(U,G.props.children),tt.return=j,j=tt;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&t_(mt)===U.type){s(j,U.sibling),tt=f(U,G.props),yl(tt,G),tt.return=j,j=tt;break t}s(j,U);break}else i(j,U);U=U.sibling}G.type===O?(tt=ka(G.props.children,j.mode,tt,G.key),tt.return=j,j=tt):(tt=nc(G.type,G.key,G.props,null,j.mode,tt),yl(tt,G),tt.return=j,j=tt)}return E(j);case x:t:{for(mt=G.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){s(j,U.sibling),tt=f(U,G.children||[]),tt.return=j,j=tt;break t}else{s(j,U);break}else i(j,U);U=U.sibling}tt=jf(G,j.mode,tt),tt.return=j,j=tt}return E(j);case A:return mt=G._init,G=mt(G._payload),te(j,U,G,tt)}if(ft(G))return wt(j,U,G,tt);if(z(G)){if(mt=z(G),typeof mt!="function")throw Error(a(150));return G=mt.call(G),Et(j,U,G,tt)}if(typeof G.then=="function")return te(j,U,vc(G),tt);if(G.$$typeof===B)return te(j,U,sc(j,G),tt);Ec(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(s(j,U.sibling),tt=f(U,G),tt.return=j,j=tt):(s(j,U),tt=Bf(G,j.mode,tt),tt.return=j,j=tt),E(j)):s(j,U)}return function(j,U,G,tt){try{gl=0;var mt=te(j,U,G,tt);return js=null,mt}catch(gt){if(gt===ol||gt===lc)throw gt;var kt=yn(29,gt,null,j.mode);return kt.lanes=tt,kt.return=j,kt}finally{}}}var qs=e_(!0),n_=e_(!1),kn=at(null),cr=null;function Ri(n){var i=n.alternate;ot(De,De.current&1),ot(kn,n),cr===null&&(i===null||Ls.current!==null||i.memoizedState!==null)&&(cr=n)}function r_(n){if(n.tag===22){if(ot(De,De.current),ot(kn,n),cr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(cr=n)}}else Ci()}function Ci(){ot(De,De.current),ot(kn,kn.current)}function Hr(n){ct(kn),cr===n&&(cr=null),ct(De)}var De=at(0);function Tc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||up(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ed(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Td={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Tn(),f=wi(l);f.payload=i,s!=null&&(f.callback=s),i=Si(n,f,l),i!==null&&(bn(i,n,l),ul(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Tn(),f=wi(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Si(n,f,l),i!==null&&(bn(i,n,l),ul(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Tn(),l=wi(s);l.tag=2,i!=null&&(l.callback=i),i=Si(n,l,s),i!==null&&(bn(i,n,s),ul(i,n,s))}};function i_(n,i,s,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):i.prototype&&i.prototype.isPureReactComponent?!Jo(s,l)||!Jo(f,p):!0}function a_(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&Td.enqueueReplaceState(i,i.state,null)}function Ha(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function s_(n){bc(n)}function o_(n){console.error(n)}function l_(n){bc(n)}function wc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function u_(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(n,i,s){return s=wi(s),s.tag=3,s.payload={element:null},s.callback=function(){wc(n,i)},s}function c_(n){return n=wi(n),n.tag=3,n}function h_(n,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){u_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){u_(i,s,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function RS(n,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&il(i,s,f,!0),s=kn.current,s!==null){switch(s.tag){case 13:return cr===null?$d():s.alternate===null&&de===0&&(de=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Wf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Qd(n,l,f)),!1;case 22:return s.flags|=65536,l===Wf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Qd(n,l,f)),!1}throw Error(a(435,s.tag))}return Qd(n,l,f),$d(),!1}if(Gt)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Ff&&(n=Error(a(422),{cause:l}),rl(xn(n,s)))):(l!==Ff&&(i=Error(a(423),{cause:l}),rl(xn(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=xn(l,s),f=bd(n.stateNode,l,f),td(n,f),de!==4&&(de=2)),!1;var p=Error(a(520),{cause:l});if(p=xn(p,s),Sl===null?Sl=[p]:Sl.push(p),de!==4&&(de=2),i===null)return!0;l=xn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=bd(s.stateNode,l,n),td(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mi===null||!Mi.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=c_(f),h_(f,n,s,l),td(s,f),!1}s=s.return}while(s!==null);return!1}var f_=Error(a(461)),Pe=!1;function He(n,i,s,l){i.child=n===null?n_(i,null,s,l):qs(i,n.child,s,l)}function d_(n,i,s,l,f){s=s.render;var p=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ba(i),l=ad(n,i,s,E,p,f),T=sd(),n!==null&&!Pe?(od(n,i,f),Fr(n,i,f)):(Gt&&T&&qf(i),i.flags|=1,He(n,i,l,f),i.child)}function p_(n,i,s,l,f){if(n===null){var p=s.type;return typeof p=="function"&&!zf(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,m_(n,i,p,l,f)):(n=nc(s.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!xd(n,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:Jo,s(E,l)&&n.ref===i.ref)return Fr(n,i,f)}return i.flags|=1,n=Lr(p,l),n.ref=i.ref,n.return=i,i.child=n}function m_(n,i,s,l,f){if(n!==null){var p=n.memoizedProps;if(Jo(p,l)&&n.ref===i.ref)if(Pe=!1,i.pendingProps=l=p,xd(n,f))(n.flags&131072)!==0&&(Pe=!0);else return i.lanes=n.lanes,Fr(n,i,f)}return wd(n,i,s,l,f)}function g_(n,i,s){var l=i.pendingProps,f=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,n!==null){for(f=i.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return y_(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&oc(i,p!==null?p.cachePool:null),p!==null?my(i,p):nd(),r_(i);else return i.lanes=i.childLanes=536870912,y_(n,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(oc(i,p.cachePool),my(i,p),Ci(),i.memoizedState=null):(n!==null&&oc(i,null),nd(),Ci());return He(n,i,f,s),i.child}function y_(n,i,s,l){var f=Xf();return f=f===null?null:{parent:Ie._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&oc(i,null),nd(),r_(i),n!==null&&il(n,i,l,!0),null}function Sc(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function wd(n,i,s,l,f){return Ba(i),s=ad(n,i,s,l,void 0,f),l=sd(),n!==null&&!Pe?(od(n,i,f),Fr(n,i,f)):(Gt&&l&&qf(i),i.flags|=1,He(n,i,s,f),i.child)}function __(n,i,s,l,f,p){return Ba(i),i.updateQueue=null,s=yy(i,l,s,f),gy(n),l=sd(),n!==null&&!Pe?(od(n,i,p),Fr(n,i,p)):(Gt&&l&&qf(i),i.flags|=1,He(n,i,s,p),i.child)}function v_(n,i,s,l,f){if(Ba(i),i.stateNode===null){var p=Os,E=s.contextType;typeof E=="object"&&E!==null&&(p=Xe(E)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Td,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Zf(i),E=s.contextType,p.context=typeof E=="object"&&E!==null?Xe(E):Os,p.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Ed(i,s,E,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Td.enqueueReplaceState(p,p.state,null),hl(i,l,p,f),cl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){p=i.stateNode;var T=i.memoizedProps,N=Ha(s,T);p.props=N;var K=p.context,Z=s.contextType;E=Os,typeof Z=="object"&&Z!==null&&(E=Xe(Z));var nt=s.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==E)&&a_(i,p,l,E),bi=!1;var Y=i.memoizedState;p.state=Y,hl(i,l,p,f),cl(),K=i.memoizedState,T||Y!==K||bi?(typeof nt=="function"&&(Ed(i,s,nt,l),K=i.memoizedState),(N=bi||i_(i,s,N,l,Y,K,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),p.props=l,p.state=K,p.context=E,l=N):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Jf(n,i),E=i.memoizedProps,Z=Ha(s,E),p.props=Z,nt=i.pendingProps,Y=p.context,K=s.contextType,N=Os,typeof K=="object"&&K!==null&&(N=Xe(K)),T=s.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||Y!==N)&&a_(i,p,l,N),bi=!1,Y=i.memoizedState,p.state=Y,hl(i,l,p,f),cl();var X=i.memoizedState;E!==nt||Y!==X||bi||n!==null&&n.dependencies!==null&&ac(n.dependencies)?(typeof T=="function"&&(Ed(i,s,T,l),X=i.memoizedState),(Z=bi||i_(i,s,Z,l,Y,X,N)||n!==null&&n.dependencies!==null&&ac(n.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,N)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),p.props=l,p.state=X,p.context=N,l=Z):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),l=!1)}return p=l,Sc(n,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&l?(i.child=qs(i,n.child,null,f),i.child=qs(i,null,s,f)):He(n,i,s,f),i.memoizedState=p.state,n=i.child):n=Fr(n,i,f),n}function E_(n,i,s,l){return nl(),i.flags|=256,He(n,i,s,l),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(n){return{baseLanes:n,cachePool:oy()}}function Rd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Pn),n}function T_(n,i,s){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(De.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Gt){if(f?Ri(i):Ci(),Gt){var T=fe,N;if(N=T){t:{for(N=T,T=ur;N.nodeType!==8;){if(!T){T=null;break t}if(N=Gn(N.nextSibling),N===null){T=null;break t}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Pa!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},N=yn(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,sn=i,fe=null,N=!0):N=!1}N||Ua(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return up(T)?i.lanes=32:i.lanes=536870912,null;Hr(i)}return T=l.children,l=l.fallback,f?(Ci(),f=i.mode,T=Ac({mode:"hidden",children:T},f),l=ka(l,f,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Ad(s),f.childLanes=Rd(n,E,s),i.memoizedState=Sd,l):(Ri(i),Cd(i,T))}if(N=n.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(p)i.flags&256?(Ri(i),i.flags&=-257,i=Id(n,i,s)):i.memoizedState!==null?(Ci(),i.child=n.child,i.flags|=128,i=null):(Ci(),f=l.fallback,T=i.mode,l=Ac({mode:"visible",children:l.children},T),f=ka(f,T,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,qs(i,n.child,null,s),l=i.child,l.memoizedState=Ad(s),l.childLanes=Rd(n,E,s),i.memoizedState=Sd,i=f);else if(Ri(i),up(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var K=E.dgst;E=K,l=Error(a(419)),l.stack="",l.digest=E,rl({value:l,source:null,stack:null}),i=Id(n,i,s)}else if(Pe||il(n,i,s,!1),E=(s&n.childLanes)!==0,Pe||E){if(E=re,E!==null&&(l=s&-s,l=(l&42)!==0?1:pi(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ns(n,l),bn(E,n,l),f_;T.data==="$?"||$d(),i=Id(n,i,s)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,fe=Gn(T.nextSibling),sn=i,Gt=!0,La=null,ur=!1,n!==null&&(On[Mn++]=Ur,On[Mn++]=zr,On[Mn++]=Pa,Ur=n.id,zr=n.overflow,Pa=i),i=Cd(i,l.children),i.flags|=4096);return i}return f?(Ci(),f=l.fallback,T=i.mode,N=n.child,K=N.sibling,l=Lr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,K!==null?f=Lr(K,f):(f=ka(f,T,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=Ad(s):(N=T.cachePool,N!==null?(K=Ie._currentValue,N=N.parent!==K?{parent:K,pool:K}:N):N=oy(),T={baseLanes:T.baseLanes|s,cachePool:N}),f.memoizedState=T,f.childLanes=Rd(n,E,s),i.memoizedState=Sd,l):(Ri(i),s=n.child,n=s.sibling,s=Lr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function Cd(n,i){return i=Ac({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ac(n,i){return n=yn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Id(n,i,s){return qs(i,n.child,null,s),n=Cd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function b_(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),$f(n.return,i,s)}function Dd(n,i,s,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function w_(n,i,s){var l=i.pendingProps,f=l.revealOrder,p=l.tail;if(He(n,i,l.children,s),l=De.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&b_(n,s,i);else if(n.tag===19)b_(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ot(De,l),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Tc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Dd(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Tc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Dd(i,!0,s,null,p);break;case"together":Dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fr(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Oi|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(il(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=Lr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Lr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function xd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ac(n)))}function CS(n,i,s){switch(i.tag){case 3:ne(i,i.stateNode.containerInfo),Ti(i,Ie,n.memoizedState.cache),nl();break;case 27:case 5:di(i);break;case 4:ne(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(s&i.child.childLanes)!==0?T_(n,i,s):(Ri(i),n=Fr(n,i,s),n!==null?n.sibling:null);Ri(i);break;case 19:var f=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(il(n,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return w_(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(De,De.current),l)break;return null;case 22:case 23:return i.lanes=0,g_(n,i,s);case 24:Ti(i,Ie,n.memoizedState.cache)}return Fr(n,i,s)}function S_(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Pe=!0;else{if(!xd(n,s)&&(i.flags&128)===0)return Pe=!1,CS(n,i,s);Pe=(n.flags&131072)!==0}else Pe=!1,Gt&&(i.flags&1048576)!==0&&ty(i,ic,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")zf(l)?(n=Ha(l,n),i.tag=1,i=v_(null,i,l,n,s)):(i.tag=0,i=wd(null,i,l,n,s));else{if(l!=null){if(f=l.$$typeof,f===et){i.tag=11,i=d_(null,i,l,n,s);break t}else if(f===I){i.tag=14,i=p_(null,i,l,n,s);break t}}throw i=ae(l)||l,Error(a(306,i,""))}}return i;case 0:return wd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Ha(l,i.pendingProps),v_(n,i,l,f,s);case 3:t:{if(ne(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,Jf(n,i),hl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Ti(i,Ie,l),l!==p.cache&&Kf(i,[Ie],s,!0),cl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=E_(n,i,l,s);break t}else if(l!==f){f=xn(Error(a(424)),i),rl(f),i=E_(n,i,l,s);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(fe=Gn(n.firstChild),sn=i,Gt=!0,La=null,ur=!0,s=n_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(nl(),l===f){i=Fr(n,i,s);break t}He(n,i,l,s)}i=i.child}return i;case 26:return Sc(n,i),n===null?(s=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Gt||(s=i.type,n=i.pendingProps,l=zc(At.current).createElement(s),l[Ae]=i,l[ve]=n,Ge(l,s,n),me(l),i.stateNode=l):i.memoizedState=Iv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return di(i),n===null&&Gt&&(l=i.stateNode=Av(i.type,i.pendingProps,At.current),sn=i,ur=!0,f=fe,Vi(i.type)?(cp=f,fe=Gn(l.firstChild)):fe=f),He(n,i,i.pendingProps.children,s),Sc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Gt&&((f=l=fe)&&(l=eA(l,i.type,i.pendingProps,ur),l!==null?(i.stateNode=l,sn=i,fe=Gn(l.firstChild),ur=!1,f=!0):f=!1),f||Ua(i)),di(i),f=i.type,p=i.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,sp(f,p)?l=null:E!==null&&sp(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(n,i,vS,null,null,s),Ml._currentValue=f),Sc(n,i),He(n,i,l,s),i.child;case 6:return n===null&&Gt&&((n=s=fe)&&(s=nA(s,i.pendingProps,ur),s!==null?(i.stateNode=s,sn=i,fe=null,n=!0):n=!1),n||Ua(i)),null;case 13:return T_(n,i,s);case 4:return ne(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=qs(i,null,l,s):He(n,i,l,s),i.child;case 11:return d_(n,i,i.type,i.pendingProps,s);case 7:return He(n,i,i.pendingProps,s),i.child;case 8:return He(n,i,i.pendingProps.children,s),i.child;case 12:return He(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),He(n,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ba(i),f=Xe(f),l=l(f),i.flags|=1,He(n,i,l,s),i.child;case 14:return p_(n,i,i.type,i.pendingProps,s);case 15:return m_(n,i,i.type,i.pendingProps,s);case 19:return w_(n,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},n===null?(s=Ac(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Lr(n.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return g_(n,i,s);case 24:return Ba(i),l=Xe(Ie),n===null?(f=Xf(),f===null&&(f=re,p=Qf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:l,cache:f},Zf(i),Ti(i,Ie,f)):((n.lanes&s)!==0&&(Jf(n,i),hl(i,null,null,s),cl()),f=n.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ti(i,Ie,l)):(l=p.cache,Ti(i,Ie,l),l!==f.cache&&Kf(i,[Ie],s,!0))),He(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Gr(n){n.flags|=4}function A_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mv(i)){if(i=kn.current,i!==null&&((jt&4194048)===jt?cr!==null:(jt&62914560)!==jt&&(jt&536870912)===0||i!==cr))throw ll=Wf,ly;n.flags|=8192}}function Rc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Po():536870912,n.lanes|=i,$s|=i)}function _l(n,i){if(!Gt)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ue(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function IS(n,i,s){var l=i.pendingProps;switch(Hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(i),null;case 1:return ue(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),jr(Ie),Wn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(el(i)?Gr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ry())),ue(i),null;case 26:return s=i.memoizedState,n===null?(Gr(i),s!==null?(ue(i),A_(i,s)):(ue(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Gr(i),ue(i),A_(i,s)):(ue(i),i.flags&=-16777217):(n.memoizedProps!==l&&Gr(i),ue(i),i.flags&=-16777217),null;case 27:Sr(i),s=At.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ue(i),null}n=vt.current,el(i)?ey(i):(n=Av(f,l,s),i.stateNode=n,Gr(i))}return ue(i),null;case 5:if(Sr(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ue(i),null}if(n=vt.current,el(i))ey(i);else{switch(f=zc(At.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}n[Ae]=i,n[ve]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(Ge(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Gr(i)}}return ue(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=At.current,el(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ae]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||_v(n.nodeValue,s)),n||Ua(i)}else n=zc(n).createTextNode(l),n[Ae]=i,i.stateNode=n}return ue(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=el(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ae]=i}else nl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ue(i),f=!1}else f=ry(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Hr(i),i):(Hr(i),null)}if(Hr(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Rc(i,i.updateQueue),ue(i),null;case 4:return Wn(),n===null&&ep(i.stateNode.containerInfo),ue(i),null;case 10:return jr(i.type),ue(i),null;case 19:if(ct(De),f=i.memoizedState,f===null)return ue(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)_l(f,!1);else{if(de!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Tc(n),p!==null){for(i.flags|=128,_l(f,!1),n=p.updateQueue,i.updateQueue=n,Rc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Jg(s,n),s=s.sibling;return ot(De,De.current&1|2),i.child}n=n.sibling}f.tail!==null&&Sn()>Dc&&(i.flags|=128,l=!0,_l(f,!1),i.lanes=4194304)}else{if(!l)if(n=Tc(p),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Rc(i,n),_l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Gt)return ue(i),null}else 2*Sn()-f.renderingStartTime>Dc&&s!==536870912&&(i.flags|=128,l=!0,_l(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(n=f.last,n!==null?n.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Sn(),i.sibling=null,n=De.current,ot(De,l?n&1|2:n&1),i):(ue(i),null);case 22:case 23:return Hr(i),rd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ue(i),i.subtreeFlags&6&&(i.flags|=8192)):ue(i),s=i.updateQueue,s!==null&&Rc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&ct(ja),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),jr(Ie),ue(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function DS(n,i){switch(Hf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return jr(Ie),Wn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(Hr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));nl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ct(De),null;case 4:return Wn(),null;case 10:return jr(i.type),null;case 22:case 23:return Hr(i),rd(),n!==null&&ct(ja),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return jr(Ie),null;case 25:return null;default:return null}}function R_(n,i){switch(Hf(i),i.tag){case 3:jr(Ie),Wn();break;case 26:case 27:case 5:Sr(i);break;case 4:Wn();break;case 13:Hr(i);break;case 19:ct(De);break;case 10:jr(i.type);break;case 22:case 23:Hr(i),rd(),n!==null&&ct(ja);break;case 24:jr(Ie)}}function vl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==f)}}catch(T){ee(i,i.return,T)}}function Ii(n,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var N=s,K=T;try{K()}catch(Z){ee(f,N,Z)}}}l=l.next}while(l!==p)}}catch(Z){ee(i,i.return,Z)}}function C_(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{py(i,s)}catch(l){ee(n,n.return,l)}}}function I_(n,i,s){s.props=Ha(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){ee(n,i,l)}}function El(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){ee(n,i,f)}}function hr(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ee(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ee(n,i,f)}else s.current=null}function D_(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ee(n,n.return,f)}}function Nd(n,i,s){try{var l=n.stateNode;XS(l,n.type,s,i),l[ve]=i}catch(f){ee(n,n.return,f)}}function x_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Od(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||x_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Md(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Uc));else if(l!==4&&(l===27&&Vi(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Md(n,i,s),n=n.sibling;n!==null;)Md(n,i,s),n=n.sibling}function Cc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&Vi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Cc(n,i,s),n=n.sibling;n!==null;)Cc(n,i,s),n=n.sibling}function N_(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ge(i,l,s),i[Ae]=n,i[ve]=s}catch(p){ee(n,n.return,p)}}var $r=!1,ye=!1,kd=!1,O_=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function xS(n,i){if(n=n.containerInfo,ip=Gc,n=Hg(n),Of(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else t:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var E=0,T=-1,N=-1,K=0,Z=0,nt=n,Y=null;e:for(;;){for(var X;nt!==s||f!==0&&nt.nodeType!==3||(T=E+f),nt!==p||l!==0&&nt.nodeType!==3||(N=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(X=nt.firstChild)!==null;)Y=nt,nt=X;for(;;){if(nt===n)break e;if(Y===s&&++K===f&&(T=E),Y===p&&++Z===l&&(N=E),(X=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=X}s=T===-1||N===-1?null:{start:T,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(ap={focusedElem:n,selectionRange:s},Gc=!1,Ve=i;Ve!==null;)if(i=Ve,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ve=n;else for(;Ve!==null;){switch(i=Ve,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var wt=Ha(s.type,f,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(wt,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Et){ee(s,s.return,Et)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)lp(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":lp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Ve=n;break}Ve=i.return}}function M_(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Di(n,s),l&4&&vl(5,s);break;case 1:if(Di(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){ee(s,s.return,E)}else{var f=Ha(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(s,s.return,E)}}l&64&&C_(s),l&512&&El(s,s.return);break;case 3:if(Di(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{py(n,i)}catch(E){ee(s,s.return,E)}}break;case 27:i===null&&l&4&&N_(s);case 26:case 5:Di(n,s),i===null&&l&4&&D_(s),l&512&&El(s,s.return);break;case 12:Di(n,s);break;case 13:Di(n,s),l&4&&V_(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=zS.bind(null,s),rA(n,s))));break;case 22:if(l=s.memoizedState!==null||$r,!l){i=i!==null&&i.memoizedState!==null||ye,f=$r;var p=ye;$r=l,(ye=i)&&!p?xi(n,s,(s.subtreeFlags&8772)!==0):Di(n,s),$r=f,ye=p}break;case 30:break;default:Di(n,s)}}function k_(n){var i=n.alternate;i!==null&&(n.alternate=null,k_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var oe=null,cn=!1;function Kr(n,i,s){for(s=s.child;s!==null;)P_(n,i,s),s=s.sibling}function P_(n,i,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(he,s)}catch{}switch(s.tag){case 26:ye||hr(s,i),Kr(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ye||hr(s,i);var l=oe,f=cn;Vi(s.type)&&(oe=s.stateNode,cn=!1),Kr(n,i,s),Dl(s.stateNode),oe=l,cn=f;break;case 5:ye||hr(s,i);case 6:if(l=oe,f=cn,oe=null,Kr(n,i,s),oe=l,cn=f,oe!==null)if(cn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(p){ee(s,i,p)}else try{oe.removeChild(s.stateNode)}catch(p){ee(s,i,p)}break;case 18:oe!==null&&(cn?(n=oe,wv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Ll(n)):wv(oe,s.stateNode));break;case 4:l=oe,f=cn,oe=s.stateNode.containerInfo,cn=!0,Kr(n,i,s),oe=l,cn=f;break;case 0:case 11:case 14:case 15:ye||Ii(2,s,i),ye||Ii(4,s,i),Kr(n,i,s);break;case 1:ye||(hr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&I_(s,i,l)),Kr(n,i,s);break;case 21:Kr(n,i,s);break;case 22:ye=(l=ye)||s.memoizedState!==null,Kr(n,i,s),ye=l;break;default:Kr(n,i,s)}}function V_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ll(n)}catch(s){ee(i,i.return,s)}}function NS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new O_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new O_),i;default:throw Error(a(435,n.tag))}}function Pd(n,i){var s=NS(n);i.forEach(function(l){var f=BS.bind(null,n,l);s.has(l)||(s.add(l),l.then(f,f))})}function _n(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=n,E=i,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){oe=T.stateNode,cn=!1;break t}break;case 5:oe=T.stateNode,cn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(oe===null)throw Error(a(160));P_(p,E,f),oe=null,cn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)L_(i,n),i=i.sibling}var Fn=null;function L_(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(i,n),vn(n),l&4&&(Ii(3,n,n.return),vl(3,n),Ii(5,n,n.return));break;case 1:_n(i,n),vn(n),l&512&&(ye||s===null||hr(s,s.return)),l&64&&$r&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Fn;if(_n(i,n),vn(n),l&512&&(ye||s===null||hr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){t:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[_a]||p[Ae]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ge(p,l,s),p[Ae]=n,me(p),l=p;break t;case"link":var E=Nv("link","href",f).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(p=E[T],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break e}}p=f.createElement(l),Ge(p,l,s),f.head.appendChild(p);break;case"meta":if(E=Nv("meta","content",f).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(p=E[T],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break e}}p=f.createElement(l),Ge(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[Ae]=n,me(p),l=p}n.stateNode=l}else Ov(f,n.type,n.stateNode);else n.stateNode=xv(f,l,n.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?Ov(f,n.type,n.stateNode):xv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Nd(n,n.memoizedProps,s.memoizedProps)}break;case 27:_n(i,n),vn(n),l&512&&(ye||s===null||hr(s,s.return)),s!==null&&l&4&&Nd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(_n(i,n),vn(n),l&512&&(ye||s===null||hr(s,s.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(X){ee(n,n.return,X)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Nd(n,f,s!==null?s.memoizedProps:f)),l&1024&&(kd=!0);break;case 6:if(_n(i,n),vn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(X){ee(n,n.return,X)}}break;case 3:if(qc=null,f=Fn,Fn=Bc(i.containerInfo),_n(i,n),Fn=f,vn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(X){ee(n,n.return,X)}kd&&(kd=!1,U_(n));break;case 4:l=Fn,Fn=Bc(n.stateNode.containerInfo),_n(i,n),vn(n),Fn=l;break;case 12:_n(i,n),vn(n);break;case 13:_n(i,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(jd=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Pd(n,l)));break;case 22:f=n.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,K=$r,Z=ye;if($r=K||f,ye=Z||N,_n(i,n),ye=Z,$r=K,vn(n),l&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||$r||ye||Fa(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(p=N.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=N.stateNode;var nt=N.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){ee(N,N.return,X)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(X){ee(N,N.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Pd(n,s))));break;case 19:_n(i,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Pd(n,l)));break;case 30:break;case 21:break;default:_n(i,n),vn(n)}}function vn(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(x_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=Od(n);Cc(n,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(Rn(E,""),s.flags&=-33);var T=Od(n);Cc(n,T,E);break;case 3:case 4:var N=s.stateNode.containerInfo,K=Od(n);Md(n,K,N);break;default:throw Error(a(161))}}catch(Z){ee(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function U_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;U_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Di(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)M_(n,i.alternate,i),i=i.sibling}function Fa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Fa(i);break;case 1:hr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&I_(i,i.return,s),Fa(i);break;case 27:Dl(i.stateNode);case 26:case 5:hr(i,i.return),Fa(i);break;case 22:i.memoizedState===null&&Fa(i);break;case 30:Fa(i);break;default:Fa(i)}n=n.sibling}}function xi(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:xi(f,p,s),vl(4,p);break;case 1:if(xi(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ee(l,l.return,K)}if(l=p,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)dy(N[f],T)}catch(K){ee(l,l.return,K)}}s&&E&64&&C_(p),El(p,p.return);break;case 27:N_(p);case 26:case 5:xi(f,p,s),s&&l===null&&E&4&&D_(p),El(p,p.return);break;case 12:xi(f,p,s);break;case 13:xi(f,p,s),s&&E&4&&V_(f,p);break;case 22:p.memoizedState===null&&xi(f,p,s),El(p,p.return);break;case 30:break;default:xi(f,p,s)}i=i.sibling}}function Vd(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&al(s))}function Ld(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&al(n))}function fr(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(n,i,s,l),i=i.sibling}function z_(n,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:fr(n,i,s,l),f&2048&&vl(9,i);break;case 1:fr(n,i,s,l);break;case 3:fr(n,i,s,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&al(n)));break;case 12:if(f&2048){fr(n,i,s,l),n=i.stateNode;try{var p=i.memoizedProps,E=p.id,T=p.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ee(i,i.return,N)}}else fr(n,i,s,l);break;case 13:fr(n,i,s,l);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?fr(n,i,s,l):Tl(n,i):p._visibility&2?fr(n,i,s,l):(p._visibility|=2,Hs(n,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Vd(E,i);break;case 24:fr(n,i,s,l),f&2048&&Ld(i.alternate,i);break;default:fr(n,i,s,l)}}function Hs(n,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,E=i,T=s,N=l,K=E.flags;switch(E.tag){case 0:case 11:case 15:Hs(p,E,T,N,f),vl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Hs(p,E,T,N,f):Tl(p,E):(Z._visibility|=2,Hs(p,E,T,N,f)),f&&K&2048&&Vd(E.alternate,E);break;case 24:Hs(p,E,T,N,f),f&&K&2048&&Ld(E.alternate,E);break;default:Hs(p,E,T,N,f)}i=i.sibling}}function Tl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,f=l.flags;switch(l.tag){case 22:Tl(s,l),f&2048&&Vd(l.alternate,l);break;case 24:Tl(s,l),f&2048&&Ld(l.alternate,l);break;default:Tl(s,l)}i=i.sibling}}var bl=8192;function Fs(n){if(n.subtreeFlags&bl)for(n=n.child;n!==null;)B_(n),n=n.sibling}function B_(n){switch(n.tag){case 26:Fs(n),n.flags&bl&&n.memoizedState!==null&&gA(Fn,n.memoizedState,n.memoizedProps);break;case 5:Fs(n);break;case 3:case 4:var i=Fn;Fn=Bc(n.stateNode.containerInfo),Fs(n),Fn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=bl,bl=16777216,Fs(n),bl=i):Fs(n));break;default:Fs(n)}}function j_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function wl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ve=l,H_(l,n)}j_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q_(n),n=n.sibling}function q_(n){switch(n.tag){case 0:case 11:case 15:wl(n),n.flags&2048&&Ii(9,n,n.return);break;case 3:wl(n);break;case 12:wl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ic(n)):wl(n);break;default:wl(n)}}function Ic(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ve=l,H_(l,n)}j_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Ic(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ic(i));break;default:Ic(i)}n=n.sibling}}function H_(n,i){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:Ii(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ve=l;else t:for(s=n;Ve!==null;){l=Ve;var f=l.sibling,p=l.return;if(k_(l),l===s){Ve=null;break t}if(f!==null){f.return=p,Ve=f;break t}Ve=p}}}var OS={getCacheForType:function(n){var i=Xe(Ie),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},MS=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Pt=null,jt=0,Xt=0,En=null,Ni=!1,Gs=!1,Ud=!1,Qr=0,de=0,Oi=0,Ga=0,zd=0,Pn=0,$s=0,Sl=null,hn=null,Bd=!1,jd=0,Dc=1/0,xc=null,Mi=null,Fe=0,ki=null,Ks=null,Qs=0,qd=0,Hd=null,F_=null,Al=0,Fd=null;function Tn(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if($.T!==null){var n=Ps;return n!==0?n:Wd()}return mi()}function G_(){Pn===0&&(Pn=(jt&536870912)===0||Gt?ko():536870912);var n=kn.current;return n!==null&&(n.flags|=32),Pn}function bn(n,i,s){(n===re&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)&&(Ys(n,0),Pi(n,jt,Pn,!1)),Rr(n,s),((Yt&2)===0||n!==re)&&(n===re&&((Yt&2)===0&&(Ga|=s),de===4&&Pi(n,jt,Pn,!1)),dr(n))}function $_(n,i,s){if((Yt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&n.expiredLanes)===0||ya(n,i),f=l?VS(n,i):Kd(n,i,!0),p=l;do{if(f===0){Gs&&!l&&Pi(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!kS(s)){f=Kd(n,i,!1),p=!1;continue}if(f===2){if(p=i,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var T=n;f=Sl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ys(T,E).flags|=256),E=Kd(T,E,!1),E!==2){if(Ud&&!N){T.errorRecoveryDisabledLanes|=p,Ga|=p,f=4;break t}p=hn,hn=f,p!==null&&(hn===null?hn=p:hn.push.apply(hn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ys(n,0),Pi(n,i,0,!0);break}t:{switch(l=n,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Pi(l,i,Pn,!Ni);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=jd+300-Sn(),10<f)){if(Pi(l,i,Pn,!Ni),fs(l,0,!0)!==0)break t;l.timeoutHandle=Tv(K_.bind(null,l,s,hn,xc,Bd,i,Pn,Ga,$s,Ni,p,2,-0,0),f);break t}K_(l,s,hn,xc,Bd,i,Pn,Ga,$s,Ni,p,0,-0,0)}}break}while(!0);dr(n)}function K_(n,i,s,l,f,p,E,T,N,K,Z,nt,Y,X){if(n.timeoutHandle=-1,nt=i.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:mA},B_(i),nt=yA(),nt!==null)){n.cancelPendingCommit=nt(tv.bind(null,n,i,p,s,l,f,E,T,N,Z,1,Y,X)),Pi(n,p,E,!K);return}tv(n,i,p,s,l,f,E,T,N)}function kS(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!gn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pi(n,i,s,l){i&=~zd,i&=~Ga,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var p=31-Ye(f),E=1<<p;l[p]=-1,f&=~E}s!==0&&Zn(n,s,i)}function Nc(){return(Yt&6)===0?(Rl(0),!1):!0}function Gd(){if(Pt!==null){if(Xt===0)var n=Pt.return;else n=Pt,Br=za=null,ld(n),js=null,gl=0,n=Pt;for(;n!==null;)R_(n.alternate,n),n=n.return;Pt=null}}function Ys(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,ZS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Gd(),re=n,Pt=s=Lr(n.current,null),jt=i,Xt=0,En=null,Ni=!1,Gs=ya(n,i),Ud=!1,$s=Pn=zd=Ga=Oi=de=0,hn=Sl=null,Bd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Ye(l),p=1<<f;i|=n[f],l&=~p}return Qr=i,Ju(),s}function Q_(n,i){Nt=null,$.H=_c,i===ol||i===lc?(i=hy(),Xt=3):i===ly?(i=hy(),Xt=4):Xt=i===f_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Pt===null&&(de=1,wc(n,xn(i,n.current)))}function Y_(){var n=$.H;return $.H=_c,n===null?_c:n}function X_(){var n=$.A;return $.A=OS,n}function $d(){de=4,Ni||(jt&4194048)!==jt&&kn.current!==null||(Gs=!0),(Oi&134217727)===0&&(Ga&134217727)===0||re===null||Pi(re,jt,Pn,!1)}function Kd(n,i,s){var l=Yt;Yt|=2;var f=Y_(),p=X_();(re!==n||jt!==i)&&(xc=null,Ys(n,i)),i=!1;var E=de;t:do try{if(Xt!==0&&Pt!==null){var T=Pt,N=En;switch(Xt){case 8:Gd(),E=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var K=Xt;if(Xt=0,En=null,Xs(n,T,N,K),s&&Gs){E=0;break t}break;default:K=Xt,Xt=0,En=null,Xs(n,T,N,K)}}PS(),E=de;break}catch(Z){Q_(n,Z)}while(!0);return i&&n.shellSuspendCounter++,Br=za=null,Yt=l,$.H=f,$.A=p,Pt===null&&(re=null,jt=0,Ju()),E}function PS(){for(;Pt!==null;)W_(Pt)}function VS(n,i){var s=Yt;Yt|=2;var l=Y_(),f=X_();re!==n||jt!==i?(xc=null,Dc=Sn()+500,Ys(n,i)):Gs=ya(n,i);t:do try{if(Xt!==0&&Pt!==null){i=Pt;var p=En;e:switch(Xt){case 1:Xt=0,En=null,Xs(n,i,p,1);break;case 2:case 9:if(uy(p)){Xt=0,En=null,Z_(i);break}i=function(){Xt!==2&&Xt!==9||re!==n||(Xt=7),dr(n)},p.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:uy(p)?(Xt=0,En=null,Z_(i)):(Xt=0,En=null,Xs(n,i,p,7));break;case 5:var E=null;switch(Pt.tag){case 26:E=Pt.memoizedState;case 5:case 27:var T=Pt;if(!E||Mv(E)){Xt=0,En=null;var N=T.sibling;if(N!==null)Pt=N;else{var K=T.return;K!==null?(Pt=K,Oc(K)):Pt=null}break e}}Xt=0,En=null,Xs(n,i,p,5);break;case 6:Xt=0,En=null,Xs(n,i,p,6);break;case 8:Gd(),de=6;break t;default:throw Error(a(462))}}LS();break}catch(Z){Q_(n,Z)}while(!0);return Br=za=null,$.H=l,$.A=f,Yt=s,Pt!==null?0:(re=null,jt=0,Ju(),de)}function LS(){for(;Pt!==null&&!xo();)W_(Pt)}function W_(n){var i=S_(n.alternate,n,Qr);n.memoizedProps=n.pendingProps,i===null?Oc(n):Pt=i}function Z_(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=__(s,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=__(s,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:ld(i);default:R_(s,i),i=Pt=Jg(i,Qr),i=S_(s,i,Qr)}n.memoizedProps=n.pendingProps,i===null?Oc(n):Pt=i}function Xs(n,i,s,l){Br=za=null,ld(i),js=null,gl=0;var f=i.return;try{if(RS(n,f,i,s,jt)){de=1,wc(n,xn(s,n.current)),Pt=null;return}}catch(p){if(f!==null)throw Pt=f,p;de=1,wc(n,xn(s,n.current)),Pt=null;return}i.flags&32768?(Gt||l===1?n=!0:Gs||(jt&536870912)!==0?n=!1:(Ni=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),J_(i,n)):Oc(i)}function Oc(n){var i=n;do{if((i.flags&32768)!==0){J_(i,Ni);return}n=i.return;var s=IS(i.alternate,i,Qr);if(s!==null){Pt=s;return}if(i=i.sibling,i!==null){Pt=i;return}Pt=i=n}while(i!==null);de===0&&(de=5)}function J_(n,i){do{var s=DS(n.alternate,n);if(s!==null){s.flags&=32767,Pt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Pt=n;return}Pt=n=s}while(n!==null);de=6,Pt=null}function tv(n,i,s,l,f,p,E,T,N){n.cancelPendingCommit=null;do Mc();while(Fe!==0);if((Yt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Lf,Vo(n,s,p,E,T,N),n===re&&(Pt=re=null,jt=0),Ks=i,ki=n,Qs=s,qd=p,Hd=f,F_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jS(da,function(){return av(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=st.p,st.p=2,E=Yt,Yt|=4;try{xS(n,i,s)}finally{Yt=E,st.p=f,$.T=l}}Fe=1,ev(),nv(),rv()}}function ev(){if(Fe===1){Fe=0;var n=ki,i=Ks,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{L_(i,n);var p=ap,E=Hg(n.containerInfo),T=p.focusedElem,N=p.selectionRange;if(E!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(N!==null&&Of(T)){var K=N.start,Z=N.end;if(Z===void 0&&(Z=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(Z,T.value.length);else{var nt=T.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),wt=T.textContent.length,Et=Math.min(N.start,wt),te=N.end===void 0?Et:Math.min(N.end,wt);!X.extend&&Et>te&&(E=te,te=Et,Et=E);var j=jg(T,Et),U=jg(T,te);if(j&&U&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var G=nt.createRange();G.setStart(j.node,j.offset),X.removeAllRanges(),Et>te?(X.addRange(G),X.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),X.addRange(G))}}}}for(nt=[],X=T;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<nt.length;T++){var tt=nt[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Gc=!!ip,ap=ip=null}finally{Yt=f,st.p=l,$.T=s}}n.current=i,Fe=2}}function nv(){if(Fe===2){Fe=0;var n=ki,i=Ks,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{M_(n,i.alternate,i)}finally{Yt=f,st.p=l,$.T=s}}Fe=3}}function rv(){if(Fe===4||Fe===3){Fe=0,Iu();var n=ki,i=Ks,s=Qs,l=F_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Fe=5:(Fe=0,Ks=ki=null,iv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Mi=null),ds(s),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(he,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=st.p,st.p=2,$.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];p(T.value,{componentStack:T.stack})}}finally{$.T=i,st.p=f}}(Qs&3)!==0&&Mc(),dr(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===Fd?Al++:(Al=0,Fd=n):Al=0,Rl(0)}}function iv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,al(i)))}function Mc(n){return ev(),nv(),rv(),av()}function av(){if(Fe!==5)return!1;var n=ki,i=qd;qd=0;var s=ds(Qs),l=$.T,f=st.p;try{st.p=32>s?32:s,$.T=null,s=Hd,Hd=null;var p=ki,E=Qs;if(Fe=0,Ks=ki=null,Qs=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,q_(p.current),z_(p,p.current,E,s),Yt=T,Rl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(he,p)}catch{}return!0}finally{st.p=f,$.T=l,iv(n,i)}}function sv(n,i,s){i=xn(s,i),i=bd(n.stateNode,i,2),n=Si(n,i,2),n!==null&&(Rr(n,2),dr(n))}function ee(n,i,s){if(n.tag===3)sv(n,n,s);else for(;i!==null;){if(i.tag===3){sv(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){n=xn(s,n),s=c_(2),l=Si(i,s,2),l!==null&&(h_(s,l,i,n),Rr(l,2),dr(l));break}}i=i.return}}function Qd(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new MS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Ud=!0,f.add(s),n=US.bind(null,n,i,s),i.then(n,n))}function US(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,re===n&&(jt&s)===s&&(de===4||de===3&&(jt&62914560)===jt&&300>Sn()-jd?(Yt&2)===0&&Ys(n,0):zd|=s,$s===jt&&($s=0)),dr(n)}function ov(n,i){i===0&&(i=Po()),n=Ns(n,i),n!==null&&(Rr(n,i),dr(n))}function zS(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),ov(n,s)}function BS(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),ov(n,s)}function jS(n,i){return ha(n,i)}var kc=null,Ws=null,Yd=!1,Pc=!1,Xd=!1,$a=0;function dr(n){n!==Ws&&n.next===null&&(Ws===null?kc=Ws=n:Ws=Ws.next=n),Pc=!0,Yd||(Yd=!0,HS())}function Rl(n,i){if(!Xd&&Pc){Xd=!0;do for(var s=!1,l=kc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-Ye(42|n)+1)-1,p&=f&~(E&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,hv(l,p))}else p=jt,p=fs(l,l===re?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ya(l,p)||(s=!0,hv(l,p));l=l.next}while(s);Xd=!1}}function qS(){lv()}function lv(){Pc=Yd=!1;var n=0;$a!==0&&(WS()&&(n=$a),$a=0);for(var i=Sn(),s=null,l=kc;l!==null;){var f=l.next,p=uv(l,i);p===0?(l.next=null,s===null?kc=f:s.next=f,f===null&&(Ws=s)):(s=l,(n!==0||(p&3)!==0)&&(Pc=!0)),l=f}Rl(n)}function uv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Ye(p),T=1<<E,N=f[E];N===-1?((T&s)===0||(T&l)!==0)&&(f[E]=Mo(T,i)):N<=i&&(n.expiredLanes|=T),p&=~T}if(i=re,s=jt,s=fs(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&fa(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||ya(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&fa(l),ds(s)){case 2:case 8:s=cs;break;case 32:s=da;break;case 268435456:s=hs;break;default:s=da}return l=cv.bind(null,n),s=ha(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&fa(l),n.callbackPriority=2,n.callbackNode=null,2}function cv(n,i){if(Fe!==0&&Fe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Mc()&&n.callbackNode!==s)return null;var l=jt;return l=fs(n,n===re?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:($_(n,l,i),uv(n,Sn()),n.callbackNode!=null&&n.callbackNode===s?cv.bind(null,n):null)}function hv(n,i){if(Mc())return null;$_(n,i,!0)}function HS(){JS(function(){(Yt&6)!==0?ha(No,qS):lv()})}function Wd(){return $a===0&&($a=ko()),$a}function fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vs(""+n)}function dv(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function FS(n,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var p=fv((f[ve]||null).action),E=l.submitter;E&&(i=(i=E[ve]||null)?fv(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var T=new Es("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($a!==0){var N=E?dv(f,E):new FormData(f);yd(s,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(T.preventDefault(),N=E?dv(f,E):new FormData(f),yd(s,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var Zd=0;Zd<Vf.length;Zd++){var Jd=Vf[Zd],GS=Jd.toLowerCase(),$S=Jd[0].toUpperCase()+Jd.slice(1);Hn(GS,"on"+$S)}Hn($g,"onAnimationEnd"),Hn(Kg,"onAnimationIteration"),Hn(Qg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(uS,"onTransitionRun"),Hn(cS,"onTransitionStart"),Hn(hS,"onTransitionCancel"),Hn(Yg,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function pv(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;t:{var p=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],N=T.instance,K=T.currentTarget;if(T=T.listener,N!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=K;try{p(f)}catch(Z){bc(Z)}f.currentTarget=null,p=N}else for(E=0;E<l.length;E++){if(T=l[E],N=T.instance,K=T.currentTarget,T=T.listener,N!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=K;try{p(f)}catch(Z){bc(Z)}f.currentTarget=null,p=N}}}}function Vt(n,i){var s=i[Uo];s===void 0&&(s=i[Uo]=new Set);var l=n+"__bubble";s.has(l)||(mv(i,n,2,!1),s.add(l))}function tp(n,i,s){var l=0;i&&(l|=4),mv(s,n,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function ep(n){if(!n[Vc]){n[Vc]=!0,zo.forEach(function(s){s!=="selectionchange"&&(KS.has(s)||tp(s,!1,n),tp(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,tp("selectionchange",!1,i))}}function mv(n,i,s,l){switch(zv(i)){case 2:var f=EA;break;case 8:f=TA;break;default:f=mp}s=f.bind(null,i,s,n),f=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function np(n,i,s,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Cr(T),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=p=E;continue t}T=T.parentNode}}l=l.return}Uu(function(){var K=p,Z=Cn(s),nt=[];t:{var Y=Xg.get(n);if(Y!==void 0){var X=Es,wt=n;switch(n){case"keypress":if(ir(s)===0)break t;case"keydown":case"keyup":X=Rs;break;case"focusin":wt="focus",X=ws;break;case"focusout":wt="blur",X=ws;break;case"beforeblur":case"afterblur":X=ws;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=$u;break;case $g:case Kg:case Qg:X=Ss;break;case Yg:X=Qu;break;case"scroll":case"scrollend":X=zu;break;case"wheel":X=Cs;break;case"copy":case"cut":case"paste":X=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wo;break;case"toggle":case"beforetoggle":X=Xu}var Et=(i&4)!==0,te=!Et&&(n==="scroll"||n==="scrollend"),j=Et?Y!==null?Y+"Capture":null:Y;Et=[];for(var U=K,G;U!==null;){var tt=U;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||j===null||(tt=Aa(U,j),tt!=null&&Et.push(Il(U,tt,G))),te)break;U=U.return}0<Et.length&&(Y=new X(Y,wt,null,s,Z),nt.push({event:Y,listeners:Et}))}}if((i&7)===0){t:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&s!==Nr&&(wt=s.relatedTarget||s.fromElement)&&(Cr(wt)||wt[An]))break t;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(wt=s.relatedTarget||s.toElement,X=K,wt=wt?Cr(wt):null,wt!==null&&(te=u(wt),Et=wt.tag,wt!==te||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):(X=null,wt=K),X!==wt)){if(Et=Dn,tt="onMouseLeave",j="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Et=Wo,tt="onPointerLeave",j="onPointerEnter",U="pointer"),te=X==null?Y:tr(X),G=wt==null?Y:tr(wt),Y=new Et(tt,U+"leave",X,s,Z),Y.target=te,Y.relatedTarget=G,tt=null,Cr(Z)===K&&(Et=new Et(j,U+"enter",wt,s,Z),Et.target=G,Et.relatedTarget=te,tt=Et),te=tt,X&&wt)e:{for(Et=X,j=wt,U=0,G=Et;G;G=Zs(G))U++;for(G=0,tt=j;tt;tt=Zs(tt))G++;for(;0<U-G;)Et=Zs(Et),U--;for(;0<G-U;)j=Zs(j),G--;for(;U--;){if(Et===j||j!==null&&Et===j.alternate)break e;Et=Zs(Et),j=Zs(j)}Et=null}else Et=null;X!==null&&gv(nt,Y,X,Et,!1),wt!==null&&te!==null&&gv(nt,te,wt,Et,!0)}}t:{if(Y=K?tr(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var mt=Pg;else if(Ce(Y))if(Vg)mt=sS;else{mt=iS;var kt=rS}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Fo(K.elementType)&&(mt=Pg):mt=aS;if(mt&&(mt=mt(n,K))){Vr(nt,mt,s,Z);break t}kt&&kt(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&vi(Y,"number",Y.value)}switch(kt=K?tr(K):window,n){case"focusin":(Ce(kt)||kt.contentEditable==="true")&&(Is=kt,Mf=K,tl=null);break;case"focusout":tl=Mf=Is=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Fg(nt,s,Z);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Fg(nt,s,Z)}var gt;if(or)t:{switch(n){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else zt?W(n,s)&&(Tt="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(zt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&zt&&(gt=$o()):(rr=Z,Ei="value"in rr?rr.value:rr.textContent,zt=!0)),kt=Lc(K,Tt),0<kt.length&&(Tt=new Yo(Tt,n,null,s,Z),nt.push({event:Tt,listeners:kt}),gt?Tt.data=gt:(gt=ut(s),gt!==null&&(Tt.data=gt)))),(gt=y?Re(n,s):Bt(n,s))&&(Tt=Lc(K,"onBeforeInput"),0<Tt.length&&(kt=new Yo("onBeforeInput","beforeinput",null,s,Z),nt.push({event:kt,listeners:Tt}),kt.data=gt)),FS(nt,n,K,s,Z)}pv(nt,i)})}function Il(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Lc(n,i){for(var s=i+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Aa(n,s),f!=null&&l.unshift(Il(n,f,p)),f=Aa(n,i),f!=null&&l.push(Il(n,f,p))),n.tag===3)return l;n=n.return}return[]}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gv(n,i,s,l,f){for(var p=i._reactName,E=[];s!==null&&s!==l;){var T=s,N=T.alternate,K=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||K===null||(N=K,f?(K=Aa(s,p),K!=null&&E.unshift(Il(s,K,N))):f||(K=Aa(s,p),K!=null&&E.push(Il(s,K,N)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var QS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function yv(n){return(typeof n=="string"?n:""+n).replace(QS,`
`).replace(YS,"")}function _v(n,i){return i=yv(i),yv(n)===i}function Uc(){}function Jt(n,i,s,l,f,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(n,""+l);break;case"className":er(n,"class",l);break;case"tabIndex":er(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(n,s,l);break;case"style":Ho(n,l,p);break;case"data":if(i!=="object"){er(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=vs(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&Jt(n,i,"name",f.name,f,null),Jt(n,i,"formEncType",f.formEncType,f,null),Jt(n,i,"formMethod",f.formMethod,f,null),Jt(n,i,"formTarget",f.formTarget,f,null)):(Jt(n,i,"encType",f.encType,f,null),Jt(n,i,"method",f.method,f,null),Jt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=vs(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"onScroll":l!=null&&Vt("scroll",n);break;case"onScrollEnd":l!=null&&Vt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=vs(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Vt("beforetoggle",n),Vt("toggle",n),_i(n,"popover",l);break;case"xlinkActuate":je(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Rf.get(s)||s,_i(n,s,l))}}function rp(n,i,s,l,f,p){switch(s){case"style":Ho(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Vt("scroll",n);break;case"onScrollEnd":l!=null&&Vt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=n[ve]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,f);break t}s in n?n[s]=l:l===!0?n.setAttribute(s,""):_i(n,s,l)}}}function Ge(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",n),Vt("load",n);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,p,E,s,null)}}f&&Jt(n,i,"srcSet",s.srcSet,s,null),l&&Jt(n,i,"src",s.src,s,null);return;case"input":Vt("invalid",n);var T=p=E=f=null,N=null,K=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":N=Z;break;case"defaultChecked":K=Z;break;case"value":p=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Jt(n,i,l,Z,s,null)}}ba(n,p,T,N,K,E,f,!1),_s(n);return;case"select":Vt("invalid",n),l=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Jt(n,i,f,T,s,null)}i=p,s=E,n.multiple=!!l,i!=null?xr(n,!!l,i,!1):s!=null&&xr(n,!!l,s,!0);return;case"textarea":Vt("invalid",n),p=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Jt(n,i,E,T,s,null)}wa(n,l,f,p),_s(n);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(n,i,N,l,s,null)}return;case"dialog":Vt("beforetoggle",n),Vt("toggle",n),Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":Vt("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Vt(Cl[l],n);break;case"image":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"embed":case"source":case"link":Vt("error",n),Vt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(l=s[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,K,l,s,null)}return;default:if(Fo(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&rp(n,i,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Jt(n,i,T,l,s,null))}function XS(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,T=null,N=null,K=null,Z=null;for(X in s){var nt=s[X];if(s.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=nt;default:l.hasOwnProperty(X)||Jt(n,i,X,null,l,nt)}}for(var Y in l){var X=l[Y];if(nt=s[Y],l.hasOwnProperty(Y)&&(X!=null||nt!=null))switch(Y){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":E=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==nt&&Jt(n,i,Y,X,l,nt)}}mn(n,E,T,N,K,Z,p,f);return;case"select":X=E=T=Y=null;for(p in s)if(N=s[p],s.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(p)||Jt(n,i,p,null,l,N)}for(f in l)if(p=l[f],N=s[f],l.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":Y=p;break;case"defaultValue":T=p;break;case"multiple":E=p;default:p!==N&&Jt(n,i,f,p,l,N)}i=T,s=E,l=X,Y!=null?xr(n,!!s,Y,!1):!!l!=!!s&&(i!=null?xr(n,!!s,i,!0):xr(n,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(n,i,T,null,l,f)}for(E in l)if(f=l[E],p=s[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Jt(n,i,E,f,l,p)}Wt(n,Y,X);return;case"option":for(var wt in s)if(Y=s[wt],s.hasOwnProperty(wt)&&Y!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":n.selected=!1;break;default:Jt(n,i,wt,null,l,Y)}for(N in l)if(Y=l[N],X=s[N],l.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Jt(n,i,N,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)Y=s[Et],s.hasOwnProperty(Et)&&Y!=null&&!l.hasOwnProperty(Et)&&Jt(n,i,Et,null,l,Y);for(K in l)if(Y=l[K],X=s[K],l.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Jt(n,i,K,Y,l,X)}return;default:if(Fo(i)){for(var te in s)Y=s[te],s.hasOwnProperty(te)&&Y!==void 0&&!l.hasOwnProperty(te)&&rp(n,i,te,void 0,l,Y);for(Z in l)Y=l[Z],X=s[Z],!l.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||rp(n,i,Z,Y,l,X);return}}for(var j in s)Y=s[j],s.hasOwnProperty(j)&&Y!=null&&!l.hasOwnProperty(j)&&Jt(n,i,j,null,l,Y);for(nt in l)Y=l[nt],X=s[nt],!l.hasOwnProperty(nt)||Y===X||Y==null&&X==null||Jt(n,i,nt,Y,l,X)}var ip=null,ap=null;function zc(n){return n.nodeType===9?n:n.ownerDocument}function vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function sp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function WS(){var n=window.event;return n&&n.type==="popstate"?n===op?!1:(op=n,!0):(op=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,JS=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(n){return bv.resolve(null).then(n).catch(tA)}:Tv;function tA(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function wv(n,i){var s=i,l=0,f=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&Dl(E.documentElement),s&2&&Dl(E.body),s&4)for(s=E.head,Dl(s),E=s.firstChild;E;){var T=E.nextSibling,N=E.nodeName;E[_a]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){n.removeChild(p),Ll(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Ll(i)}function lp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":lp(s),yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function eA(n,i,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_a])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function nA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function up(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function rA(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var cp=null;function Sv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Av(n,i,s){switch(i=zc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Dl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);yi(n)}var Vn=new Map,Rv=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yr=st.d;st.d={f:iA,r:aA,D:sA,C:oA,L:lA,m:uA,X:hA,S:cA,M:fA};function iA(){var n=Yr.f(),i=Nc();return n||i}function aA(n){var i=Jn(n);i!==null&&i.tag===5&&i.type==="form"?$y(i):Yr.r(n)}var Js=typeof document>"u"?null:document;function Cv(n,i,s){var l=Js;if(l&&typeof i=="string"&&i){var f=Ee(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Rv.has(f)||(Rv.add(f),n={rel:n,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ge(i,"link",n),me(i),l.head.appendChild(i)))}}function sA(n){Yr.D(n),Cv("dns-prefetch",n,null)}function oA(n,i){Yr.C(n,i),Cv("preconnect",n,i)}function lA(n,i,s){Yr.L(n,i,s);var l=Js;if(l&&n&&i){var f='link[rel="preload"][as="'+Ee(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ee(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ee(s.imageSizes)+'"]')):f+='[href="'+Ee(n)+'"]';var p=f;switch(i){case"style":p=to(n);break;case"script":p=eo(n)}Vn.has(p)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Vn.set(p,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(xl(p))||i==="script"&&l.querySelector(Nl(p))||(i=l.createElement("link"),Ge(i,"link",n),me(i),l.head.appendChild(i)))}}function uA(n,i){Yr.m(n,i);var s=Js;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=eo(n)}if(!Vn.has(p)&&(n=_({rel:"modulepreload",href:n},i),Vn.set(p,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(p)))return}l=s.createElement("link"),Ge(l,"link",n),me(l),s.head.appendChild(l)}}}function cA(n,i,s){Yr.S(n,i,s);var l=Js;if(l&&n){var f=nn(l).hoistableStyles,p=to(n);i=i||"default";var E=f.get(p);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(xl(p)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Vn.get(p))&&hp(n,s);var N=E=l.createElement("link");me(N),Ge(N,"link",n),N._p=new Promise(function(K,Z){N.onload=K,N.onerror=Z}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(p,E)}}}function hA(n,i){Yr.X(n,i);var s=Js;if(s&&n){var l=nn(s).hoistableScripts,f=eo(n),p=l.get(f);p||(p=s.querySelector(Nl(f)),p||(n=_({src:n,async:!0},i),(i=Vn.get(f))&&fp(n,i),p=s.createElement("script"),me(p),Ge(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function fA(n,i){Yr.M(n,i);var s=Js;if(s&&n){var l=nn(s).hoistableScripts,f=eo(n),p=l.get(f);p||(p=s.querySelector(Nl(f)),p||(n=_({src:n,async:!0,type:"module"},i),(i=Vn.get(f))&&fp(n,i),p=s.createElement("script"),me(p),Ge(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Iv(n,i,s,l){var f=(f=At.current)?Bc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=to(s.href),s=nn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=to(s.href);var p=nn(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(xl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Vn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(n,s),p||dA(f,n,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(s),s=nn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function to(n){return'href="'+Ee(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function Dv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function dA(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",s),me(i),n.head.appendChild(i))}function eo(n){return'[src="'+Ee(n)+'"]'}function Nl(n){return"script[async]"+n}function xv(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ee(s.href)+'"]');if(l)return i.instance=l,me(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),me(l),Ge(l,"style",f),jc(l,s.precedence,n),i.instance=l;case"stylesheet":f=to(s.href);var p=n.querySelector(xl(f));if(p)return i.state.loading|=4,i.instance=p,me(p),p;l=Dv(s),(f=Vn.get(f))&&hp(l,f),p=(n.ownerDocument||n).createElement("link"),me(p);var E=p;return E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),Ge(p,"link",l),i.state.loading|=4,jc(p,s.precedence,n),i.instance=p;case"script":return p=eo(s.src),(f=n.querySelector(Nl(p)))?(i.instance=f,me(f),f):(l=s,(f=Vn.get(p))&&(l=_({},s),fp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),me(f),Ge(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,s.precedence,n));return i.instance}function jc(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function hp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function fp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var qc=null;function Nv(n,i,s){if(qc===null){var l=new Map,f=qc=new Map;f.set(s,l)}else f=qc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var p=s[f];if(!(p[_a]||p[Ae]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(p):l.set(E,[p])}}return l}function Ov(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function pA(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Mv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ol=null;function mA(){}function gA(n,i,s){if(Ol===null)throw Error(a(475));var l=Ol;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=to(s.href),p=n.querySelector(xl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Hc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=p,me(p);return}p=n.ownerDocument||n,s=Dv(s),(f=Vn.get(f))&&hp(s,f),p=p.createElement("link"),me(p);var E=p;E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),Ge(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Hc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function yA(){if(Ol===null)throw Error(a(475));var n=Ol;return n.stylesheets&&n.count===0&&dp(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&dp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Fc=null;function dp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Fc=new Map,i.forEach(_A,n),Fc=null,Hc.call(n))}function _A(n,i){if(!(i.state.loading&4)){var s=Fc.get(n);if(s)var l=s.get(null);else{s=new Map,Fc.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,f),s.set(E,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Ml={$$typeof:B,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function vA(n,i,s,l,f,p,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kv(n,i,s,l,f,p,E,T,N,K,Z,nt){return n=new vA(n,i,s,E,T,N,K,nt),i=1,p===!0&&(i|=24),p=yn(3,null,null,i),n.current=p,p.stateNode=n,i=Qf(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},Zf(p),n}function Pv(n){return n?(n=Os,n):Os}function Vv(n,i,s,l,f,p){f=Pv(f),l.context===null?l.context=f:l.pendingContext=f,l=wi(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Si(n,l,i),s!==null&&(bn(s,n,i),ul(s,n,i))}function Lv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function pp(n,i){Lv(n,i),(n=n.alternate)&&Lv(n,i)}function Uv(n){if(n.tag===13){var i=Ns(n,67108864);i!==null&&bn(i,n,67108864),pp(n,67108864)}}var Gc=!0;function EA(n,i,s,l){var f=$.T;$.T=null;var p=st.p;try{st.p=2,mp(n,i,s,l)}finally{st.p=p,$.T=f}}function TA(n,i,s,l){var f=$.T;$.T=null;var p=st.p;try{st.p=8,mp(n,i,s,l)}finally{st.p=p,$.T=f}}function mp(n,i,s,l){if(Gc){var f=gp(l);if(f===null)np(n,i,l,$c,s),Bv(n,l);else if(wA(f,n,i,s,l))l.stopPropagation();else if(Bv(n,l),i&4&&-1<bA.indexOf(n)){for(;f!==null;){var p=Jn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Bn(p.pendingLanes);if(E!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var N=1<<31-Ye(E);T.entanglements[1]|=N,E&=~N}dr(p),(Yt&6)===0&&(Dc=Sn()+500,Rl(0))}}break;case 13:T=Ns(p,2),T!==null&&bn(T,p,2),Nc(),pp(p,2)}if(p=gp(l),p===null&&np(n,i,l,$c,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else np(n,i,l,null,s)}}function gp(n){return n=Cn(n),yp(n)}var $c=null;function yp(n){if($c=null,n=Cr(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=h(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return $c=n,null}function zv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ef()){case No:return 2;case cs:return 8;case da:case Tf:return 32;case hs:return 268435456;default:return 32}default:return 32}}var _p=!1,Li=null,Ui=null,zi=null,kl=new Map,Pl=new Map,Bi=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(n,i){switch(n){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Vl(n,i,s,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Jn(i),i!==null&&Uv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function wA(n,i,s,l,f){switch(i){case"focusin":return Li=Vl(Li,n,i,s,l,f),!0;case"dragenter":return Ui=Vl(Ui,n,i,s,l,f),!0;case"mouseover":return zi=Vl(zi,n,i,s,l,f),!0;case"pointerover":var p=f.pointerId;return kl.set(p,Vl(kl.get(p)||null,n,i,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Pl.set(p,Vl(Pl.get(p)||null,n,i,s,l,f)),!0}return!1}function jv(n){var i=Cr(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){n.blockedOn=i,Nu(n.priority,function(){if(s.tag===13){var l=Tn();l=pi(l);var f=Ns(s,l);f!==null&&bn(f,s,l),pp(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=gp(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Nr=l,s.target.dispatchEvent(l),Nr=null}else return i=Jn(s),i!==null&&Uv(i),n.blockedOn=s,!1;i.shift()}return!0}function qv(n,i,s){Kc(n)&&s.delete(i)}function SA(){_p=!1,Li!==null&&Kc(Li)&&(Li=null),Ui!==null&&Kc(Ui)&&(Ui=null),zi!==null&&Kc(zi)&&(zi=null),kl.forEach(qv),Pl.forEach(qv)}function Qc(n,i){n.blockedOn===i&&(n.blockedOn=null,_p||(_p=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SA)))}var Yc=null;function Hv(n){Yc!==n&&(Yc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(yp(l||s)===null)continue;break}var p=Jn(s);p!==null&&(n.splice(i,3),i-=3,yd(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ll(n){function i(N){return Qc(N,n)}Li!==null&&Qc(Li,n),Ui!==null&&Qc(Ui,n),zi!==null&&Qc(zi,n),kl.forEach(i),Pl.forEach(i);for(var s=0;s<Bi.length;s++){var l=Bi[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Bi.length&&(s=Bi[0],s.blockedOn===null);)jv(s),s.blockedOn===null&&Bi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],E=f[ve]||null;if(typeof p=="function")E||Hv(s);else if(E){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ve]||null)T=E.formAction;else if(yp(f)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Hv(s)}}}function vp(n){this._internalRoot=n}Xc.prototype.render=vp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Tn();Vv(s,l,n,i,null,null)},Xc.prototype.unmount=vp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Vv(n.current,2,null,n,null,null),Nc(),i[An]=null}};function Xc(n){this._internalRoot=n}Xc.prototype.unstable_scheduleHydration=function(n){if(n){var i=mi();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Bi.length&&i!==0&&i<Bi[s].priority;s++);Bi.splice(s,0,n),s===0&&jv(n)}};var Fv=t.version;if(Fv!=="19.1.0")throw Error(a(527,Fv,"19.1.0"));st.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var AA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{he=Wc.inject(AA),Qt=Wc}catch{}}return zl.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",f=s_,p=o_,E=l_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=kv(n,1,!1,null,null,s,l,f,p,E,T,null),n[An]=i.current,ep(n),new vp(i)},zl.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,f="",p=s_,E=o_,T=l_,N=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),i=kv(n,1,!0,i,s??null,l,f,p,E,T,N,K),i.context=Pv(null),s=i.current,l=Tn(),l=pi(l),f=wi(l),f.callback=null,Si(s,f,l),s=l,i.current.lanes=s,Rr(i,s),dr(i),n[An]=i.current,ep(n),new Xc(i)},zl.version="19.1.0",zl}var t0;function PA(){if(t0)return bp.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bp.exports=kA(),bp.exports}var VA=PA(),Bl={},e0;function LA(){if(e0)return Bl;e0=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=h,Bl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,x){const O=new u,q=S.length;if(q<2)return O;const k=(x==null?void 0:x.decode)||_;let H=0;do{const Q=S.indexOf("=",H);if(Q===-1)break;const B=S.indexOf(";",H),et=B===-1?q:B;if(Q>et){H=S.lastIndexOf(";",Q-1)+1;continue}const rt=d(S,H,Q),lt=m(S,Q,rt),I=S.slice(rt,lt);if(O[I]===void 0){let A=d(S,Q+1,et),R=m(S,et,A);const C=k(S.slice(A,R));O[I]=C}H=et+1}while(H<q);return O}function d(S,x,O){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<O);return O}function m(S,x,O){for(;x>O;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return O}function g(S,x,O){const q=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=q(x);if(!t.test(k))throw new TypeError(`argument val is invalid: ${x}`);let H=S+"="+k;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!e.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Bl}LA();var n0="popstate";function UA(r={}){function t(o,u){let{pathname:h="/",search:d="",hash:m=""}=is(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),$p("",{pathname:h,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function e(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof u=="string"?u:Jl(u))}function a(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return BA(t,e,a,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zA(){return Math.random().toString(36).substring(2,10)}function r0(r,t){return{usr:r.state,key:r.key,idx:t}}function $p(r,t,e=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?is(t):t,state:e,key:t&&t.key||a||zA()}}function Jl({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function is(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function BA(r,t,e,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",m=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function b(){d="POP";let k=_(),H=k==null?null:k-g;g=k,m&&m({action:d,location:q.location,delta:H})}function S(k,H){d="PUSH";let Q=$p(q.location,k,H);e&&e(Q,k),g=_()+1;let B=r0(Q,g),et=q.createHref(Q);try{h.pushState(B,"",et)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(et)}u&&m&&m({action:d,location:q.location,delta:1})}function x(k,H){d="REPLACE";let Q=$p(q.location,k,H);e&&e(Q,k),g=_();let B=r0(Q,g),et=q.createHref(Q);h.replaceState(B,"",et),u&&m&&m({action:d,location:q.location,delta:0})}function O(k){let H=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof k=="string"?k:Jl(k);return Q=Q.replace(/ $/,"%20"),le(H,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,H)}let q={get action(){return d},get location(){return r(o,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(n0,b),m=k,()=>{o.removeEventListener(n0,b),m=null}},createHref(k){return t(o,k)},createURL:O,encodeLocation(k){let H=O(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:x,go(k){return h.go(k)}};return q}function tT(r,t,e="/"){return jA(r,t,e,!1)}function jA(r,t,e,a){let o=typeof t=="string"?is(t):t,u=ii(o.pathname||"/",e);if(u==null)return null;let h=eT(r);qA(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=JA(u);d=WA(h[m],g,a)}return d}function eT(r,t=[],e=[],a=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(le(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ti([a,m.relativePath]),_=e.concat(m);u.children&&u.children.length>0&&(le(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),eT(u.children,t,_,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:YA(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of nT(u.path))o(u,h,m)}),t}function nT(r){let t=r.split("/");if(t.length===0)return[];let[e,...a]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=nT(a.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function qA(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:XA(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var HA=/^:[\w-]+$/,FA=3,GA=2,$A=1,KA=10,QA=-2,i0=r=>r==="*";function YA(r,t){let e=r.split("/"),a=e.length;return e.some(i0)&&(a+=QA),t&&(a+=GA),e.filter(o=>!i0(o)).reduce((o,u)=>o+(HA.test(u)?FA:u===""?$A:KA),a)}function XA(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function WA(r,t,e=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,_=u==="/"?t:t.slice(u.length)||"/",b=Eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),S=m.route;if(!b&&g&&e&&!a[a.length-1].route.index&&(b=Eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ti([u,b.pathname]),pathnameBase:r1(ti([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=ti([u,b.pathnameBase]))}return h}function Eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,a]=ZA(r.path,r.caseSensitive,r.end),o=t.match(e);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let O=d[S]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[S];return b&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function ZA(r,t=!1,e=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function JA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ii(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=r.charAt(e);return a&&a!=="/"?null:r.slice(e)||"/"}function t1(r,t="/"){let{pathname:e,search:a="",hash:o=""}=typeof r=="string"?is(r):r;return{pathname:e?e.startsWith("/")?e:e1(e,t):t,search:i1(a),hash:a1(o)}}function e1(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function Rp(r,t,e,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n1(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Am(r){let t=n1(r);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function Rm(r,t,e,a=!1){let o;typeof r=="string"?o=is(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),Rp("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Rp("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Rp("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=e;else{let b=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?t[b]:"/"}let m=t1(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),r1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),i1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,a1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function s1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var o1=["GET",...rT];new Set(o1);var wo=L.createContext(null);wo.displayName="DataRouter";var Hh=L.createContext(null);Hh.displayName="DataRouterState";var iT=L.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var l1=L.createContext(new Map);l1.displayName="Fetchers";var u1=L.createContext(null);u1.displayName="Await";var Yn=L.createContext(null);Yn.displayName="Navigation";var hu=L.createContext(null);hu.displayName="Location";var wr=L.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Cm=L.createContext(null);Cm.displayName="RouteError";function c1(r,{relative:t}={}){le(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=L.useContext(Yn),{hash:o,pathname:u,search:h}=du(r,{relative:t}),d=u;return e!=="/"&&(d=u==="/"?e:ti([e,u])),a.createHref({pathname:d,search:h,hash:o})}function So(){return L.useContext(hu)!=null}function sa(){return le(So(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hu).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(r){L.useContext(Yn).static||L.useLayoutEffect(r)}function fu(){let{isDataRoute:r}=L.useContext(wr);return r?w1():h1()}function h1(){le(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(wo),{basename:t,navigator:e}=L.useContext(Yn),{matches:a}=L.useContext(wr),{pathname:o}=sa(),u=JSON.stringify(Am(a)),h=L.useRef(!1);return sT(()=>{h.current=!0}),L.useCallback((m,g={})=>{if(zn(h.current,aT),!h.current)return;if(typeof m=="number"){e.go(m);return}let _=Rm(m,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ti([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,u,o,r])}L.createContext(null);function du(r,{relative:t}={}){let{matches:e}=L.useContext(wr),{pathname:a}=sa(),o=JSON.stringify(Am(e));return L.useMemo(()=>Rm(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function f1(r,t){return oT(r,t)}function oT(r,t,e,a){var Q;le(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=L.useContext(Yn),{matches:h}=L.useContext(wr),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let B=b&&b.path||"";lT(g,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=sa(),x;if(t){let B=typeof t=="string"?is(t):t;le(_==="/"||((Q=B.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=S;let O=x.pathname||"/",q=O;if(_!=="/"){let B=_.replace(/^\//,"").split("/");q="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=!u&&e&&e.matches&&e.matches.length>0?e.matches:tT(r,{pathname:q});zn(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=y1(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:ti([_,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:ti([_,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),h,e,a);return t&&H?L.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},H):H}function d1(){let r=b1(),t=s1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),e?L.createElement("pre",{style:o},e):null,h)}var p1=L.createElement(d1,null),m1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?L.createElement(wr.Provider,{value:this.props.routeContext},L.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g1({routeContext:r,match:t,children:e}){let a=L.useContext(wo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(wr.Provider,{value:r},e)}function y1(r,t=[],e=null,a=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let o=r,u=e==null?void 0:e.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);le(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(e)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:b}=e,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let b,S=!1,x=null,O=null;e&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||p1,h&&(d<0&&_===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):d===_&&(S=!0,O=g.route.hydrateFallbackElement||null)));let q=t.concat(o.slice(0,_+1)),k=()=>{let H;return b?H=x:S?H=O:g.route.Component?H=L.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,L.createElement(g1,{match:g,routeContext:{outlet:m,matches:q,isDataRoute:e!=null},children:H})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?L.createElement(m1,{location:e.location,revalidation:e.revalidation,component:x,error:b,children:k(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):k()},null)}function Im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(r){let t=L.useContext(wo);return le(t,Im(r)),t}function v1(r){let t=L.useContext(Hh);return le(t,Im(r)),t}function E1(r){let t=L.useContext(wr);return le(t,Im(r)),t}function Dm(r){let t=E1(r),e=t.matches[t.matches.length-1];return le(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function T1(){return Dm("useRouteId")}function b1(){var a;let r=L.useContext(Cm),t=v1("useRouteError"),e=Dm("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[e]}function w1(){let{router:r}=_1("useNavigate"),t=Dm("useNavigate"),e=L.useRef(!1);return sT(()=>{e.current=!0}),L.useCallback(async(o,u={})=>{zn(e.current,aT),e.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var a0={};function lT(r,t,e){!t&&!a0[r]&&(a0[r]=!0,zn(!1,e))}L.memo(S1);function S1({routes:r,future:t,state:e}){return oT(r,void 0,e,t)}function A1({to:r,replace:t,state:e,relative:a}){le(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Yn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(wr),{pathname:h}=sa(),d=fu(),m=Rm(r,Am(u),h,a==="path"),g=JSON.stringify(m);return L.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:a})},[d,g,a,t,e]),null}function oh(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R1({basename:r="/",children:t=null,location:e,navigationType:a="POP",navigator:o,static:u=!1}){le(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof e=="string"&&(e=is(e));let{pathname:m="/",search:g="",hash:_="",state:b=null,key:S="default"}=e,x=L.useMemo(()=>{let O=ii(m,h);return O==null?null:{location:{pathname:O,search:g,hash:_,state:b,key:S},navigationType:a}},[h,m,g,_,b,S,a]);return zn(x!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Yn.Provider,{value:d},L.createElement(hu.Provider,{children:t,value:x}))}function C1({children:r,location:t}){return f1(Kp(r),t)}function Kp(r,t=[]){let e=[];return L.Children.forEach(r,(a,o)=>{if(!L.isValidElement(a))return;let u=[...t,o];if(a.type===L.Fragment){e.push.apply(e,Kp(a.props.children,u));return}le(a.type===oh,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Kp(a.props.children,u)),e.push(h)}),e}var lh="get",uh="application/x-www-form-urlencoded";function Fh(r){return r!=null&&typeof r.tagName=="string"}function I1(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function D1(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function x1(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function N1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function O1(r,t){return r.button===0&&(!t||t==="_self")&&!N1(r)}var Zc=null;function M1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(r){return r!=null&&!k1.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function P1(r,t){let e,a,o,u,h;if(D1(r)){let d=r.getAttribute("action");a=d?ii(d,t):null,e=r.getAttribute("method")||lh,o=Cp(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(I1(r)||x1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(a=m?ii(m,t):null,e=r.getAttribute("formmethod")||d.getAttribute("method")||lh,o=Cp(r.getAttribute("formenctype"))||Cp(d.getAttribute("enctype"))||uh,u=new FormData(d,r),!M1()){let{name:g,type:_,value:b}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=lh,a=null,o=uh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:e.toLowerCase(),encType:o,formData:u,body:h}}function xm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function V1(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function U1(r,t,e){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await V1(u,e);return h.links?h.links():[]}return[]}));return q1(a.flat(1).filter(L1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function s0(r,t,e,a,o,u){let h=(m,g)=>e[g]?m.route.id!==e[g].route.id:!0,d=(m,g)=>{var _;return e[g].pathname!==m.pathname||((_=e[g].route.path)==null?void 0:_.endsWith("*"))&&e[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{var b;let _=a.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function z1(r,t,{includeHydrateFallback:e}={}){return B1(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function B1(r){return[...new Set(r)]}function j1(r){let t={},e=Object.keys(r).sort();for(let a of e)t[a]=r[a];return t}function q1(r,t){let e=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(j1(o));return e.has(u)||(e.add(u),a.push({key:u,link:o})),a},[])}var H1=new Set([100,101,204,205]);function F1(r,t){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":t&&ii(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uT(){let r=L.useContext(wo);return xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function G1(){let r=L.useContext(Hh);return xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Nm=L.createContext(void 0);Nm.displayName="FrameworkContext";function cT(){let r=L.useContext(Nm);return xm(r,"You must render this element inside a <HydratedRouter> element"),r}function $1(r,t){let e=L.useContext(Nm),[a,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=t,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=H=>{H.forEach(Q=>{h(Q.isIntersecting)})},k=new IntersectionObserver(q,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[r]),L.useEffect(()=>{if(a){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[a]);let x=()=>{o(!0)},O=()=>{o(!1),h(!1)};return e?r!=="intent"?[u,S,{}]:[u,S,{onFocus:jl(d,x),onBlur:jl(m,O),onMouseEnter:jl(g,x),onMouseLeave:jl(_,O),onTouchStart:jl(b,x)}]:[!1,S,{}]}function jl(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function K1({page:r,...t}){let{router:e}=uT(),a=L.useMemo(()=>tT(e.routes,r,e.basename),[e.routes,r,e.basename]);return a?L.createElement(Y1,{page:r,matches:a,...t}):null}function Q1(r){let{manifest:t,routeModules:e}=cT(),[a,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return U1(r,t,e).then(h=>{u||o(h)}),()=>{u=!0}},[r,t,e]),a}function Y1({page:r,matches:t,...e}){let a=sa(),{manifest:o,routeModules:u}=cT(),{basename:h}=uT(),{loaderData:d,matches:m}=G1(),g=L.useMemo(()=>s0(r,t,m,o,a,"data"),[r,t,m,o,a]),_=L.useMemo(()=>s0(r,t,m,o,a,"assets"),[r,t,m,o,a]),b=L.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let O=new Set,q=!1;if(t.forEach(H=>{var B;let Q=o.routes[H.route.id];!Q||!Q.hasLoader||(!g.some(et=>et.route.id===H.route.id)&&H.route.id in d&&((B=u[H.route.id])!=null&&B.shouldRevalidate)||Q.hasClientLoader?q=!0:O.add(H.route.id))}),O.size===0)return[];let k=F1(r,h);return q&&O.size>0&&k.searchParams.set("_routes",t.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[k.pathname+k.search]},[h,d,a,o,g,t,r,u]),S=L.useMemo(()=>z1(_,o),[_,o]),x=Q1(_);return L.createElement(L.Fragment,null,b.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...e})),S.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...e})),x.map(({key:O,link:q})=>L.createElement("link",{key:O,...q})))}function X1(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hT&&(window.__reactRouterVersion="7.5.2")}catch{}function W1({basename:r,children:t,window:e}){let a=L.useRef();a.current==null&&(a.current=UA({window:e,v5Compat:!0}));let o=a.current,[u,h]=L.useState({action:o.action,location:o.location}),d=L.useCallback(m=>{L.startTransition(()=>h(m))},[h]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(R1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=L.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:_,viewTransition:b,...S},x){let{basename:O}=L.useContext(Yn),q=typeof g=="string"&&fT.test(g),k,H=!1;if(typeof g=="string"&&q&&(k=g,hT))try{let R=new URL(window.location.href),C=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=ii(C.pathname,O);C.origin===R.origin&&M!=null?g=M+C.search+C.hash:H=!0}catch{zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=c1(g,{relative:o}),[B,et,rt]=$1(a,S),lt=eR(g,{replace:h,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:b});function I(R){t&&t(R),R.defaultPrevented||lt(R)}let A=L.createElement("a",{...S,...rt,href:k||Q,onClick:H||u?t:I,ref:X1(x,et),target:m,"data-discover":!q&&e==="render"?"true":void 0});return B&&!q?L.createElement(L.Fragment,null,A,L.createElement(K1,{page:Q})):A});dT.displayName="Link";var Z1=L.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},_){let b=du(h,{relative:g.relative}),S=sa(),x=L.useContext(Hh),{navigator:O,basename:q}=L.useContext(Yn),k=x!=null&&sR(b)&&d===!0,H=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,Q=S.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(Q=Q.toLowerCase(),B=B?B.toLowerCase():null,H=H.toLowerCase()),B&&q&&(B=ii(B,q)||B);const et=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let rt=Q===H||!o&&Q.startsWith(H)&&Q.charAt(et)==="/",lt=B!=null&&(B===H||!o&&B.startsWith(H)&&B.charAt(H.length)==="/"),I={isActive:rt,isPending:lt,isTransitioning:k},A=rt?t:void 0,R;typeof a=="function"?R=a(I):R=[a,rt?"active":null,lt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(I):u;return L.createElement(dT,{...g,"aria-current":A,className:R,ref:_,style:C,to:h,viewTransition:d},typeof m=="function"?m(I):m)});Z1.displayName="NavLink";var J1=L.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:o,state:u,method:h=lh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:b,...S},x)=>{let O=iR(),q=aR(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&fT.test(d),Q=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let et=B.nativeEvent.submitter,rt=(et==null?void 0:et.getAttribute("formmethod"))||h;O(et||B.currentTarget,{fetcherKey:t,method:rt,navigate:e,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return L.createElement("form",{ref:x,method:k,action:q,onSubmit:a?m:Q,...S,"data-discover":!H&&r==="render"?"true":void 0})});J1.displayName="Form";function tR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let t=L.useContext(wo);return le(t,tR(r)),t}function eR(r,{target:t,replace:e,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=fu(),m=sa(),g=du(r,{relative:u});return L.useCallback(_=>{if(O1(_,t)){_.preventDefault();let b=e!==void 0?e:Jl(m)===Jl(g);d(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,e,a,t,r,o,u,h])}var nR=0,rR=()=>`__${String(++nR)}__`;function iR(){let{router:r}=pT("useSubmit"),{basename:t}=L.useContext(Yn),e=T1();return L.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=P1(a,t);if(o.navigate===!1){let _=o.fetcherKey||rR();await r.fetch(_,e,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,e])}function aR(r,{relative:t}={}){let{basename:e}=L.useContext(Yn),a=L.useContext(wr);le(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...du(r||".",{relative:t})},h=sa();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:ti([e,u.pathname])),Jl(u)}function sR(r,t={}){let e=L.useContext(iT);le(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=pT("useViewTransitionState"),o=du(r,{relative:t.relative});if(!e.isTransitioning)return!1;let u=ii(e.currentLocation.pathname,a)||e.currentLocation.pathname,h=ii(e.nextLocation.pathname,a)||e.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}new TextEncoder;[...H1];const oR=()=>{};var o0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(r){const t=[];let e=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},lR=function(r){const t=[];let e=0,a=0;for(;e<r.length;){const o=r[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[e++],h=r[e++],d=r[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[e++],h=r[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,_=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,x=g&63;m||(x=64,h||(S=64)),a.push(e[_],e[b],e[S],e[x])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=e[r.charAt(o++)],d=o<r.length?e[r.charAt(o)]:0;++o;const g=o<r.length?e[r.charAt(o)]:64;++o;const b=o<r.length?e[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new uR;const S=u<<2|d>>4;if(a.push(S),g!==64){const x=d<<4&240|g>>2;if(a.push(x),b!==64){const O=g<<6&192|b;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(r){const t=mT(r);return gT.encodeByteArray(t,!0)},Th=function(r){return cR(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&yT(r[1]);return t&&JSON.parse(t)},Gh=()=>{try{return oR()||fR()||dR()||pR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_T=r=>{var t,e;return(e=(t=Gh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},mR=r=>{const t=_T(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},vT=()=>{var r;return(r=Gh())===null||r===void 0?void 0:r.config},ET=r=>{var t;return(t=Gh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Th(JSON.stringify(e)),Th(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function vR(){var r;const t=(r=Gh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function SR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((r,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class ci extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=CR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?IR(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ci(o,d,a)}}function IR(r,t){return r.replace(DR,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const DR=/\{\$([^}]+)}/g;function xR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xa(r,t){if(r===t)return!0;const e=Object.keys(r),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=r[o],h=t[o];if(l0(u)&&l0(h)){if(!Xa(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function l0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){const t=[];for(const[e,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Hl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Fl(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function NR(r,t){const e=new OR(r,t);return e.subscribe.bind(e)}class OR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");MR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MR(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(r){return r&&r._delegate?r._delegate:r}class Wa{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new gR;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VR(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,e){var a;const o=this.normalizeInstanceIdentifier(e),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(r){return r===Ka?void 0:r}function VR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const UR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},zR=Lt.INFO,BR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},jR=(r,t,...e)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=BR[t];if(o)console[o](`[${a}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=zR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const qR=(r,t)=>t.some(e=>r instanceof e);let u0,c0;function HR(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Qp=new WeakMap,bT=new WeakMap,Dp=new WeakMap,Mm=new WeakMap;function GR(r){const t=new Promise((e,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{e(Yi(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&TT.set(e,r)}).catch(()=>{}),Mm.set(t,r),t}function $R(r){if(Qp.has(r))return;const t=new Promise((e,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Qp.set(r,t)}let Yp={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Qp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Yi(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function KR(r){Yp=r(Yp)}function QR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=r.call(xp(this),t,...e);return bT.set(a,t.sort?t.sort():[t]),Yi(a)}:FR().includes(r)?function(...t){return r.apply(xp(this),t),Yi(TT.get(this))}:function(...t){return Yi(r.apply(xp(this),t))}}function YR(r){return typeof r=="function"?QR(r):(r instanceof IDBTransaction&&$R(r),qR(r,HR())?new Proxy(r,Yp):r)}function Yi(r){if(r instanceof IDBRequest)return GR(r);if(Dp.has(r))return Dp.get(r);const t=YR(r);return t!==r&&(Dp.set(r,t),Mm.set(t,r)),t}const xp=r=>Mm.get(r);function XR(r,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,t),d=Yi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Yi(h.result),m.oldVersion,m.newVersion,Yi(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const WR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Np=new Map;function h0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Np.get(t))return Np.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=ZR.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||WR.includes(e)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return Np.set(t,u),u}KR(r=>({...r,get:(t,e,a)=>h0(t,e)||r.get(t,e,a),has:(t,e)=>!!h0(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(tC(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function tC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xp="@firebase/app",f0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Om("@firebase/app"),eC="@firebase/app-compat",nC="@firebase/analytics-compat",rC="@firebase/analytics",iC="@firebase/app-check-compat",aC="@firebase/app-check",sC="@firebase/auth",oC="@firebase/auth-compat",lC="@firebase/database",uC="@firebase/data-connect",cC="@firebase/database-compat",hC="@firebase/functions",fC="@firebase/functions-compat",dC="@firebase/installations",pC="@firebase/installations-compat",mC="@firebase/messaging",gC="@firebase/messaging-compat",yC="@firebase/performance",_C="@firebase/performance-compat",vC="@firebase/remote-config",EC="@firebase/remote-config-compat",TC="@firebase/storage",bC="@firebase/storage-compat",wC="@firebase/firestore",SC="@firebase/vertexai",AC="@firebase/firestore-compat",RC="firebase",CC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",IC={[Xp]:"fire-core",[eC]:"fire-core-compat",[rC]:"fire-analytics",[nC]:"fire-analytics-compat",[aC]:"fire-app-check",[iC]:"fire-app-check-compat",[sC]:"fire-auth",[oC]:"fire-auth-compat",[lC]:"fire-rtdb",[uC]:"fire-data-connect",[cC]:"fire-rtdb-compat",[hC]:"fire-fn",[fC]:"fire-fn-compat",[dC]:"fire-iid",[pC]:"fire-iid-compat",[mC]:"fire-fcm",[gC]:"fire-fcm-compat",[yC]:"fire-perf",[_C]:"fire-perf-compat",[vC]:"fire-rc",[EC]:"fire-rc-compat",[TC]:"fire-gcs",[bC]:"fire-gcs-compat",[wC]:"fire-fst",[AC]:"fire-fst-compat",[SC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,DC=new Map,Zp=new Map;function d0(r,t){try{r.container.addComponent(t)}catch(e){ai.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function fo(r){const t=r.name;if(Zp.has(t))return ai.debug(`There were multiple attempts to register component ${t}.`),!1;Zp.set(t,r);for(const e of bh.values())d0(e,r);for(const e of DC.values())d0(e,r);return!0}function km(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new pu("app","Firebase",xC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,e,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=CC;function wT(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(e||(e=vT()),!e)throw Xi.create("no-options");const u=bh.get(o);if(u){if(Xa(e,u.options)&&Xa(a,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const h=new LR(o);for(const m of Zp.values())h.addComponent(m);const d=new NC(e,a,h);return bh.set(o,d),d}function ST(r=Wp){const t=bh.get(r);if(!t&&r===Wp&&vT())return wT();if(!t)throw Xi.create("no-app",{appName:r});return t}function Wi(r,t,e){var a;let o=(a=IC[r])!==null&&a!==void 0?a:r;e&&(o+=`-${e}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}fo(new Wa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebase-heartbeat-database",MC=1,tu="firebase-heartbeat-store";let Op=null;function AT(){return Op||(Op=XR(OC,MC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(tu)}catch(e){console.warn(e)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),Op}async function kC(r){try{const e=(await AT()).transaction(tu),a=await e.objectStore(tu).get(RT(r));return await e.done,a}catch(t){if(t instanceof ci)ai.warn(t.message);else{const e=Xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ai.warn(e.message)}}}async function p0(r,t){try{const a=(await AT()).transaction(tu,"readwrite");await a.objectStore(tu).put(t,RT(r)),await a.done}catch(e){if(e instanceof ci)ai.warn(e.message);else{const a=Xi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ai.warn(a.message)}}}function RT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,VC=30;class LC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zC(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=m0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>VC){const h=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ai.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m0(),{heartbeatsToSend:a,unsentEntries:o}=UC(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ai.warn(e),""}}}function m0(){return new Date().toISOString().substring(0,10)}function UC(r,t=PC){const e=[];let a=r.slice();for(const o of r){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),g0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),g0(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class zC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function g0(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function BC(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let a=1;a<r.length;a++)r[a].date<e&&(e=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){fo(new Wa("platform-logger",t=>new JR(t),"PRIVATE")),fo(new Wa("heartbeat",t=>new LC(t),"PRIVATE")),Wi(Xp,f0,r),Wi(Xp,f0,"esm2017"),Wi("fire-js","")}jC("");var qC="firebase",HC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(qC,HC,"app");var Jp=function(r,t){return Jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])},Jp(r,t)};function FC(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jp(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ze=function(){return ze=Object.assign||function(t){for(var e,a=1,o=arguments.length;a<o;a++){e=arguments[a];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u])}return t},ze.apply(this,arguments)};function Pm(r,t){var e={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(e[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(e[a[o]]=r[a[o]]);return e}function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GC=CT,IT=new pu("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Om("@firebase/auth");function $C(r,...t){wh.logLevel<=Lt.WARN&&wh.warn(`Auth (${Ao}): ${r}`,...t)}function ch(r,...t){wh.logLevel<=Lt.ERROR&&wh.error(`Auth (${Ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...t){throw Vm(r,...t)}function yr(r,...t){return Vm(r,...t)}function DT(r,t,e){const a=Object.assign(Object.assign({},GC()),{[t]:e});return new pu("auth","Firebase",a).create(t,{appName:r.name})}function ei(r){return DT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(r,...t){if(typeof r!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(e,...a)}return IT.create(r,...t)}function bt(r,t,...e){if(!r)throw Vm(t,...e)}function Wr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ch(t),new Error(t)}function si(r,t){r||Wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function KC(){return y0()==="http:"||y0()==="https:"}function y0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||TR()||"connection"in navigator)?navigator.onLine:!0}function YC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,e){this.shortDelay=t,this.longDelay=e,si(e>t,"Short delay should be less than long delay!"),this.isMobile=_R()||bR()}get(){return QC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,t){si(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new gu(3e4,6e4);function hi(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Xn(r,t,e,a,o={}){return NT(r,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const d=mu(Object.assign({key:r.config.apiKey},h)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:m},u);return ER()||(g.referrerPolicy="no-referrer"),xT.fetch()(OT(r,r.config.apiHost,e,d),g)})}async function NT(r,t,e){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},XC),t);try{const o=new JC(r),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Jc(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw Jc(r,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw DT(r,_,g);$n(r,_)}}catch(o){if(o instanceof ci)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function yu(r,t,e,a,o={}){const u=await Xn(r,t,e,a,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}function OT(r,t,e,a){const o=`${t}${e}?${a}`;return r.config.emulator?Lm(r.config,o):`${r.config.apiScheme}://${o}`}function ZC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(yr(this.auth,"network-request-failed")),WC.get())})}}function Jc(r,t,e){const a={appName:r.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=yr(r,t,a);return o.customData._tokenResponse=e,o}function _0(r){return r!==void 0&&r.enterprise!==void 0}class tI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return ZC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eI(r,t){return Xn(r,"GET","/v2/recaptchaConfig",hi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,t){return Xn(r,"POST","/v1/accounts:delete",t)}async function MT(r,t){return Xn(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rI(r,t=!1){const e=pe(r),a=await e.getIdToken(t),o=Um(a);bt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Yl(Mp(o.auth_time)),issuedAtTime:Yl(Mp(o.iat)),expirationTime:Yl(Mp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mp(r){return Number(r)*1e3}function Um(r){const[t,e,a]=r.split(".");if(t===void 0||e===void 0||a===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(e);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function v0(r){const t=Um(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof ci&&iI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function iI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var t;const e=r.auth,a=await r.getIdToken(),o=await Za(r,MT(e,{idToken:a}));bt(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?kT(u.providerUserInfo):[],d=oI(r.providerData,h),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new em(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function sI(r){const t=pe(r);await Sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function kT(r){return r.map(t=>{var{providerId:e}=t,a=Pm(t,["providerId"]);return{providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t){const e=await NT(r,{},async()=>{const a=mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=OT(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function uI(r,t){return Xn(r,"POST","/v2/accounts:revokeToken",hi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=v0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await lI(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new oo;return a&&(bt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(bt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zr{constructor(t){var{uid:e,auth:a,stsTokenManager:o}=t,u=Pm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new em(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await Za(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return rI(this,t)}reload(){return sI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Zr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ei(this.auth));const t=await this.getIdToken();return await Za(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var a,o,u,h,d,m,g,_;const b=(a=e.displayName)!==null&&a!==void 0?a:void 0,S=(o=e.email)!==null&&o!==void 0?o:void 0,x=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=e.photoURL)!==null&&h!==void 0?h:void 0,q=(d=e.tenantId)!==null&&d!==void 0?d:void 0,k=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,H=(g=e.createdAt)!==null&&g!==void 0?g:void 0,Q=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:B,emailVerified:et,isAnonymous:rt,providerData:lt,stsTokenManager:I}=e;bt(B&&I,t,"internal-error");const A=oo.fromJSON(this.name,I);bt(typeof B=="string",t,"internal-error"),qi(b,t.name),qi(S,t.name),bt(typeof et=="boolean",t,"internal-error"),bt(typeof rt=="boolean",t,"internal-error"),qi(x,t.name),qi(O,t.name),qi(q,t.name),qi(k,t.name),qi(H,t.name),qi(Q,t.name);const R=new Zr({uid:B,auth:t,email:S,emailVerified:et,displayName:b,isAnonymous:rt,photoURL:O,phoneNumber:x,tenantId:q,stsTokenManager:A,createdAt:H,lastLoginAt:Q});return lt&&Array.isArray(lt)&&(R.providerData=lt.map(C=>Object.assign({},C))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(t,e,a=!1){const o=new oo;o.updateFromServerResponse(e);const u=new Zr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Sh(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new oo;d.updateFromIdToken(a);const m=new Zr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Jr(r){si(r instanceof Function,"Expected a class definition");let t=E0.get(r);return t?(si(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,E0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}PT.type="NONE";const T0=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,t,e){return`firebase:${r}:${t}:${e}`}class lo{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new lo(Jr(T0),t,a);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Jr(T0);const h=hh(a,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(h);if(_){const b=Zr._fromJSON(t,_);g!==u&&(d=b),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new lo(u,t,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jT(t))return"Blackberry";if(qT(t))return"Webos";if(LT(t))return"Safari";if((t.includes("chrome/")||UT(t))&&!t.includes("edge/"))return"Chrome";if(BT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function VT(r=en()){return/firefox\//i.test(r)}function LT(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UT(r=en()){return/crios\//i.test(r)}function zT(r=en()){return/iemobile/i.test(r)}function BT(r=en()){return/android/i.test(r)}function jT(r=en()){return/blackberry/i.test(r)}function qT(r=en()){return/webos/i.test(r)}function zm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cI(r=en()){var t;return zm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hI(){return wR()&&document.documentMode===10}function HT(r=en()){return zm(r)||BT(r)||qT(r)||jT(r)||/windows phone/i.test(r)||zT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,t=[]){let e;switch(r){case"Browser":e=b0(en());break;case"Worker":e=`${b0(en())}-${r}`;break;default:e=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ao}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t={}){return Xn(r,"GET","/v2/passwordPolicy",hi(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class mI{constructor(t){var e,a,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:pI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,a,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Jr(e)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await MT(this,{idToken:t}),a=await Zr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ln(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(ei(this));const e=t?pe(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),e=new mI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Jr(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Jr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(e["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&$C(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oa(r){return pe(r)}class w0{constructor(t){this.auth=t,this.observer=null,this.addObserver=NR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(r){$h=r}function GT(r){return $h.loadJS(r)}function _I(){return $h.recaptchaEnterpriseScript}function vI(){return $h.gapiScript}function EI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new bI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class bI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const wI="recaptcha-enterprise",$T="NO_RECAPTCHA";class SI{constructor(t){this.type=wI,this.auth=oa(t)}async verify(t="verify",e=!1){async function a(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{eI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new tI(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;_0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h($T)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!e&&_0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_I();m.length!==0&&(m+=d),GT(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function S0(r,t,e,a=!1,o=!1){const u=new SI(r);let h;if(o)h=$T;else try{h=await u.verify(e)}catch{h=await u.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ah(r,t,e,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await S0(r,t,e,e==="getOobCode");return a(r,h)}else return a(r,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await S0(r,t,e,e==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r,t){const e=km(r,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Xa(u,t??{}))return o;$n(o,"already-initialized")}return e.initialize({options:t})}function RI(r,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Jr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function CI(r,t,e){const a=oa(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=KT(t),{host:h,port:d}=II(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(Xa(g,a.config.emulator)&&Xa(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,DI()}function KT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function II(r){const t=KT(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:A0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:A0(h)}}}function A0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function DI(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Wr("not implemented")}_getIdTokenResponse(t){return Wr("not implemented")}_linkToIdToken(t,e){return Wr("not implemented")}_getReauthenticationResolver(t){return Wr("not implemented")}}async function xI(r,t){return Xn(r,"POST","/v1/accounts:update",t)}async function NI(r,t){return Xn(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,t){return yu(r,"POST","/v1/accounts:signInWithPassword",hi(r,t))}async function MI(r,t){return Xn(r,"POST","/v1/accounts:sendOobCode",hi(r,t))}async function kI(r,t){return MI(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(r,t){return yu(r,"POST","/v1/accounts:signInWithEmailLink",hi(r,t))}async function VI(r,t){return yu(r,"POST","/v1/accounts:signInWithEmailLink",hi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Bm{constructor(t,e,a,o=null){super("password",a),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new eu(t,e,"password")}static _fromEmailAndCode(t,e,a=null){return new eu(t,e,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(t,e,"signInWithPassword",OI);case"emailLink":return PI(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const a={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(t,a,"signUpPassword",NI);case"emailLink":return VI(t,{idToken:e,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,t){return yu(r,"POST","/v1/accounts:signInWithIdp",hi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="http://localhost";class Ja extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$n("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=e,u=Pm(e,["providerId","signInMethod"]);if(!a||!o)return null;const h=new Ja(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return uo(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,uo(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,uo(t,e)}buildRequest(){const t={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=mu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zI(r){const t=Hl(Fl(r)).link,e=t?Hl(Fl(t)).deep_link_id:null,a=Hl(Fl(r)).deep_link_id;return(a?Hl(Fl(a)).link:null)||a||e||t||r}class jm{constructor(t){var e,a,o,u,h,d;const m=Hl(Fl(t)),g=(e=m.apiKey)!==null&&e!==void 0?e:null,_=(a=m.oobCode)!==null&&a!==void 0?a:null,b=UI((o=m.mode)!==null&&o!==void 0?o:null);bt(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=zI(t);try{return new jm(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.providerId=as.PROVIDER_ID}static credential(t,e){return eu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const a=jm.parseLink(e);return bt(a,"argument-error"),eu._fromEmailAndCode(t,a.code,a.tenantId)}}as.PROVIDER_ID="password";as.EMAIL_PASSWORD_SIGN_IN_METHOD="password";as.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends QT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends _u{constructor(){super("facebook.com")}static credential(t){return Ja._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ja._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Fi.credential(e,a)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends _u{constructor(){super("github.com")}static credential(t){return Ja._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends _u{constructor(){super("twitter.com")}static credential(t,e){return Ja._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return $i.credential(e,a)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t){return yu(r,"POST","/v1/accounts:signUp",hi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await Zr._fromIdTokenResponse(t,a,o),h=R0(a);return new ts({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=R0(a);return new ts({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends ci{constructor(t,e,a,o){var u;super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Rh(t,e,a,o)}}function YT(r,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,t,a):u})}async function jI(r,t,e=!1){const a=await Za(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return ts._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(r,t,e=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(ei(a));const o="reauthenticate";try{const u=await Za(r,YT(a,o,t,r),e);bt(u.idToken,a,"internal-error");const h=Um(u.idToken);bt(h,a,"internal-error");const{sub:d}=h;return bt(r.uid===d,a,"user-mismatch"),ts._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,t,e=!1){if(Ln(r.app))return Promise.reject(ei(r));const a="signIn",o=await YT(r,a,t),u=await ts._fromIdTokenResponse(r,a,o);return e||await r._updateCurrentUser(u.user),u}async function qI(r,t){return WT(oa(r),t)}async function HI(r,t){return XT(pe(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r){const t=oa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function FI(r,t,e){const a=oa(r);await Ah(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",kI)}async function GI(r,t,e){if(Ln(r.app))return Promise.reject(ei(r));const a=oa(r),h=await Ah(a,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ZT(r),m}),d=await ts._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function $I(r,t,e){return Ln(r.app)?Promise.reject(ei(r)):qI(pe(r),as.credential(t,e)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&ZT(r),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,t){return Xn(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const a=pe(r),u={idToken:await a.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},h=await Za(a,KI(a.auth,u));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const d=a.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function YI(r,t){return XI(pe(r),null,t)}async function XI(r,t,e){const{auth:a}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.password=e);const h=await Za(r,xI(a,u));await r._updateTokensIfNecessary(h,!0)}function WI(r,t,e,a){return pe(r).onIdTokenChanged(t,e,a)}function ZI(r,t,e){return pe(r).beforeAuthStateChanged(t,e)}function JI(r,t,e,a){return pe(r).onAuthStateChanged(t,e,a)}async function t2(r){return pe(r).delete()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,n2=10;class tb extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);hI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n2):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}tb.type="LOCAL";const r2=tb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}eb.type="SESSION";const nb=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new Kh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(e.origin,u)),m=await i2(d);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=qm("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function s2(r){_r().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function o2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function u2(){return rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebaseLocalStorageDb",c2=1,Ih="firebaseLocalStorage",ab="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Qh(r,t){return r.transaction([Ih],t?"readwrite":"readonly").objectStore(Ih)}function h2(){const r=indexedDB.deleteDatabase(ib);return new vu(r).toPromise()}function nm(){const r=indexedDB.open(ib,c2);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ih,{keyPath:ab})}catch(o){e(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ih)?t(a):(a.close(),await h2(),t(await nm()))})})}async function C0(r,t,e){const a=Qh(r,!0).put({[ab]:t,value:e});return new vu(a).toPromise()}async function f2(r,t){const e=Qh(r,!1).get(t),a=await new vu(e).toPromise();return a===void 0?null:a.value}function I0(r,t){const e=Qh(r,!0).delete(t);return new vu(e).toPromise()}const d2=800,p2=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>p2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(u2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new a2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((e=a[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await C0(t,Ch,"1"),await I0(t,Ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>C0(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>f2(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>I0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const m2=sb;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r,t){return t?Jr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends Bm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return uo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function y2(r){return WT(r.auth,new Hm(r),r.bypassAuthState)}function _2(r){const{auth:t,user:e}=r;return bt(e,t,"internal-error"),XT(e,new Hm(r),r.bypassAuthState)}async function v2(r){const{auth:t,user:e}=r;return bt(e,t,"internal-error"),jI(e,new Hm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:$n(this.auth,"internal-error")}}resolve(t){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new gu(2e3,1e4);class so extends ob{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if(!((a=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,E2.get())};t()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="pendingRedirect",fh=new Map;class b2 extends ob{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const a=await w2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(r,t){const e=R2(t),a=A2(r);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function S2(r,t){fh.set(r._key(),t)}function A2(r){return Jr(r._redirectPersistence)}function R2(r){return hh(T2,r.config.apiKey,r.name)}async function C2(r,t,e=!1){if(Ln(r.app))return Promise.reject(ei(r));const a=oa(r),o=g2(a,t),h=await new b2(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=10*60*1e3;class D2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!x2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!lb(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";e.onError(yr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function lb({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function x2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(r,t={}){return Xn(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function k2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await N2(r);for(const e of t)try{if(P2(e))return}catch{}$n(r,"unauthorized-domain")}function P2(r){const t=tm(),{protocol:e,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!M2.test(e))return!1;if(O2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new gu(3e4,6e4);function x0(){const r=_r().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function L2(r){return new Promise((t,e)=>{var a,o,u;function h(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),e(yr(r,"network-request-failed"))},timeout:V2.get()})}if(!((o=(a=_r().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_r().gapi)===null||u===void 0)&&u.load)h();else{const d=EI("iframefcb");return _r()[d]=()=>{gapi.load?h():e(yr(r,"network-request-failed"))},GT(`${vI()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw dh=null,t})}let dh=null;function U2(r){return dh=dh||L2(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new gu(5e3,15e3),B2="__/auth/iframe",j2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Lm(t,j2):`https://${r.config.authDomain}/${B2}`,a={apiKey:t.apiKey,appName:r.name,v:Ao},o=H2.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${mu(a).slice(1)}`}async function G2(r){const t=await U2(r),e=_r().gapi;return bt(e,r,"internal-error"),t.open({where:document.body,url:F2(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=yr(r,"network-request-failed"),d=_r().setTimeout(()=>{u(h)},z2.get());function m(){_r().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K2=500,Q2=600,Y2="_blank",X2="http://localhost";class N0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W2(r,t,e,a=K2,o=Q2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},$2),{width:a.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();e&&(d=UT(g)?Y2:e),VT(g)&&(t=t||X2,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[x,O])=>`${S}${x}=${O},`,"");if(cI(g)&&d!=="_self")return Z2(t||"",d),new N0(null);const b=window.open(t||"",d,_);bt(b,r,"popup-blocked");try{b.focus()}catch{}return new N0(b)}function Z2(r,t){const e=document.createElement("a");e.href=r,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__/auth/handler",tD="emulator/auth/handler",eD=encodeURIComponent("fac");async function O0(r,t,e,a,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:a,v:Ao,eventId:o};if(t instanceof QT){t.setDefaultLanguage(r.languageCode),h.providerId=t.providerId||"",xR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(t instanceof _u){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await r._getAppCheckToken(),g=m?`#${eD}=${encodeURIComponent(m)}`:"";return`${nD(r)}?${mu(d).slice(1)}${g}`}function nD({config:r}){return r.emulator?Lm(r,tD):`https://${r.authDomain}/${J2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class rD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nb,this._completeRedirectFn=C2,this._overrideRedirectResult=S2}async _openPopup(t,e,a,o){var u;si((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await O0(t,e,a,tm(),o);return W2(t,h,qm())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await O0(t,e,a,tm(),o);return s2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(si(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await G2(t),a=new D2(t);return e.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kp,{type:kp},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[kp];h!==void 0&&e(!!h),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=k2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return HT()||LT()||zm()}}const iD=rD;var M0="@firebase/auth",k0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oD(r){fo(new Wa("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;bt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(r)},g=new gI(a,o,u,m);return RI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),fo(new Wa("auth-internal",t=>{const e=oa(t.getProvider("auth").getImmediate());return(a=>new aD(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(M0,k0,sD(r)),Wi(M0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=5*60,uD=ET("authIdTokenMaxAge")||lD;let P0=null;const cD=r=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>uD)return;const o=e==null?void 0:e.token;P0!==o&&(P0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hD(r=ST()){const t=km(r,"auth");if(t.isInitialized())return t.getImmediate();const e=AI(r,{popupRedirectResolver:iD,persistence:[m2,r2,nb]}),a=ET("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=cD(u.toString());ZI(e,h,()=>h(e.currentUser)),WI(e,d=>h(d))}}const o=_T("auth");return o&&CI(e,`http://${o}`),e}function fD(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}yI({loadJS(r){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const u=yr("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",fD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oD("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,ub;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,A){function R(){}R.prototype=A.prototype,I.D=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(C,M,z){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return A.prototype[M].apply(C,D)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);var C=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)C[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;16>M;++M)C[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],M=I.g[2];var z=I.g[3],D=A+(z^R&(M^z))+C[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=z+(M^A&(R^M))+C[1]+3905402710&4294967295,z=A+(D<<12&4294967295|D>>>20),D=M+(R^z&(A^R))+C[2]+606105819&4294967295,M=z+(D<<17&4294967295|D>>>15),D=R+(A^M&(z^A))+C[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(z^R&(M^z))+C[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(M^A&(R^M))+C[5]+1200080426&4294967295,z=A+(D<<12&4294967295|D>>>20),D=M+(R^z&(A^R))+C[6]+2821735955&4294967295,M=z+(D<<17&4294967295|D>>>15),D=R+(A^M&(z^A))+C[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(z^R&(M^z))+C[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(M^A&(R^M))+C[9]+2336552879&4294967295,z=A+(D<<12&4294967295|D>>>20),D=M+(R^z&(A^R))+C[10]+4294925233&4294967295,M=z+(D<<17&4294967295|D>>>15),D=R+(A^M&(z^A))+C[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(z^R&(M^z))+C[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(M^A&(R^M))+C[13]+4254626195&4294967295,z=A+(D<<12&4294967295|D>>>20),D=M+(R^z&(A^R))+C[14]+2792965006&4294967295,M=z+(D<<17&4294967295|D>>>15),D=R+(A^M&(z^A))+C[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(M^z&(R^M))+C[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^M&(A^R))+C[6]+3225465664&4294967295,z=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(z^A))+C[11]+643717713&4294967295,M=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(M^z))+C[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^z&(R^M))+C[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^M&(A^R))+C[10]+38016083&4294967295,z=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(z^A))+C[15]+3634488961&4294967295,M=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(M^z))+C[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^z&(R^M))+C[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^M&(A^R))+C[14]+3275163606&4294967295,z=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(z^A))+C[3]+4107603335&4294967295,M=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(M^z))+C[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^z&(R^M))+C[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^M&(A^R))+C[2]+4243563512&4294967295,z=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(z^A))+C[7]+1735328473&4294967295,M=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(M^z))+C[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(R^M^z)+C[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^M)+C[8]+2272392833&4294967295,z=A+(D<<11&4294967295|D>>>21),D=M+(z^A^R)+C[11]+1839030562&4294967295,M=z+(D<<16&4294967295|D>>>16),D=R+(M^z^A)+C[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^z)+C[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^M)+C[4]+1272893353&4294967295,z=A+(D<<11&4294967295|D>>>21),D=M+(z^A^R)+C[7]+4139469664&4294967295,M=z+(D<<16&4294967295|D>>>16),D=R+(M^z^A)+C[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^z)+C[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^M)+C[0]+3936430074&4294967295,z=A+(D<<11&4294967295|D>>>21),D=M+(z^A^R)+C[3]+3572445317&4294967295,M=z+(D<<16&4294967295|D>>>16),D=R+(M^z^A)+C[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^z)+C[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^M)+C[12]+3873151461&4294967295,z=A+(D<<11&4294967295|D>>>21),D=M+(z^A^R)+C[15]+530742520&4294967295,M=z+(D<<16&4294967295|D>>>16),D=R+(M^z^A)+C[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(M^(R|~z))+C[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~M))+C[7]+1126891415&4294967295,z=A+(D<<10&4294967295|D>>>22),D=M+(A^(z|~R))+C[14]+2878612391&4294967295,M=z+(D<<15&4294967295|D>>>17),D=R+(z^(M|~A))+C[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~z))+C[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~M))+C[3]+2399980690&4294967295,z=A+(D<<10&4294967295|D>>>22),D=M+(A^(z|~R))+C[10]+4293915773&4294967295,M=z+(D<<15&4294967295|D>>>17),D=R+(z^(M|~A))+C[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~z))+C[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~M))+C[15]+4264355552&4294967295,z=A+(D<<10&4294967295|D>>>22),D=M+(A^(z|~R))+C[6]+2734768916&4294967295,M=z+(D<<15&4294967295|D>>>17),D=R+(z^(M|~A))+C[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~z))+C[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~M))+C[11]+3174756917&4294967295,z=A+(D<<10&4294967295|D>>>22),D=M+(A^(z|~R))+C[2]+718787259&4294967295,M=z+(D<<15&4294967295|D>>>17),D=R+(z^(M|~A))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}a.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var R=A-this.blockSize,C=this.B,M=this.h,z=0;z<A;){if(M==0)for(;z<=R;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<A;)if(C[M++]=I.charCodeAt(z++),M==this.blockSize){o(this,C),M=0;break}}else for(;z<A;)if(C[M++]=I[z++],M==this.blockSize){o(this,C),M=0;break}}this.h=M,this.o+=A},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var R=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.u(I),I=Array(16),A=R=0;4>A;++A)for(var C=0;32>C;C+=8)I[R++]=this.g[A]>>>C&255;return I};function u(I,A){var R=d;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function h(I,A){this.h=A;for(var R=[],C=!0,M=I.length-1;0<=M;M--){var z=I[M]|0;C&&z==A||(R[M]=z,C=!1)}this.g=R}var d={};function m(I){return-128<=I&&128>I?u(I,function(A){return new h([A|0],0>A?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return k(g(-I));for(var A=[],R=1,C=0;I>=R;C++)A[C]=I/R|0,R*=4294967296;return new h(A,0)}function _(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return k(_(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),C=b,M=0;M<I.length;M+=8){var z=Math.min(8,I.length-M),D=parseInt(I.substring(M,M+z),A);8>z?(z=g(Math.pow(A,z)),C=C.j(z).add(g(D))):(C=C.j(R),C=C.add(g(D)))}return C}var b=m(0),S=m(1),x=m(16777216);r=h.prototype,r.m=function(){if(q(this))return-k(this).m();for(var I=0,A=1,R=0;R<this.g.length;R++){var C=this.i(R);I+=(0<=C?C:4294967296+C)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(q(this))return"-"+k(this).toString(I);for(var A=g(Math.pow(I,6)),R=this,C="";;){var M=et(R,A).g;R=H(R,M.j(A));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=M,O(R))return z+C;for(;6>z.length;)z="0"+z;C=z+C}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function q(I){return I.h==-1}r.l=function(I){return I=H(this,I),q(I)?-1:O(I)?0:1};function k(I){for(var A=I.g.length,R=[],C=0;C<A;C++)R[C]=~I.g[C];return new h(R,~I.h).add(S)}r.abs=function(){return q(this)?k(this):this},r.add=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],C=0,M=0;M<=A;M++){var z=C+(this.i(M)&65535)+(I.i(M)&65535),D=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);C=D>>>16,z&=65535,D&=65535,R[M]=D<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(I,A){return I.add(k(A))}r.j=function(I){if(O(this)||O(I))return b;if(q(this))return q(I)?k(this).j(k(I)):k(k(this).j(I));if(q(I))return k(this.j(k(I)));if(0>this.l(x)&&0>I.l(x))return g(this.m()*I.m());for(var A=this.g.length+I.g.length,R=[],C=0;C<2*A;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var M=0;M<I.g.length;M++){var z=this.i(C)>>>16,D=this.i(C)&65535,ae=I.i(M)>>>16,ft=I.i(M)&65535;R[2*C+2*M]+=D*ft,Q(R,2*C+2*M),R[2*C+2*M+1]+=z*ft,Q(R,2*C+2*M+1),R[2*C+2*M+1]+=D*ae,Q(R,2*C+2*M+1),R[2*C+2*M+2]+=z*ae,Q(R,2*C+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new h(R,0)};function Q(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function B(I,A){this.g=I,this.h=A}function et(I,A){if(O(A))throw Error("division by zero");if(O(I))return new B(b,b);if(q(I))return A=et(k(I),A),new B(k(A.g),k(A.h));if(q(A))return A=et(I,k(A)),new B(k(A.g),A.h);if(30<I.g.length){if(q(I)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,C=A;0>=C.l(I);)R=rt(R),C=rt(C);var M=lt(R,1),z=lt(C,1);for(C=lt(C,2),R=lt(R,2);!O(C);){var D=z.add(C);0>=D.l(I)&&(M=M.add(R),z=D),C=lt(C,1),R=lt(R,1)}return A=H(I,M.j(A)),new B(M,A)}for(M=b;0<=I.l(A);){for(R=Math.max(1,Math.floor(I.m()/A.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),z=g(R),D=z.j(A);q(D)||0<D.l(I);)R-=C,z=g(R),D=z.j(A);O(z)&&(z=S),M=M.add(z),I=H(I,D)}return new B(M,I)}r.A=function(I){return et(this,I).h},r.and=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)&I.i(C);return new h(R,this.h&I.h)},r.or=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)|I.i(C);return new h(R,this.h|I.h)},r.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)^I.i(C);return new h(R,this.h^I.h)};function rt(I){for(var A=I.g.length+1,R=[],C=0;C<A;C++)R[C]=I.i(C)<<1|I.i(C-1)>>>31;return new h(R,I.h)}function lt(I,A){var R=A>>5;A%=32;for(var C=I.g.length-R,M=[],z=0;z<C;z++)M[z]=0<A?I.i(z+R)>>>A|I.i(z+R+1)<<32-A:I.i(z+R);return new h(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ub=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Zi=h}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cb,Gl,hb,ph,rm,fb,db,pb;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=e(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in v))break t;v=v[F]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,F={next:function(){if(!w&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,S.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,F,W){for(var ut=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ut[zt-2]=arguments[zt];return y.prototype[F].apply(w,ut)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function k(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(m(w)){const F=c.length||0,W=w.length||0;c.length=F+W;for(let ut=0;ut<W;ut++)c[F+ut]=w[ut]}else c.push(w)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function et(c){return et[" "](c),c}et[" "]=function(){};var rt=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function lt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function I(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)c[v]=w[v];for(let W=0;W<R.length;W++)v=R[W],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Dt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ae{constructor(){this.h=this.g=null}add(y,v){const w=ft.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ft=new H(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,Dt=new ae,V=()=>{const c=d.Promise.resolve(void 0);st=()=>{c.then(at)}};var at=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){z(v)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Mt(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(rt){t:{try{et(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mt.aa.h.call(this)}}O(Mt,ot);var At={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ne=0;function Wn(c,y,v,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=F,this.key=++ne,this.da=this.fa=!1}function di(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,v,w,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ut=ha(c,y,w,F);return-1<ut?(y=c[ut],v||(y.fa=!1)):(y=new Wn(y,this.src,W,!!w,F),y.fa=v,c.push(y)),y};function ca(c,y){var v=y.type;if(v in c.g){var w=c.g[v],F=Array.prototype.indexOf.call(w,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(w,F,1),W&&(di(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ha(c,y,v,w){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==w)return F}return-1}var fa="closure_lm_"+(1e6*Math.random()|0),xo={};function Iu(c,y,v,w,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Iu(c,y[W],v,w,F);return null}return v=Du(v),c&&c[Oe]?c.K(y,v,g(w)?!!w.capture:!1,F):Sn(c,y,v,!1,w,F)}function Sn(c,y,v,w,F,W){if(!y)throw Error("Invalid event type");var ut=g(F)?!!F.capture:!!F,zt=hs(c);if(zt||(c[fa]=zt=new Sr(c)),v=zt.add(y,v,w,ut,W),v.proxy)return v;if(w=Ef(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)vt||(F=ut),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(da(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ef(){function c(v){return y.call(c.src,c.listener,v)}const y=Tf;return c}function No(c,y,v,w,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)No(c,y[W],v,w,F);else w=g(w)?!!w.capture:!!w,v=Du(v),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=ha(W,v,w,F),-1<v&&(di(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=hs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ha(y,v,w,F)),(v=-1<c?y[c]:null)&&cs(v))}function cs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])ca(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(da(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=hs(y))?(ca(v,c),v.h==0&&(v.src=null,y[fa]=null)):di(c)}}}function da(c){return c in xo?xo[c]:xo[c]="on"+c}function Tf(c,y){if(c.da)c=!0;else{y=new Mt(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&cs(c),c=v.call(w,y)}return c}function hs(c){return c=c[fa],c instanceof Sr?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function he(){ct.call(this),this.i=new Sr(this),this.M=this,this.F=null}O(he,ct),he.prototype[Oe]=!0,he.prototype.removeEventListener=function(c,y,v,w){No(this,c,y,v,w)};function Qt(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var F=y;y=new ot(w,c),C(y,F)}if(F=!0,v)for(var W=v.length-1;0<=W;W--){var ut=y.g=v[W];F=pn(ut,w,!0,y)&&F}if(ut=y.g=c,F=pn(ut,w,!0,y)&&F,F=pn(ut,w,!1,y)&&F,v)for(W=0;W<v.length;W++)ut=y.g=v[W],F=pn(ut,w,!1,y)&&F}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)di(v[w]);delete c.g[y],c.h--}}this.F=null},he.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},he.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function pn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var ut=y[W];if(ut&&!ut.da&&ut.capture==v){var zt=ut.listener,Re=ut.ha||ut.src;ut.fa&&ca(c.i,ut),F=zt.call(Re,w)!==!1&&F}}return F&&!w.defaultPrevented}function Ye(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function xu(c){c.g=Ye(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class bf extends ct{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){ct.call(this),this.h=c,this.g={}}O(pa,ct);var ma=[];function ga(c){lt(c.g,function(y,v){this.g.hasOwnProperty(v)&&cs(y)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ga(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=d.JSON.stringify,fs=d.JSON.parse,ya=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function Po(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){ot.call(this,"d")}O(Rr,ot);function Vo(){ot.call(this,"c")}O(Vo,ot);var Zn={},Lo=null;function pi(){return Lo=Lo||new he}Zn.La="serverreachability";function ds(c){ot.call(this,Zn.La,c)}O(ds,ot);function mi(c){const y=pi();Qt(y,new ds(y))}Zn.STAT_EVENT="statevent";function Nu(c,y){ot.call(this,Zn.STAT_EVENT,c),this.stat=y}O(Nu,ot);function se(c){const y=pi();Qt(y,new Nu(y,c))}Zn.Ma="timingevent";function Ae(c,y){ot.call(this,Zn.Ma,c),this.size=y}O(Ae,ot);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Uo(c,y,v,w,F,W){c.info(function(){if(c.g)if(W)for(var ut="",zt=W.split("&"),Re=0;Re<zt.length;Re++){var Bt=zt[Re].split("=");if(1<Bt.length){var ke=Bt[0];Bt=Bt[1];var Ce=ke.split("_");ut=2<=Ce.length&&Ce[1]=="type"?ut+(ke+"="+Bt+"&"):ut+(ke+"=redacted&")}}else ut=null;else ut=W;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+v+`
`+ut})}function wf(c,y,v,w,F,W,ut){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+v+`
`+W+" "+ut})}function gi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_a(c,v)+(w?" "+w:"")})}function Ou(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function _a(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ut=1;ut<F.length;ut++)F[ut]=""}}}}return Bn(v)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function tr(){}O(tr,Mo),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},Jn=new tr;function nn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var zo={},ps={};function jn(c,y,v){c.L=1,c.v=wa(mn(y)),c.m=v,c.P=!0,Ir(c,null)}function Ir(c,y){c.F=Date.now(),va(c),c.A=mn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Go(v.i,"t",w),c.C=0,v=c.j.J,c.h=new me,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new bf(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ma[0]=F.toString()),F=ma);for(var W=0;W<F.length;W++){var ut=Iu(v,F[W],w||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mi(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=Dn(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Ce!=4||y==7||(y==8||0>=Vr?mi(3):mi(2)),_i(this);var v=this.g.Z();this.X=v;e:if(Mu(this)){var w=Bu(this.g);c="";var F=w.length,W=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),er(this);var ut="";break e}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(W&&y==F-1)});w.length=0,this.h.g+=c,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=v==200,wf(this.i,this.u,this.A,this.l,this.R,Ce,v),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Re=this.g;if((zt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(zt)){var Bt=zt;break e}}Bt=null}if(v=Bt)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,v);else{this.o=!1,this.s=3,se(12),je(this),er(this);break t}}if(this.P){v=!0;let qe;for(;!this.J&&this.C<ut.length;)if(qe=ku(this,ut),qe==ps){Ce==4&&(this.s=4,se(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==zo){this.s=4,se(15),gi(this.i,this.l,ut,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,qe,null),Ea(this,qe);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||ut.length!=0||this.h.h||(this.s=1,se(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,ut,"[Invalid Chunked Response]"),je(this),er(this);else if(0<ut.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Na(ke),ke.M=!0,se(11))}}else gi(this.i,this.l,ut,null),Ea(this,ut);Ce==4&&je(this),this.o&&!this.J&&(Ce==4?Gu(this.j,this):(this.o=!1,va(this)))}else If(this.g),v==400&&0<ut.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),er(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ku(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?ps:(v=Number(y.substring(v,w)),isNaN(v)?zo:(w+=1,w+v>y.length?ps:(y=y.slice(w,w+v),c.C=w+v,y)))}nn.prototype.cancel=function(){this.J=!0,je(this)};function va(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(S(c.ba,c),y)}function _i(c){c.B&&(d.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(mi(),se(17)),je(this),this.s=2,er(this)):Pu(this,this.S-c)};function er(c){c.j.G==0||c.J||Gu(c.j,c)}function je(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ga(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ea(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Bo(v.h,c))){if(!c.K&&Bo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Rs(v),Ss(v);else break t;Xo(v),se(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=ve(S(v.Za,v),6e3));if(1>=gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Pr(v,11)}else if((c.K||v.g==c)&&Rs(v),!Q(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Bt=F[y];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const ke=Bt[3];ke!=null&&(v.la=ke,v.j.info("VER="+v.la));const Ce=Bt[4];Ce!=null&&(v.Aa=Ce,v.j.info("SVER="+v.Aa));const Vr=Bt[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(w=1.5*Vr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const qe=c.g;if(qe){const lr=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var W=w.h;W.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ys(W,W.h),W.h=null))}if(w.D){const Zo=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(w.ya=Zo,Wt(w.I,w.D,Zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ut=c;if(w.qa=Ku(w,w.J?w.ia:null,w.W),ut.K){rn(w.h,ut);var zt=ut,Re=w.L;Re&&(zt.I=Re),zt.B&&(_i(zt),va(zt)),w.g=ut}else Hu(w);0<v.i.length&&As(v)}else Bt[0]!="stop"&&Bt[0]!="close"||Pr(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Pr(v,7):Qo(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}mi(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function Dr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ys(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Dr.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function Sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function _s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_s(c),w=Sf(c),F=w.length,W=0;W<F;W++)y.call(void 0,w[W],v&&v[W],c)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),F=null;if(0<=w){var W=c[v].substring(0,w);F=c[v].substring(w+1)}else W=c[v];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ee(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ee){this.h=c.h,ba(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,v=new Nr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),xr(this,v),this.m=c.m}else c&&(y=String(c).match(Ta))?(this.h=!1,ba(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),vi(this,y[4]),this.l=Rn(y[5]||"",!0),xr(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Ee.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sa(y,Ho,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sa(y,Ho,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sa(v,v.charAt(0)=="/"?Rf:Fo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sa(v,vs)),c.join("")};function mn(c){return new Ee(c)}function ba(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xr(c,y,v){y instanceof Nr?(c.i=y,Uu(c.i,c.h)):(v||(y=Sa(y,Cf)),c.i=new Nr(y,c.h))}function Wt(c,y,v){c.i.set(y,v)}function wa(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Lu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,Rf=/[#\?]/g,Cf=/[#\?@]/g,vs=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Af(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Nr.prototype,r.add=function(c,y){Cn(this),this.i=null,c=nr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Or(c,y){Cn(c),y=nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mr(c,y){return Cn(c),y=nr(c,y),c.g.has(y)}r.forEach=function(c,y){Cn(this),this.g.forEach(function(v,w){v.forEach(function(F){c.call(y,F,w,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const F=c[w];for(let W=0;W<F.length;W++)v.push(y[w])}return v},r.V=function(c){Cn(this);let y=[];if(typeof c=="string")Mr(this,c)&&(y=y.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Cn(this),this.i=null,c=nr(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,v){Or(c,y),0<v.length&&(c.i=null,c.g.set(nr(c,y),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const W=encodeURIComponent(String(w)),ut=this.V(w);for(w=0;w<ut.length;w++){var F=W;ut[w]!==""&&(F+="="+encodeURIComponent(String(ut[w]))),c.push(F)}}return this.i=c.join("&")};function nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(Or(this,w),Go(this,F,v))},c)),c.j=y}function Aa(c,y){const v=new An;if(d.Image){const w=new Image;w.onload=x(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=x(In,v,"TestLoadImage: error",!1,y,w),w.onabort=x(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=x(In,v,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function qn(c,y){const v=new An,w=new AbortController,F=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(W=>{clearTimeout(F),W.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function Ra(){this.g=new ya}function rr(c,y,v){const w=v||"";try{qo(c,function(F,W){let ut=F;g(F)&&(ut=Bn(F)),y.push(w+W+"="+encodeURIComponent(ut))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Ei,Mo),Ei.prototype.g=function(){return new kr(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function kr(c,y){he.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(kr,he),r=kr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ir(this):ar(this),this.readyState==3&&$o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ir(this))},r.Qa=function(c){this.g&&(this.response=c,ir(this))},r.ga=function(){this.g&&ir(this)};function ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ar(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return lt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Me(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Ko(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Wt(c,y,v))}function $t(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O($t,he);var Es=/^https?$/i,Ca=["POST","PUT"];r=$t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?ko(this.o):ko(Jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){zu(this,W);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())v.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ca,y,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ut]of v)this.g.setRequestHeader(W,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){zu(this,W)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ts(c),sr(c)}function Ts(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),$t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bs(this):this.bb())},r.bb=function(){bs(this)};function bs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ye(c.Ea,0,c);else if(Qt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ut=c.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ut===0){var F=String(c.D).match(Ta)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!Es.test(F?F.toLowerCase():"")}v=w}if(v)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var W=2<Dn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Ts(c)}}finally{sr(c)}}}}function sr(c,y){if(c.g){Ia(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qt(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ia(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fs(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Q(c[w]))continue;var v=M(c[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[F]||[];y[F]=W,W.push(v)}I(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ws(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,c),this.cb=Da("retryDelaySeedMs",1e4,c),this.Wa=Da("forwardChannelMaxRetries",2,c),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(c&&c.concurrentRequestLimit),this.Da=new Ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ws.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){se(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ku(this,null,this.W),As(this)};function Qo(c){if(ju(c),c.G==3){var y=c.U++,v=mn(c.I);if(Wt(v,"SID",c.K),Wt(v,"RID",y),Wt(v,"TYPE","terminate"),xa(c,v),y=new nn(c,c.j,y),y.L=2,y.v=wa(mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),va(y)}$u(c)}function Ss(c){c.g&&(Na(c),c.g.cancel(),c.g=null)}function ju(c){Ss(c),c.u&&(d.clearTimeout(c.u),c.u=null),Rs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function As(c){if(!ms(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||V(),dt||(st(),dt=!0),Dt.add(y,c),c.B=0}}function Df(c,y){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(S(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new nn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=qu(this,F,y),v=mn(this.I),Wt(v,"RID",c),Wt(v,"CVER",22),this.D&&Wt(v,"X-HTTP-Session-Id",this.D),xa(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Ko(W)))+"&"+y:this.m&&Me(v,this.m,W)),ys(this.h,F),this.Ua&&Wt(v,"TYPE","init"),this.P?(Wt(v,"$req",y),Wt(v,"SID","null"),F.T=!0,jn(F,v,null)):jn(F,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||ms(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const w=mn(c.I);Wt(w,"SID",c.K),Wt(w,"RID",v),Wt(w,"AID",c.T),xa(c,w),c.m&&c.o&&Me(w,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ys(c.h,v),jn(v,w,y)}function xa(c,y){c.H&&lt(c.H,function(v,w){Wt(y,w,v)}),c.l&&qo({},function(v,w){Wt(y,w,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;t:{var F=c.i;let W=-1;for(;;){const ut=["count="+v];W==-1?0<v?(W=F[0].g,ut.push("ofs="+W)):W=0:ut.push("ofs="+W);let zt=!0;for(let Re=0;Re<v;Re++){let Bt=F[Re].g;const ke=F[Re].map;if(Bt-=W,0>Bt)W=Math.max(0,F[Re].g-100),zt=!1;else try{rr(ke,ut,"req"+Bt+"_")}catch{w&&w(ke)}}if(zt){w=ut.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||V(),dt||(st(),dt=!0),Dt.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(S(c.Fa,c),Wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Ss(this),Fu(this))};function Na(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Wt(y,"RID","rpc"),Wt(y,"SID",c.K),Wt(y,"AID",c.T),Wt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(y,"TO",c.ja),Wt(y,"TYPE","xmlhttp"),xa(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=wa(mn(y)),v.m=null,v.P=!0,Ir(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ss(this),Xo(this),se(19))};function Rs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Rs(c),Na(c),c.g=null;var w=2}else if(Bo(c.h,y))v=y.D,rn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;w=pi(),Qt(w,new Ae(w,v)),As(c)}else Hu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&Df(c,y)||w==2&&Xo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function Wo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const F=!w;w=new Ee(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ba(w,"https"),wa(w),F?Aa(w.toString(),v):qn(w.toString(),v)}else se(2);c.G=0,c.l&&c.l.sa(y),$u(c),ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var w=v instanceof Ee?mn(v):new Ee(v);if(w.g!="")y&&(w.g=y+"."+w.g),vi(w,w.s);else{var F=d.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Ee(null);w&&ba(W,w),y&&(W.g=y),F&&vi(W,F),v&&(W.l=v),w=W}return v=c.D,y=c.ya,v&&y&&Wt(w,v,y),Wt(w,"VER",c.la),xa(c,w),w}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $t(new Ei({eb:v})):new $t(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Cs(){}Cs.prototype.g=function(c,y){return new an(c,y)};function an(c,y){he.call(this),this.g=new ws(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new or(this)}O(an,he),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Qo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Bn(c),c=v);y.i.push(new Vu(y.Ya++,c)),y.G==3&&As(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,an.aa.N.call(this)};function Xu(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Xu,Rr);function Wu(){Vo.call(this),this.status=1}O(Wu,Vo);function or(c){this.g=c}O(or,Yu),or.prototype.ua=function(){Qt(this.g,"a")},or.prototype.ta=function(c){Qt(this.g,new Xu(c))},or.prototype.sa=function(c){Qt(this.g,new Wu)},or.prototype.ra=function(){Qt(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,pb=function(){return new Cs},db=function(){return pi()},fb=Zn,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,ph=yi,Cr.COMPLETE="complete",hb=Cr,Po.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",he.prototype.listen=he.prototype.K,Gl=Po,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,cb=$t}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",U0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Om("@firebase/firestore");function no(){return es.logLevel}function pt(r,...t){if(es.logLevel<=Lt.DEBUG){const e=t.map(Fm);es.debug(`Firestore (${Ro}): ${r}`,...e)}}function oi(r,...t){if(es.logLevel<=Lt.ERROR){const e=t.map(Fm);es.error(`Firestore (${Ro}): ${r}`,...e)}}function po(r,...t){if(es.logLevel<=Lt.WARN){const e=t.map(Fm);es.warn(`Firestore (${Ro}): ${r}`,...e)}}function Fm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r="Unexpected state"){const t=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+r;throw oi(t),new Error(t)}function Kt(r,t){r||St()}function It(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ci{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Je.UNAUTHENTICATED))}shutdown(){}}class pD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,e(m)):Promise.resolve();let u=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ni,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ni)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string"),new mb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new Je(t)}}class gD{constructor(t,e,a){this.l=t,this.h=e,this.P=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yD{constructor(t,e,a){this.l=t,this.h=e,this.P=a}getToken(){return Promise.resolve(new gD(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0);const a=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string"),this.R=e.token,new z0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<r;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function im(r,t){let e=0;for(;e<r.length&&e<t.length;){const a=r.codePointAt(e),o=t.codePointAt(e);if(a!==o){if(a<128&&o<128)return Ot(a,o);{const u=gb(),h=ED(u.encode(B0(r,e)),u.encode(B0(t,e)));return h!==0?h:Ot(a,o)}}e+=a>65535?2:1}return Ot(r.length,t.length)}function B0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function ED(r,t){for(let e=0;e<r.length&&e<t.length;++e)if(r[e]!==t[e])return Ot(r[e],t[e]);return Ot(r.length,t.length)}function mo(r,t,e){return r.length===t.length&&r.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,q0=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(t){return xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*q0);return new xe(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<j0)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-j0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new xe(0,0))}static max(){return new Ct(new xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class mr{constructor(t,e,a){e===void 0?e=0:e>t.length&&St(),a===void 0?a=t.length-e:a>t.length-e&&St(),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return mr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mr?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=mr.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Ot(t.length,e.length)}static compareSegments(t,e){const a=mr.isNumericId(t),o=mr.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?mr.extractNumericId(t).compare(mr.extractNumericId(e)):im(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zi.fromString(t.substring(4,t.length-2))}}class ie extends mr{construct(t,e,a){return new ie(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends mr{construct(t,e,a){return new Ke(t,e,a)}static isValidIdentifier(t){return TD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Ke([H0])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(e)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ie.fromString(t))}static fromName(t){return new _t(ie.fromString(t).popFirst(5))}static empty(){return new _t(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function bD(r,t){const e=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(a===1e9?new xe(e+1,0):new xe(e,a));return new ta(o,_t.empty(),t)}function wD(r){return new ta(r.readTime,r.key,nu)}class ta{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new ta(Ct.min(),_t.empty(),nu)}static max(){return new ta(Ct.max(),_t.empty(),nu)}}function SD(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(r.documentKey,t.documentKey),e!==0?e:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==AD)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,a)=>{e(t)})}static reject(t){return new it((e,a)=>{a(t)})}static waitFor(t){return new it((e,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&e()},m=>a(m))}),h=!0,u===o&&e()})}static or(t){let e=it.resolve(!1);for(const a of t)e=e.next(o=>o?it.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new it((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(_=>{h[g]=_,++d,d===u&&a(h)},_=>o(_))}})}static doWhile(t,e){return new it((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function CD(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.oe(a),this._e=a=>e.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Yh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function Xh(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function ID(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="";function DD(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=F0(t)),t=xD(r.get(e),t);return F0(t)}function xD(r,t){let e=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":e+="";break;case _b:e+="";break;default:e+=u}}return e}function F0(r){return r+_b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function la(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function vb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}}class eh{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new $e(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(t,e,a,o,u){return this}insert(t,e,a){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(t){return new $0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class $0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let e=new Ne(Ke.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new wn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Eb("Invalid base64 string: "+u):u}}(t);return new Qe(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const ND=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(r){if(Kt(!!r),typeof r=="string"){let t=0;const e=ND.exec(r);if(Kt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="server_timestamp",bb="__type__",wb="__previous_value__",Sb="__local_write_time__";function Wh(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[bb])===null||e===void 0?void 0:e.stringValue)===Tb}function Zh(r){const t=r.mapValue.fields[wb];return Wh(t)?Zh(t):t}function ru(r){const t=ea(r.mapValue.fields[Sb].timestampValue);return new xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,e,a,o,u,h,d,m,g){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const xh="(default)";class iu{constructor(t,e){this.projectId=t,this.database=e||xh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__type__",MD="__max__",nh={mapValue:{}},Rb="__vector__",Nh="value";function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wh(r)?4:PD(r)?9007199254740991:kD(r)?10:11:St()}function br(r,t){if(r===t)return!0;const e=ra(r);if(e!==ra(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ru(r).isEqual(ru(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ea(o.timestampValue),d=ea(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_e(o.doubleValue),d=_e(u.doubleValue);return h===d?Dh(h)===Dh(d):isNaN(h)&&isNaN(d)}return!1}(r,t);case 9:return mo(r.arrayValue.values||[],t.arrayValue.values||[],br);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(G0(h)!==G0(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!br(h[m],d[m])))return!1;return!0}(r,t);default:return St()}}function au(r,t){return(r.values||[]).find(e=>br(e,t))!==void 0}function go(r,t){if(r===t)return 0;const e=ra(r),a=ra(t);if(e!==a)return Ot(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return function(u,h){const d=_e(u.integerValue||u.doubleValue),m=_e(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,t);case 3:return K0(r.timestampValue,t.timestampValue);case 4:return K0(ru(r),ru(t));case 5:return im(r.stringValue,t.stringValue);case 6:return function(u,h){const d=na(u),m=na(h);return d.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ot(d[g],m[g]);if(_!==0)return _}return Ot(d.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Ot(_e(u.latitude),_e(h.latitude));return d!==0?d:Ot(_e(u.longitude),_e(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Q0(r.arrayValue,t.arrayValue);case 10:return function(u,h){var d,m,g,_;const b=u.fields||{},S=h.fields||{},x=(d=b[Nh])===null||d===void 0?void 0:d.arrayValue,O=(m=S[Nh])===null||m===void 0?void 0:m.arrayValue,q=Ot(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return q!==0?q:Q0(x,O)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let b=0;b<m.length&&b<_.length;++b){const S=im(m[b],_[b]);if(S!==0)return S;const x=go(d[m[b]],g[_[b]]);if(x!==0)return x}return Ot(m.length,_.length)}(r.mapValue,t.mapValue);default:throw St()}}function K0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const e=ea(r),a=ea(t),o=Ot(e.seconds,a.seconds);return o!==0?o:Ot(e.nanos,a.nanos)}function Q0(r,t){const e=r.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=go(e[o],a[o]);if(u)return u}return Ot(e.length,a.length)}function yo(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const a=ea(e);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return na(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return _t.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=am(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${am(e.fields[h])}`;return o+"}"}(r.mapValue):St()}function mh(r){switch(ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zh(r);return t?16+mh(t):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+mh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return la(a.fields,(u,h)=>{o+=u.length+mh(h)}),o}(r.mapValue);default:throw St()}}function Oh(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function sm(r){return!!r&&"integerValue"in r}function $m(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function X0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function kD(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ab])===null||e===void 0?void 0:e.stringValue)===Rb}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return la(r.mapValue.fields,(e,a)=>t.mapValue.fields[e]=Xl(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Xl(r.arrayValue.values[e]);return t}return Object.assign({},r)}function PD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(e)}setAll(t){let e=Ke.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,a,o),a={},o=[],e=d.popLast()}h?a[d.lastSegment()]=Xl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return br(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){la(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new dn(Xl(this.value))}}function Cb(r){const t=[];return la(r.fields,(e,a)=>{const o=new Ke([e]);if(gh(a)){const u=Cb(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e,a,o,u,h,d){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new tn(t,0,Ct.min(),Ct.min(),Ct.min(),dn.empty(),0)}static newFoundDocument(t,e,a,o){return new tn(t,1,e,Ct.min(),a,o,0)}static newNoDocument(t,e){return new tn(t,2,e,Ct.min(),Ct.min(),dn.empty(),0)}static newUnknownDocument(t,e){return new tn(t,3,e,Ct.min(),Ct.min(),dn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,e){this.position=t,this.inclusive=e}}function W0(r,t,e){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],h=r.position[o];if(u.field.isKeyField()?a=_t.comparator(_t.fromName(h.referenceValue),e.key):a=go(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Z0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!br(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e="asc"){this.field=t,this.dir=e}}function VD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{}class Se extends Ib{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new UD(t,e,a):e==="array-contains"?new jD(t,a):e==="in"?new qD(t,a):e==="not-in"?new HD(t,a):e==="array-contains-any"?new FD(t,a):new Se(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new zD(t,a):new BD(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(go(e,this.value)):e!==null&&ra(this.value)===ra(e)&&this.matchesComparison(go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Ib{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Kn(t,e)}matches(t){return Db(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Db(r){return r.op==="and"}function xb(r){return LD(r)&&Db(r)}function LD(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function om(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(xb(r))return r.filters.map(t=>om(t)).join(",");{const t=r.filters.map(e=>om(e)).join(",");return`${r.op}(${t})`}}function Nb(r,t){return r instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&br(a.value,o.value)}(r,t):r instanceof Kn?function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&Nb(h,o.filters[d]),!0):!1}(r,t):void St()}function Ob(r){return r instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${yo(e.value)}`}(r):r instanceof Kn?function(e){return e.op.toString()+" {"+e.getFilters().map(Ob).join(" ,")+"}"}(r):"Filter"}class UD extends Se{constructor(t,e,a){super(t,e,a),this.key=_t.fromName(a.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class zD extends Se{constructor(t,e){super(t,"in",e),this.keys=Mb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class BD extends Se{constructor(t,e){super(t,"not-in",e),this.keys=Mb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Mb(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(a=>_t.fromName(a.referenceValue))}class jD extends Se{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $m(e)&&au(e.arrayValue,this.value)}}class qD extends Se{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&au(this.value.arrayValue,e)}}class HD extends Se{constructor(t,e){super(t,"not-in",e)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!au(this.value.arrayValue,e)}}class FD extends Se{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$m(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>au(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function J0(r,t=null,e=[],a=[],o=null,u=null,h=null){return new GD(r,t,e,a,o,u,h)}function Km(r){const t=It(r);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>om(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Xh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>yo(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>yo(a)).join(",")),t.le=e}return t.le}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!VD(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!Nb(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Z0(r.startAt,t.startAt)&&Z0(r.endAt,t.endAt)}function lm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,e=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $D(r,t,e,a,o,u,h,d){return new ss(r,t,e,a,o,u,h,d)}function Ym(r){return new ss(r)}function tE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xm(r){return r.collectionGroup!==null}function co(r){const t=It(r);if(t.he===null){t.he=[];const e=new Set;for(const u of t.explicitOrderBy)t.he.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ne(Ke.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.he.push(new su(u,a))}),e.has(Ke.keyField().canonicalString())||t.he.push(new su(Ke.keyField(),a))}return t.he}function vr(r){const t=It(r);return t.Pe||(t.Pe=KD(t,co(r))),t.Pe}function KD(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)});const e=r.endAt?new _o(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new _o(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,e,a)}}function um(r,t){const e=r.filters.concat([t]);return new ss(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function Mh(r,t,e){return new ss(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Jh(r,t){return Qm(vr(r),vr(t))&&r.limitType===t.limitType}function kb(r){return`${Km(vr(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>Ob(o)).join(", ")}]`),Xh(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>yo(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>yo(o)).join(",")),`Target(${a})`}(vr(r))}; limitType=${r.limitType})`}function tf(r,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_t.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,t)&&function(a,o){for(const u of co(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=W0(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,co(a),o)||a.endAt&&!function(h,d,m){const g=W0(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,co(a),o))}(r,t)}function QD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pb(r){return(t,e)=>{let a=!1;for(const o of co(r)){const u=YD(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function YD(r,t,e){const a=r.field.isKeyField()?_t.comparator(t.key,e.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?go(m,g):St()}(r.field,t,e);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new ce(_t.comparator);function li(){return XD}const Vb=new ce(_t.comparator);function $l(...r){let t=Vb;for(const e of r)t=t.insert(e.key,e);return t}function Lb(r){let t=Vb;return r.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Qa(){return Wl()}function Ub(){return Wl()}function Wl(){return new os(r=>r.toString(),(r,t)=>r.isEqual(t))}const WD=new ce(_t.comparator),ZD=new Ne(_t.comparator);function Ut(...r){let t=ZD;for(const e of r)t=t.add(e);return t}const JD=new Ne(Ot);function tx(){return JD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(t)?"-0":t}}function zb(r){return{integerValue:""+r}}function ex(r,t){return ID(t)?zb(t):Wm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function nx(r,t,e){return r instanceof ou?function(o,u){const h={fields:{[bb]:{stringValue:Tb},[Sb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wh(u)&&(u=Zh(u)),u&&(h.fields[wb]=u),{mapValue:h}}(e,t):r instanceof lu?jb(r,t):r instanceof uu?qb(r,t):function(o,u){const h=Bb(o,u),d=eE(h)+eE(o.Ie);return sm(h)&&sm(o.Ie)?zb(d):Wm(o.serializer,d)}(r,t)}function rx(r,t,e){return r instanceof lu?jb(r,t):r instanceof uu?qb(r,t):e}function Bb(r,t){return r instanceof kh?function(a){return sm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class ou extends ef{}class lu extends ef{constructor(t){super(),this.elements=t}}function jb(r,t){const e=Hb(t);for(const a of r.elements)e.some(o=>br(o,a))||e.push(a);return{arrayValue:{values:e}}}class uu extends ef{constructor(t){super(),this.elements=t}}function qb(r,t){let e=Hb(t);for(const a of r.elements)e=e.filter(o=>!br(o,a));return{arrayValue:{values:e}}}class kh extends ef{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function eE(r){return _e(r.integerValue||r.doubleValue)}function Hb(r){return $m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,e){this.field=t,this.transform=e}}function ax(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof lu&&o instanceof lu||a instanceof uu&&o instanceof uu?mo(a.elements,o.elements,br):a instanceof kh&&o instanceof kh?br(a.Ie,o.Ie):a instanceof ou&&o instanceof ou}(r.transform,t.transform)}class sx{constructor(t,e){this.version=t,this.transformResults=e}}class Un{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nf{}function Fb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Zm(r.key,Un.none()):new Eu(r.key,r.data,Un.none());{const e=r.data,a=dn.empty();let o=new Ne(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ua(r.key,a,new wn(o.toArray()),Un.none())}}function ox(r,t,e){r instanceof Eu?function(o,u,h){const d=o.value.clone(),m=rE(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,t,e):r instanceof ua?function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=rE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(Gb(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function Zl(r,t,e,a){return r instanceof Eu?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=u.value.clone(),_=iE(u.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,t,e,a):r instanceof ua?function(u,h,d,m){if(!yh(u.precondition,h))return d;const g=iE(u.fieldTransforms,m,h),_=h.data;return _.setAll(Gb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,e,a):function(u,h,d){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,t,e)}function lx(r,t){let e=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=Bb(a.transform,o||null);u!=null&&(e===null&&(e=dn.empty()),e.set(a.field,u))}return e||null}function nE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&mo(a,o,(u,h)=>ax(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Eu extends nf{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends nf{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Gb(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=r.data.field(e);t.set(e,a)}}),t}function rE(r,t,e){const a=new Map;Kt(r.length===e.length);for(let o=0;o<e.length;o++){const u=r[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,rx(h,d,e[o]))}return a}function iE(r,t,e){const a=new Map;for(const o of r){const u=o.transform,h=e.data.field(o.field);a.set(o.field,nx(u,h,t))}return a}class Zm extends nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ux extends nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ox(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=Zl(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=Zl(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=Ub();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=e.has(o.key)?null:d;const m=Fb(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ct.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ut())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(e,a)=>nE(e,a))&&mo(this.baseMutations,t.baseMutations,(e,a)=>nE(e,a))}}class Jm{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){Kt(t.mutations.length===a.length);let o=function(){return WD}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Jm(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,qt;function dx(r){switch(r){case J.OK:return St();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St()}}function $b(r){if(r===void 0)return oi("GRPC error has no .code"),J.UNKNOWN;switch(r){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return St()}}(qt=we||(we={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Zi([4294967295,4294967295],0);function aE(r){const t=gb().encode(r),e=new ub;return e.update(t),new Uint8Array(e.digest())}function sE(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zi([e,a],0),new Zi([o,u],0)]}class tg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Kl(`Invalid padding: ${e}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Zi.fromNumber(this.Ee)}Ae(t,e,a){let o=t.add(e.multiply(Zi.fromNumber(a)));return o.compare(px)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=aE(t),[a,o]=sE(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new tg(u,o,e);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.Ee===0)return;const e=aE(t),[a,o]=sE(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new rf(Ct.min(),o,new ce(Ot),li(),Ut())}}class Tu{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Tu(a,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e,a,o){this.me=t,this.removedTargetIds=e,this.key=a,this.fe=o}}class Kb{constructor(t,e){this.targetId=t,this.ge=e}}class Qb{constructor(t,e,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class oE{constructor(){this.pe=0,this.ye=lE(),this.we=Qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ut(),e=Ut(),a=Ut();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:St()}}),new Tu(this.we,this.Se,t,e,a)}Me(){this.be=!1,this.ye=lE()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mx{constructor(t){this.ke=t,this.qe=new Map,this.Qe=li(),this.$e=rh(),this.Ue=rh(),this.Ke=new ce(Ot)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const a=this.He(e);switch(t.state){case 0:this.Je(e)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(e);break;case 3:this.Je(e)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),a.Ce(t.resumeToken));break;default:St()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((a,o)=>{this.Je(o)&&e(o)})}Ze(t){const e=t.targetId,a=t.ge.count,o=this.Xe(e);if(o){const u=o.target;if(lm(u))if(a===0){const h=new _t(u.path);this.ze(e,h,tn.newNoDocument(h,Ct.min()))}else Kt(a===1);else{const h=this.et(e);if(h!==a){const d=this.tt(t),m=d?this.nt(d,t,h):1;if(m!==0){this.Ye(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,g)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,d;try{h=na(a).toUint8Array()}catch(m){if(m instanceof Eb)return po("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new tg(h,o,u)}catch(m){return po(m instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,e,a){return e.ge.count===a-this.st(t,e.targetId)?0:2}st(t,e){const a=this.ke.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(e,u,null),o++)}),o}ot(t){const e=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&lm(d.target)){const m=new _t(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,tn.newNoDocument(m,t))}u.ve&&(e.set(h,u.Fe()),u.Me())}});let a=Ut();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new rf(t,e,this.Ke,this.Qe,a);return this.Qe=li(),this.$e=rh(),this.Ue=rh(),this.Ke=new ce(Ot),o}Ge(t,e){if(!this.Je(t))return;const a=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,a),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,e)?o.xe(e,1):o.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),a&&(this.Qe=this.Qe.insert(e,a))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new oE,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Ne(Ot),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Ne(Ot),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new oE),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function rh(){return new ce(_t.comparator)}function lE(){return new ce(_t.comparator)}const gx={asc:"ASCENDING",desc:"DESCENDING"},yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class vx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cm(r,t){return r.useProto3Json||Xh(t)?t:{value:t}}function Ph(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ex(r,t){return Ph(r,t.toTimestamp())}function Er(r){return Kt(!!r),Ct.fromTimestamp(function(e){const a=ea(e);return new xe(a.seconds,a.nanos)}(r))}function eg(r,t){return hm(r,t).canonicalString()}function hm(r,t){const e=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?e:e.child(t)}function Xb(r){const t=ie.fromString(r);return Kt(ew(t)),t}function fm(r,t){return eg(r.databaseId,t.path)}function Pp(r,t){const e=Xb(t);if(e.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new _t(Zb(e))}function Wb(r,t){return eg(r.databaseId,t)}function Tx(r){const t=Xb(r);return t.length===4?ie.emptyPath():Zb(t)}function dm(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zb(r){return Kt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function uE(r,t,e){return{name:fm(r,t),fields:e.value.mapValue.fields}}function bx(r,t){let e;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string"),Qe.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Qe.fromUint8Array(_||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const _=g.code===void 0?J.UNKNOWN:$b(g.code);return new ht(_,g.message||"")}(h);e=new Qb(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pp(r,a.document.name),u=Er(a.document.updateTime),h=a.document.createTime?Er(a.document.createTime):Ct.min(),d=new dn({mapValue:{fields:a.document.fields}}),m=tn.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];e=new _h(g,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pp(r,a.document),u=a.readTime?Er(a.readTime):Ct.min(),h=tn.newNoDocument(o,u),d=a.removedTargetIds||[];e=new _h([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pp(r,a.document),u=a.removedTargetIds||[];e=new _h([],u,o,null)}else{if(!("filter"in t))return St();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new fx(o,u),d=a.targetId;e=new Kb(d,h)}}return e}function wx(r,t){let e;if(t instanceof Eu)e={update:uE(r,t.key,t.value)};else if(t instanceof Zm)e={delete:fm(r,t.key)};else if(t instanceof ua)e={update:uE(r,t.key,t.data),updateMask:Ox(t.fieldMask)};else{if(!(t instanceof ux))return St();e={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof ou)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw St()}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Ex(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St()}(r,t.precondition)),e}function Sx(r,t){return r&&r.length>0?(Kt(t!==void 0),r.map(e=>function(o,u){let h=o.updateTime?Er(o.updateTime):Er(u);return h.isEqual(Ct.min())&&(h=Er(u)),new sx(h,o.transformResults||[])}(e,t))):[]}function Ax(r,t){return{documents:[Wb(r,t.path)]}}function Rx(r,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=Wb(r,o);const u=function(g){if(g.length!==0)return tw(Kn.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:io(S.field),direction:Dx(S.dir)}}(_))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=cm(r,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:e,parent:o}}function Cx(r){let t=Tx(r.parent);const e=r.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){Kt(a===1);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=function(b){const S=Jb(b);return S instanceof Kn&&xb(S)?S.getFilters():[S]}(e.where));let h=[];e.orderBy&&(h=function(b){return b.map(S=>function(O){return new su(ao(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,Xh(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(b){const S=!!b.before,x=b.values||[];return new _o(x,S)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const S=!b.before,x=b.values||[];return new _o(x,S)}(e.endAt)),$D(t,o,h,u,d,"F",m,g)}function Ix(r,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Jb(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=ao(e.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(e.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(e.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(e.unaryFilter.field);return Se.create(h,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(r):r.fieldFilter!==void 0?function(e){return Se.create(ao(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Kn.create(e.compositeFilter.filters.map(a=>Jb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St()}}(e.compositeFilter.op))}(r):St()}function Dx(r){return gx[r]}function xx(r){return yx[r]}function Nx(r){return _x[r]}function io(r){return{fieldPath:r.canonicalString()}}function ao(r){return Ke.fromServerFormat(r.fieldPath)}function tw(r){return r instanceof Se?function(e){if(e.op==="=="){if(X0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NAN"}};if(Y0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(X0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NOT_NAN"}};if(Y0(e.value))return{unaryFilter:{field:io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(e.field),op:xx(e.op),value:e.value}}}(r):r instanceof Kn?function(e){const a=e.getFilters().map(o=>tw(o));return a.length===1?a[0]:{compositeFilter:{op:Nx(e.op),filters:a}}}(r):St()}function Ox(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ew(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,e,a,o,u=Ct.min(),h=Ct.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t){this.Tt=t}}function kx(r){const t=Cx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Tn=new Vx}addToCollectionParentIndex(t,e){return this.Tn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(ta.min())}updateCollectionGroup(t,e,a){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class Vx{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new Ne(ie.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ne(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nw=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(nw,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",Lx=1048576;function fE([r,t],[e,a]){const o=Ot(r,e);return o===0?Ot(t,a):o}class Ux{constructor(t){this.Hn=t,this.buffer=new Ne(fE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();fE(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zx{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){pt(hE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Io(e)?pt(hE,"Ignoring IndexedDB error during garbage collection: ",e):await Co(e)}await this.er(3e5)})}}class Bx{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return it.resolve(Yh.ae);const a=new Ux(e);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.tr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(cE)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let a,o,u,h,d,m,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(t,a,e))).next(b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(g=Date.now(),no()<=Lt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function jx(r,t){return new Bx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.changes=new os(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?it.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&Zl(a.mutation,o,wn.empty(),xe.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Ut()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Ut()){const o=Qa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=$l();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Qa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Ut()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,a,o){let u=li();const h=Wl(),d=function(){return Wl()}();return e.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ua)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Zl(_.mutation,g,_.mutation.getFieldMask(),xe.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,_)=>h.set(g,_)),e.forEach((g,_)=>{var b;return d.set(g,new Hx(_,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(t,e){const a=Wl();let o=new ce((h,d)=>h-d),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let _=a.get(m)||wn.empty();_=d.applyToLocalView(g,_),a.set(m,_);const b=(o.get(d.batchId)||Ut()).add(m);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,b=Ub();_.forEach(S=>{if(!u.has(S)){const x=Fb(e.get(S),a.get(S));x!==null&&b.set(S,x),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,b))}return it.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return _t.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Xm(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):it.resolve(Qa());let d=nu,m=u;return h.next(g=>it.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(_)?it.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{m=m.insert(_,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Ut())).next(_=>({batchId:d,changes:Lb(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(t,u).next(d=>it.forEach(d,m=>{const g=function(b,S){return new ss(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(_=>{_.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,tn.newInvalidDocument(_)))});let d=$l();return h.forEach((m,g)=>{const _=u.get(m);_!==void 0&&Zl(_.mutation,g,wn.empty(),xe.now()),tf(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return it.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Er(o.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(o){return{name:o.name,query:kx(o.bundledQuery),readTime:Er(o.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.overlays=new ce(_t.comparator),this.Rr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Qa();return it.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.Et(t,e,u)}),it.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),it.resolve()}getOverlaysForCollection(t,e,a){const o=Qa(),u=e.length+1,h=new _t(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new ce((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Qa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Qa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return it.resolve(d)}Et(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new hx(e,a));let u=this.Rr.get(e);u===void 0&&(u=Ut(),this.Rr.set(e,u)),this.Rr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Vr=new Ne(Be.mr),this.gr=new Ne(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const a=new Be(t,e);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.wr(new Be(t,e))}Sr(t,e){t.forEach(a=>this.removeReference(a,e))}br(t){const e=new _t(new ie([])),a=new Be(e,t),o=new Be(e,t+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new _t(new ie([])),a=new Be(e,t),o=new Be(e,t+1);let u=Ut();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new Be(t,0),a=this.Vr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return _t.comparator(t.key,e.key)||Ot(t.Cr,e.Cr)}static pr(t,e){return Ot(t.Cr,e.Cr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Ne(Be.mr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cx(u,e,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Be(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,e){return it.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.Nr(a),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Gm:this.Fr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Be(e,0),o=new Be(e,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);u.push(d)}),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new Ne(Ot);return e.forEach(o=>{const u=new Be(o,0),h=new Be(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{a=a.add(d.Cr)})}),it.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;_t.isDocumentKey(u)||(u=u.child(""));const h=new Be(new _t(u),0);let d=new Ne(Ot);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),it.resolve(this.Br(d))}Br(t){const e=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Kt(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return it.forEach(e.mutations,o=>{const u=new Be(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,e){const a=new Be(e,0),o=this.Mr.firstAfterOrEqual(a);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t){this.kr=t,this.docs=function(){return new ce(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return it.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(e))}getEntries(t,e){let a=li();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),it.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=li();const h=e.path,d=new _t(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||SD(wD(_),a)<=0||(o.has(_.key)||tf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,e,a,o){St()}qr(t,e){return it.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new Xx(this)}getSize(t){return it.resolve(this.size)}}class Xx extends qx{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),it.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this.persistence=t,this.Qr=new os(e=>Km(e),Qm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ng,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(t,e){return this.Qr.forEach((a,o)=>e(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.$r&&(this.$r=e),it.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new vo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.zn(e),it.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=e&&a.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),it.waitFor(u).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const a=this.Qr.get(e)||null;return it.resolve(a)}addMatchingKeys(t,e,a){return this.Ur.yr(e,a),it.resolve()}removeMatchingKeys(t,e,a){this.Ur.Sr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),it.resolve()}getMatchingKeysForTargetId(t,e){const a=this.Ur.vr(e);return it.resolve(a)}containsKey(t,e){return it.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Yh(0),this.zr=!1,this.zr=!0,this.jr=new Kx,this.referenceDelegate=t(this),this.Hr=new Wx(this),this.indexManager=new Px,this.remoteDocumentCache=function(o){return new Yx(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Mx(e),this.Yr=new Gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $x,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.Wr[t.toKey()];return a||(a=new Qx(e,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,a){pt("MemoryPersistence","Starting transaction:",t);const o=new Zx(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,e){return it.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,e)))}}class Zx extends RD{constructor(t){super(),this.currentSequenceNumber=t}}class rg{constructor(t){this.persistence=t,this.ti=new ng,this.ni=null}static ri(t){return new rg(t)}get ii(){if(this.ni)return this.ni;throw St()}addReference(t,e,a){return this.ti.addReference(a,e),this.ii.delete(a.toString()),it.resolve()}removeReference(t,e,a){return this.ti.removeReference(a,e),this.ii.add(a.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),it.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(t,o).next(u=>{u||e.removeEntry(o,Ct.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(a=>{a?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return it.or([()=>it.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Vh{constructor(t,e){this.persistence=t,this.oi=new os(a=>DD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=jx(this,e)}static ri(t,e){return new Vh(t,e)}Zr(){}Xr(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}sr(t){let e=0;return this.rr(t,a=>{e++}).next(()=>e)}rr(t,e){return it.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?it.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,e).next(d=>{d||(a++,u.removeEntry(h,Ct.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),it.resolve()}removeReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),it.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mh(t.data.value)),e}ar(t,e,a){return it.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.oi.get(e);return it.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Hi=a,this.Ji=o}static Yi(t,e){let a=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SR()?8:CD(en())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.rs(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Jx;return this._s(t,e,h).next(d=>{if(u.result=d,this.Xi)return this.us(t,e,h,d.size)})}).next(()=>u.result)}us(t,e,a,o){return a.documentReadCount<this.es?(no()<=Lt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),it.resolve()):(no()<=Lt.DEBUG&&pt("QueryEngine","Query:",ro(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(no()<=Lt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vr(e))):it.resolve())}rs(t,e){if(tE(e))return it.resolve(null);let a=vr(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Mh(e,null,"F"),a=vr(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Ut(...u);return this.ns.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.cs(e,d);return this.ls(e,g,h,m.readTime)?this.rs(t,Mh(e,null,"F")):this.hs(t,g,e,m)}))})))}ss(t,e,a,o){return tE(e)||o.isEqual(Ct.min())?it.resolve(null):this.ns.getDocuments(t,a).next(u=>{const h=this.cs(e,u);return this.ls(e,h,a,o)?it.resolve(null):(no()<=Lt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(e)),this.hs(t,h,e,bD(o,nu)).next(d=>d))})}cs(t,e){let a=new Ne(Pb(t));return e.forEach((o,u)=>{tf(t,u)&&(a=a.add(u))}),a}ls(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,e,a){return no()<=Lt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",ro(e)),this.ns.getDocumentsMatchingQuery(t,e,ta.min(),a)}hs(t,e,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",eN=3e8;class nN{constructor(t,e,a,o){this.persistence=t,this.Ps=e,this.serializer=o,this.Ts=new ce(Ot),this.Is=new os(u=>Km(u),Qm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function rN(r,t,e,a){return new nN(r,t,e,a)}async function iw(r,t){const e=It(r);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.As(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Ut();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function iN(r,t){const e=It(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const b=g.batch,S=b.keys();let x=it.resolve();return S.forEach(O=>{x=x.next(()=>_.getEntry(m,O)).next(q=>{const k=g.docVersions.get(O);Kt(k!==null),q.version.compareTo(k)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),_.addEntry(q)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function aw(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function aN(r,t){const e=It(r),a=t.snapshotVersion;let o=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.ds.newChangeBuffer({trackRemovals:!0});o=e.Ts;const d=[];t.targetChanges.forEach((_,b)=>{const S=o.get(b);if(!S)return;d.push(e.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>e.Hr.addMatchingKeys(u,_.addedDocuments,b)));let x=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(Qe.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,a)),o=o.insert(b,x),function(q,k,H){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=eN?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,x,_)&&d.push(e.Hr.updateTargetData(u,x))});let m=li(),g=Ut();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(sN(u,h,t.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!a.isEqual(Ct.min())){const _=e.Hr.getLastRemoteSnapshotVersion(u).next(b=>e.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return it.waitFor(d).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.Ts=o,u))}function sN(r,t,e){let a=Ut(),o=Ut();return e.forEach(u=>a=a.add(u)),t.getEntries(r,a).next(u=>{let h=li();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):pt(ag,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function oN(r,t){const e=It(r);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Gm),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function lN(r,t){const e=It(r);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Hr.getTargetData(a,t).next(u=>u?(o=u,it.resolve(o)):e.Hr.allocateTargetId(a).next(h=>(o=new Qi(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(a.targetId,a),e.Is.set(t,a.targetId)),a})}async function pm(r,t,e){const a=It(r),o=a.Ts.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Io(h))throw h;pt(ag,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function dE(r,t,e){const a=It(r);let o=Ct.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const b=It(m),S=b.Is.get(_);return S!==void 0?it.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,_)}(a,h,vr(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,e?o:Ct.min(),e?u:Ut())).next(d=>(uN(a,QD(t),d),{documents:d,gs:u})))}function uN(r,t,e){let a=r.Es.get(t)||Ct.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(t,a)}class pE{constructor(){this.activeTargetIds=tx()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cN{constructor(){this.ho=new pE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,a){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new pE,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class gE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pt(mE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){pt(mE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function mm(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===xh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,e,a,o,u){const h=mm(),d=this.bo(t,e.toUriEncodedString());pt(Vp,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(t,d,m,a).then(g=>(pt(Vp,`Received RPC '${t}' ${h}: `,g),g),g=>{throw po(Vp,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(t,e,a,o,u,h){return this.So(t,e,a,o,u)}Do(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}bo(t,e){const a=fN[t];return`${this.po}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class mN extends dN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,a,o){const u=mm();return new Promise((h,d)=>{const m=new cb;m.setWithCredentials(!0),m.listenOnce(hb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ph.NO_ERROR:const _=m.getResponseJson();pt(Ze,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case ph.TIMEOUT:pt(Ze,`RPC '${t}' ${u} timed out`),d(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const b=m.getStatus();if(pt(Ze,`RPC '${t}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const O=function(k){const H=k.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(x.status);d(new ht(O,x.message))}else d(new ht(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ht(J.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{pt(Ze,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);pt(Ze,`RPC '${t}' ${u} sending request:`,o),m.send(e,"POST",g,a,15)})}Wo(t,e,a){const o=mm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=pb(),d=db(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,e,a),m.encodeInitMessageHeaders=!0;const _=u.join("");pt(Ze,`Creating RPC '${t}' stream ${o}: ${_}`,m);const b=h.createWebChannel(_,m);let S=!1,x=!1;const O=new pN({Fo:k=>{x?pt(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(pt(Ze,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),pt(Ze,`RPC '${t}' stream ${o} sending:`,k),b.send(k))},Mo:()=>b.close()}),q=(k,H,Q)=>{k.listen(H,B=>{try{Q(B)}catch(et){setTimeout(()=>{throw et},0)}})};return q(b,Gl.EventType.OPEN,()=>{x||(pt(Ze,`RPC '${t}' stream ${o} transport opened.`),O.Qo())}),q(b,Gl.EventType.CLOSE,()=>{x||(x=!0,pt(Ze,`RPC '${t}' stream ${o} transport closed`),O.Uo())}),q(b,Gl.EventType.ERROR,k=>{x||(x=!0,po(Ze,`RPC '${t}' stream ${o} transport errored:`,k),O.Uo(new ht(J.UNAVAILABLE,"The operation could not be completed")))}),q(b,Gl.EventType.MESSAGE,k=>{var H;if(!x){const Q=k.data[0];Kt(!!Q);const B=Q,et=(B==null?void 0:B.error)||((H=B[0])===null||H===void 0?void 0:H.error);if(et){pt(Ze,`RPC '${t}' stream ${o} received error:`,et);const rt=et.status;let lt=function(R){const C=we[R];if(C!==void 0)return $b(C)}(rt),I=et.message;lt===void 0&&(lt=J.INTERNAL,I="Unknown error status: "+rt+" with message "+et.message),x=!0,O.Uo(new ht(lt,I)),b.close()}else pt(Ze,`RPC '${t}' stream ${o} received:`,Q),O.Ko(Q)}}),q(d,fb.STAT_EVENT,k=>{k.stat===rm.PROXY?pt(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===rm.NOPROXY&&pt(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r){return new vx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=e,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,e-a);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class ow{constructor(t,e,a,o,u,h,d,m){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sw(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(oi(e.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===e&&this.V_(a,o)},a=>{t(()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,e){const a=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return pt(yE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(pt(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gN extends ow{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=bx(this.serializer,t),a=function(u){if(!("targetChange"in u))return Ct.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ct.min():h.readTime?Er(h.readTime):Ct.min()}(t);return this.listener.p_(e,a)}y_(t){const e={};e.database=dm(this.serializer),e.addTarget=function(u,h){let d;const m=h.target;if(d=lm(m)?{documents:Ax(u,m)}:{query:Rx(u,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Yb(u,h.resumeToken);const g=cm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ct.min())>0){d.readTime=Ph(u,h.snapshotVersion.toTimestamp());const g=cm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=Ix(this.serializer,t);a&&(e.labels=a),this.I_(e)}w_(t){const e={};e.database=dm(this.serializer),e.removeTarget=t,this.I_(e)}}class yN extends ow{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=Sx(t.writeResults,t.commitTime),a=Er(t.commitTime);return this.listener.v_(a,e)}C_(){const t={};t.database=dm(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>wx(this.serializer,a))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{}class vN extends _N{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,hm(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(J.UNKNOWN,u.toString())})}Co(t,e,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(t,hm(e,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class EN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oi(e),this.N_=!1):pt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class TN{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{ls(this)&&(pt(ns,"Restarting streams for network reachability change."),await async function(m){const g=It(m);g.W_.add(4),await bu(g),g.j_.set("Unknown"),g.W_.delete(4),await sf(g)}(this))})}),this.j_=new EN(a,o)}}async function sf(r){if(ls(r))for(const t of r.G_)await t(!0)}async function bu(r){for(const t of r.G_)await t(!1)}function lw(r,t){const e=It(r);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),ug(e)?lg(e):Do(e).c_()&&og(e,t))}function sg(r,t){const e=It(r),a=Do(e);e.K_.delete(t),a.c_()&&uw(e,t),e.K_.size===0&&(a.c_()?a.P_():ls(e)&&e.j_.set("Unknown"))}function og(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(r).y_(t)}function uw(r,t){r.H_.Ne(t),Do(r).w_(t)}function lg(r){r.H_=new mx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.j_.B_()}function ug(r){return ls(r)&&!Do(r).u_()&&r.K_.size>0}function ls(r){return It(r).W_.size===0}function cw(r){r.H_=void 0}async function bN(r){r.j_.set("Online")}async function wN(r){r.K_.forEach((t,e)=>{og(r,t)})}async function SN(r,t){cw(r),ug(r)?(r.j_.q_(t),lg(r)):r.j_.set("Unknown")}async function AN(r,t,e){if(r.j_.set("Online"),t instanceof Qb&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(r,t)}catch(a){pt(ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Lh(r,a)}else if(t instanceof _h?r.H_.We(t):t instanceof Kb?r.H_.Ze(t):r.H_.je(t),!e.isEqual(Ct.min()))try{const a=await aw(r.localStore);e.compareTo(a)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.K_.get(g);_&&u.K_.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=u.K_.get(m);if(!_)return;u.K_.set(m,_.withResumeToken(Qe.EMPTY_BYTE_STRING,_.snapshotVersion)),uw(u,m);const b=new Qi(_.target,m,g,_.sequenceNumber);og(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(r,e)}catch(a){pt(ns,"Failed to raise snapshot:",a),await Lh(r,a)}}async function Lh(r,t,e){if(!Io(t))throw t;r.W_.add(1),await bu(r),r.j_.set("Offline"),e||(e=()=>aw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pt(ns,"Retrying IndexedDB access"),await e(),r.W_.delete(1),await sf(r)})}function hw(r,t){return t().catch(e=>Lh(r,e,t))}async function of(r){const t=It(r),e=ia(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:Gm;for(;RN(t);)try{const o=await oN(t.localStore,a);if(o===null){t.U_.length===0&&e.P_();break}a=o.batchId,CN(t,o)}catch(o){await Lh(t,o)}fw(t)&&dw(t)}function RN(r){return ls(r)&&r.U_.length<10}function CN(r,t){r.U_.push(t);const e=ia(r);e.c_()&&e.S_&&e.b_(t.mutations)}function fw(r){return ls(r)&&!ia(r).u_()&&r.U_.length>0}function dw(r){ia(r).start()}async function IN(r){ia(r).C_()}async function DN(r){const t=ia(r);for(const e of r.U_)t.b_(e.mutations)}async function xN(r,t,e){const a=r.U_.shift(),o=Jm.from(a,t,e);await hw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await of(r)}async function NN(r,t){t&&ia(r).S_&&await async function(a,o){if(function(h){return dx(h)&&h!==J.ABORTED}(o.code)){const u=a.U_.shift();ia(a).h_(),await hw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(a)}}(r,t),fw(r)&&dw(r)}async function _E(r,t){const e=It(r);e.asyncQueue.verifyOperationInProgress(),pt(ns,"RemoteStore received new credentials");const a=ls(e);e.W_.add(3),await bu(e),a&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await sf(e)}async function ON(r,t){const e=It(r);t?(e.W_.delete(2),await sf(e)):t||(e.W_.add(2),await bu(e),e.j_.set("Unknown"))}function Do(r){return r.J_||(r.J_=function(e,a,o){const u=It(e);return u.M_(),new gN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:bN.bind(null,r),No:wN.bind(null,r),Lo:SN.bind(null,r),p_:AN.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),ug(r)?lg(r):r.j_.set("Unknown")):(await r.J_.stop(),cw(r))})),r.J_}function ia(r){return r.Y_||(r.Y_=function(e,a,o){const u=It(e);return u.M_(),new yN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:IN.bind(null,r),Lo:NN.bind(null,r),D_:DN.bind(null,r),v_:xN.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await of(r)):(await r.Y_.stop(),r.U_.length>0&&(pt(ns,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,d=new cg(t,e,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,t){if(oi("AsyncQueue",`${t}: ${r}`),Io(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||_t.comparator(e.key,a.key):(e,a)=>_t.comparator(e.key,a.key),this.keyedMap=$l(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new ho;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.Z_=new ce(_t.comparator)}track(t){const e=t.doc.key,a=this.Z_.get(e);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(e):t.type===1&&a.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):St():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,a)=>{t.push(a)}),t}}class Eo{constructor(t,e,a,o,u,h,d,m,g){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Eo(t,e,ho.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class kN{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,a){const o=It(e),u=o.queries;o.queries=EE(),u.forEach((h,d)=>{for(const m of d.ta)m.onError(a)})})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function EE(){return new os(r=>kb(r),Jh)}async function pw(r,t){const e=It(r);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new MN,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await e.onListen(o,!0);break;case 1:u.ea=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=hg(h,`Initialization of query '${ro(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.ta.push(t),t.sa(e.onlineState),u.ea&&t.oa(u.ea)&&fg(e)}async function mw(r,t){const e=It(r),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function PN(r,t){const e=It(r);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&fg(e)}function VN(r,t,e){const a=It(r),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(e);a.queries.delete(t)}function fg(r){r.ia.forEach(t=>{t.next()})}var gm,TE;(TE=gm||(gm={}))._a="default",TE.Cache="cache";class gw{constructor(t,e,a){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const a=e!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.key=t}}class _w{constructor(t){this.key=t}}class LN{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=Pb(t),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(t,e){const a=e?e.Da:new vE,o=e?e.wa:this.wa;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,b)=>{const S=o.get(_),x=tf(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;S&&x?S.data.isEqual(x.data)?O!==q&&(a.track({type:3,doc:x}),k=!0):this.va(S,x)||(a.track({type:2,doc:x}),k=!0,(m&&this.ya(x,m)>0||g&&this.ya(x,g)<0)&&(d=!0)):!S&&x?(a.track({type:0,doc:x}),k=!0):S&&!x&&(a.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(x?(h=h.add(x),u=q?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{wa:h,Da:a,ls:d,mutatedKeys:u}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((_,b)=>function(x,O){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return q(x)-q(O)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(a),o=o!=null&&o;const d=e&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new Eo(this.query,t.wa,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const e=[];return t.forEach(a=>{this.pa.has(a)||e.push(new _w(a))}),this.pa.forEach(a=>{t.has(a)||e.push(new yw(a))}),e}Oa(t){this.fa=t.gs,this.pa=Ut();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const dg="SyncEngine";class UN{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class zN{constructor(t){this.key=t,this.Ba=!1}}class BN{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new os(d=>kb(d),Jh),this.qa=new Map,this.Qa=new Set,this.$a=new ce(_t.comparator),this.Ua=new Map,this.Ka=new ng,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jN(r,t,e=!0){const a=Sw(r);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await vw(a,t,e,!0),o}async function qN(r,t){const e=Sw(r);await vw(e,t,!0,!1)}async function vw(r,t,e,a){const o=await lN(r.localStore,vr(t)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,e);let d;return a&&(d=await HN(r,t,u,h==="current",o.resumeToken)),r.isPrimaryClient&&e&&lw(r.remoteStore,o),d}async function HN(r,t,e,a,o){r.Ha=(b,S,x)=>async function(q,k,H,Q){let B=k.view.ba(H);B.ls&&(B=await dE(q.localStore,k.query,!1).then(({documents:I})=>k.view.ba(I,B)));const et=Q&&Q.targetChanges.get(k.targetId),rt=Q&&Q.targetMismatches.get(k.targetId)!=null,lt=k.view.applyChanges(B,q.isPrimaryClient,et,rt);return wE(q,k.targetId,lt.Ma),lt.snapshot}(r,b,S,x);const u=await dE(r.localStore,t,!0),h=new LN(t,u.gs),d=h.ba(u.documents),m=Tu.createSynthesizedTargetChangeForCurrentChange(e,a&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,m);wE(r,e,g.Ma);const _=new UN(t,e,h);return r.ka.set(t,_),r.qa.has(e)?r.qa.get(e).push(t):r.qa.set(e,[t]),g.snapshot}async function FN(r,t,e){const a=It(r),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!Jh(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&sg(a.remoteStore,o.targetId),ym(a,o.targetId)}).catch(Co)):(ym(a,o.targetId),await pm(a.localStore,o.targetId,!0))}async function GN(r,t){const e=It(r),a=e.ka.get(t),o=e.qa.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),sg(e.remoteStore,a.targetId))}async function $N(r,t,e){const a=JN(r);try{const o=await function(h,d){const m=It(h),g=xe.now(),_=d.reduce((x,O)=>x.add(O.key),Ut());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=li(),q=Ut();return m.ds.getEntries(x,_).next(k=>{O=k,O.forEach((H,Q)=>{Q.isValidDocument()||(q=q.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,O)).next(k=>{b=k;const H=[];for(const Q of d){const B=lx(Q,b.get(Q.key).overlayedDocument);B!=null&&H.push(new ua(Q.key,B,Cb(B.value.mapValue),Un.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,H,d)}).next(k=>{S=k;const H=k.applyToLocalDocumentSet(b,q);return m.documentOverlayCache.saveOverlays(x,k.batchId,H)})}).then(()=>({batchId:S.batchId,changes:Lb(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new ce(Ot)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,e),await wu(a,o.changes),await of(a.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");e.reject(u)}}async function Ew(r,t){const e=It(r);try{const a=await aN(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Ua.get(u);h&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Kt(h.Ba):o.removedDocuments.size>0&&(Kt(h.Ba),h.Ba=!1))}),await wu(e,a,t)}catch(a){await Co(a)}}function bE(r,t,e){const a=It(r);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.ka.forEach((u,h)=>{const d=h.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=It(h);m.onlineState=d;let g=!1;m.queries.forEach((_,b)=>{for(const S of b.ta)S.sa(d)&&(g=!0)}),g&&fg(m)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function KN(r,t,e){const a=It(r);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Ua.get(t),u=o&&o.key;if(u){let h=new ce(_t.comparator);h=h.insert(u,tn.newNoDocument(u,Ct.min()));const d=Ut().add(u),m=new rf(Ct.min(),new Map,new ce(Ot),h,d);await Ew(a,m),a.$a=a.$a.remove(u),a.Ua.delete(t),pg(a)}else await pm(a.localStore,t,!1).then(()=>ym(a,t,e)).catch(Co)}async function QN(r,t){const e=It(r),a=t.batch.batchId;try{const o=await iN(e.localStore,t);bw(e,a,null),Tw(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await wu(e,o)}catch(o){await Co(o)}}async function YN(r,t,e){const a=It(r);try{const o=await function(h,d){const m=It(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>(Kt(b!==null),_=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,t);bw(a,t,e),Tw(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await wu(a,o)}catch(o){await Co(o)}}function Tw(r,t){(r.Ga.get(t)||[]).forEach(e=>{e.resolve()}),r.Ga.delete(t)}function bw(r,t,e){const a=It(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function ym(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),e&&r.La.Ja(a,e);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||ww(r,a)})}function ww(r,t){r.Qa.delete(t.path.canonicalString());const e=r.$a.get(t);e!==null&&(sg(r.remoteStore,e),r.$a=r.$a.remove(t),r.Ua.delete(e),pg(r))}function wE(r,t,e){for(const a of e)a instanceof yw?(r.Ka.addReference(a.key,t),XN(r,a)):a instanceof _w?(pt(dg,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||ww(r,a.key)):St()}function XN(r,t){const e=t.key,a=e.path.canonicalString();r.$a.get(e)||r.Qa.has(a)||(pt(dg,"New document in limbo: "+e),r.Qa.add(a),pg(r))}function pg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const e=new _t(ie.fromString(t)),a=r.za.next();r.Ua.set(a,new zN(e)),r.$a=r.$a.insert(e,a),lw(r.remoteStore,new Qi(vr(Ym(e.path)),a,"TargetPurposeLimboResolution",Yh.ae))}}async function wu(r,t,e){const a=It(r),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,m)=>{h.push(a.Ha(m,t,e).then(g=>{var _;if((g||e)&&a.isPrimaryClient){const b=g?!g.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ig.Yi(m.targetId,g);u.push(b)}}))}),await Promise.all(h),a.La.p_(o),await async function(m,g){const _=It(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>it.forEach(g,S=>it.forEach(S.Hi,x=>_.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>it.forEach(S.Ji,x=>_.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!Io(b))throw b;pt(ag,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const x=_.Ts.get(S),O=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(O);_.Ts=_.Ts.insert(S,q)}}}(a.localStore,u))}async function WN(r,t){const e=It(r);if(!e.currentUser.isEqual(t)){pt(dg,"User change. New user:",t.toKey());const a=await iw(e.localStore,t);e.currentUser=t,function(u,h){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new ht(J.CANCELLED,h))})}),u.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await wu(e,a.Rs)}}function ZN(r,t){const e=It(r),a=e.Ua.get(t);if(a&&a.Ba)return Ut().add(a.key);{let o=Ut();const u=e.qa.get(t);if(!u)return o;for(const h of u){const d=e.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function Sw(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ew.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KN.bind(null,t),t.La.p_=PN.bind(null,t.eventManager),t.La.Ja=VN.bind(null,t.eventManager),t}function JN(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YN.bind(null,t),t}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return rN(this.persistence,new tN,t.initialUser,this.serializer)}Xa(t){return new rw(rg.ri,this.serializer)}Za(t){return new cN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class tO extends Uh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Kt(this.persistence.referenceDelegate instanceof Vh);const a=this.persistence.referenceDelegate.garbageCollector;return new zx(a,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new rw(a=>Vh.ri(a,e),this.serializer)}}class _m{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new kN}()}createDatastore(t){const e=af(t.databaseInfo.databaseId),a=function(u){return new mN(u)}(t.databaseInfo);return function(u,h,d,m){return new vN(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,d){return new TN(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>bE(this.syncEngine,e,0),function(){return gE.D()?new gE:new hN}())}createSyncEngine(t,e){return function(o,u,h,d,m,g,_){const b=new BN(o,u,h,d,m,g);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=It(o);pt(ns,"RemoteStore shutting down."),u.W_.add(5),await bu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):oi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class eO{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=yb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{pt(aa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(pt(aa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=hg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Up(r,t){r.asyncQueue.verifyOperationInProgress(),pt(aa,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let a=e.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await iw(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function SE(r,t){r.asyncQueue.verifyOperationInProgress();const e=await nO(r);pt(aa,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(a=>_E(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>_E(t.remoteStore,o)),r._onlineComponents=t}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(aa,"Using user provided OfflineComponentProvider");try{await Up(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;po("Error using user provided cache. Falling back to memory cache: "+e),await Up(r,new Uh)}}else pt(aa,"Using default OfflineComponentProvider"),await Up(r,new tO(void 0));return r._offlineComponents}async function Rw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(aa,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(pt(aa,"Using default OnlineComponentProvider"),await SE(r,new _m))),r._onlineComponents}function rO(r){return Rw(r).then(t=>t.syncEngine)}async function Cw(r){const t=await Rw(r),e=t.eventManager;return e.onListen=jN.bind(null,t.syncEngine),e.onUnlisten=FN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=qN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=GN.bind(null,t.syncEngine),e}function iO(r,t,e={}){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new Aw({next:S=>{_.su(),h.enqueueAndForget(()=>mw(u,b));const x=S.docs.has(d);!x&&S.fromCache?g.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&m&&m.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new gw(Ym(d.path),_,{includeMetadataChanges:!0,Ta:!0});return pw(u,b)}(await Cw(r),r.asyncQueue,t,e,a)),a.promise}function aO(r,t,e={}){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const _=new Aw({next:S=>{_.su(),h.enqueueAndForget(()=>mw(u,b)),S.fromCache&&m.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new gw(d,_,{includeMetadataChanges:!0,Ta:!0});return pw(u,b)}(await Cw(r),r.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r,t,e){if(!e)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sO(r,t,e,a){if(t===!0&&a===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function RE(r){if(!_t.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CE(r){if(_t.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St()}function Qn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=lf(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firestore.googleapis.com",IE=!0;class DE{constructor(t){var e,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xw,this.ssl=IE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:IE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lx)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iw((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new dD;switch(a.type){case"firstParty":return new yD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=AE.get(e);a&&(pt("ComponentProvider","Removing Datastore"),AE.delete(e),a.terminate())}(this),Promise.resolve()}}function oO(r,t,e,a={}){var o;const u=(r=Qn(r,uf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${t}:${e}`;u.host!==xw&&u.host!==d&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Xa(m,h)&&(r._setSettings(m),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Je.MOCK_USER;else{g=yR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Je(b)}r._authCredentials=new pD(new mb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fi(this.firestore,t,this._query)}}class ln{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Ji extends fi{constructor(t,e,a){super(t,e,Ym(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new _t(t))}withConverter(t){return new Ji(this.firestore,t,this._path)}}function Nw(r,t,...e){if(r=pe(r),Dw("collection","path",t),r instanceof uf){const a=ie.fromString(t,...e);return CE(a),new Ji(r,null,a)}{if(!(r instanceof ln||r instanceof Ji))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...e));return CE(a),new Ji(r.firestore,null,a)}}function ri(r,t,...e){if(r=pe(r),arguments.length===1&&(t=yb.newId()),Dw("doc","path",t),r instanceof uf){const a=ie.fromString(t,...e);return RE(a),new ln(r,null,new _t(a))}{if(!(r instanceof ln||r instanceof Ji))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...e));return RE(a),new ln(r.firestore,r instanceof Ji?r.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sw(this,"async_queue_retry"),this.Su=()=>{const a=Lp();a&&pt(xE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=Lp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Io(t))throw t;pt(xE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw oi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=e,e}enqueueAfterDelay(t,e,a){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const o=cg.createAndSchedule(this,t,e,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&St()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class us extends uf{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new NE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function lO(r,t){const e=typeof r=="object"?r:ST(),a=typeof r=="string"?r:xh,o=km(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=mR("firestore");u&&oO(o,...u)}return o}function mg(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uO(r),r._firestoreClient}function uO(r){var t,e,a;const o=r._freezeSettings(),u=function(d,m,g,_){return new OD(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Iw(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new eO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this._byteString=t}static fromBase64String(t){try{return new To(Qe.fromBase64String(t))}catch(e){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new To(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new Eu(t,this.data,e,this.fieldTransforms)}}class Ow{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return new ua(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class _g{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return zh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Mw(this.Lu)&&cO.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class fO{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||af(t)}ju(t,e,a,o=!1){return new _g({Lu:t,methodName:e,zu:a,path:Ke.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(r){const t=r._freezeSettings(),e=af(r._databaseId);return new fO(r._databaseId,!!t.ignoreUndefinedProperties,e)}function kw(r,t,e,a,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,t,e,o);Eg("Data must be an object, but it was:",h,a);const d=Vw(a,h);let m,g;if(u.merge)m=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const S=vm(t,b,e);if(!h.contains(S))throw new ht(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Uw(_,S)||_.push(S)}m=new wn(_),g=h.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=h.fieldTransforms;return new hO(new dn(d),m,g)}class ff extends hf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ff}}class vg extends hf{_toFieldTransform(t){return new ix(t.path,new ou)}isEqual(t){return t instanceof vg}}function dO(r,t,e,a){const o=r.ju(1,t,e);Eg("Data must be an object, but it was:",o,a);const u=[],h=dn.empty();la(a,(m,g)=>{const _=Tg(t,m,e);g=pe(g);const b=o.Uu(_);if(g instanceof ff)u.push(_);else{const S=Au(g,b);S!=null&&(u.push(_),h.set(_,S))}});const d=new wn(u);return new Ow(h,d,o.fieldTransforms)}function pO(r,t,e,a,o,u){const h=r.ju(1,t,e),d=[vm(t,a,e)],m=[o];if(u.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(vm(t,u[S])),m.push(u[S+1]);const g=[],_=dn.empty();for(let S=d.length-1;S>=0;--S)if(!Uw(g,d[S])){const x=d[S];let O=m[S];O=pe(O);const q=h.Uu(x);if(O instanceof ff)g.push(x);else{const k=Au(O,q);k!=null&&(g.push(x),_.set(x,k))}}const b=new wn(g);return new Ow(_,b,h.fieldTransforms)}function Pw(r,t,e,a=!1){return Au(e,r.ju(a?4:3,t))}function Au(r,t){if(Lw(r=pe(r)))return Eg("Unsupported field value:",t,r),Vw(r,t);if(r instanceof hf)return function(a,o){if(!Mw(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=Au(d,o.Ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(r,t)}return function(a,o){if((a=pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ex(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=xe.fromDate(a);return{timestampValue:Ph(o.serializer,u)}}if(a instanceof xe){const u=new xe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(a instanceof gg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof To)return{bytesValue:Yb(o.serializer,a._byteString)};if(a instanceof ln){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof yg)return function(h,d){return{mapValue:{fields:{[Ab]:{stringValue:Rb},[Nh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Wm(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${lf(a)}`)}(r,t)}function Vw(r,t){const e={};return vb(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(r,(a,o)=>{const u=Au(o,t.qu(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function Lw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xe||r instanceof gg||r instanceof To||r instanceof ln||r instanceof hf||r instanceof yg)}function Eg(r,t,e){if(!Lw(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const a=lf(e);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function vm(r,t,e){if((t=pe(t))instanceof cf)return t._internalPath;if(typeof t=="string")return Tg(r,t);throw zh("Field path arguments must be of type string or ",r,!1,void 0,e)}const mO=new RegExp("[~\\*/\\[\\]]");function Tg(r,t,e){if(t.search(mO)>=0)throw zh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new cf(...t.split("."))._internalPath}catch{throw zh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function zh(r,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new ht(J.INVALID_ARGUMENT,d+r+m)}function Uw(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class gO extends bg{data(){return super.data()}}function wg(r,t){return typeof t=="string"?Tg(r,t):t instanceof cf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class df extends Sg{}function OE(r,t,...e){let a=[];t instanceof Sg&&a.push(t),a=a.concat(e),function(u){const h=u.filter(m=>m instanceof Rg).length,d=u.filter(m=>m instanceof Ag).length;if(h>1||h>0&&d>0)throw new ht(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Ag extends df{constructor(t,e,a){super(),this._field=t,this._op=e,this._value=a,this.type="where"}static _create(t,e,a){return new Ag(t,e,a)}_apply(t){const e=this._parse(t);return zw(t._query,e),new fi(t.firestore,t.converter,um(t._query,e))}_parse(t){const e=Su(t.firestore);return function(u,h,d,m,g,_,b){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ht(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){VE(b,_);const O=[];for(const q of b)O.push(PE(m,u,q));S={arrayValue:{values:O}}}else S=PE(m,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||VE(b,_),S=Pw(d,h,b,_==="in"||_==="not-in");return Se.create(g,_,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Rg extends Sg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Rg(t,e)}_parse(t){const e=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return e.length===1?e[0]:Kn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)zw(h,m),h=um(h,m)}(t._query,e),new fi(t.firestore,t.converter,um(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends df{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Cg(t,e)}_apply(t){const e=function(o,u,h){if(o.startAt!==null)throw new ht(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ht(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,h)}(t._query,this._field,this._direction);return new fi(t.firestore,t.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new ss(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function ME(r,t="asc"){const e=t,a=wg("orderBy",r);return Cg._create(a,e)}class Ig extends df{constructor(t,e,a){super(),this.type=t,this._limit=e,this._limitType=a}static _create(t,e,a){return new Ig(t,e,a)}_apply(t){return new fi(t.firestore,t.converter,Mh(t._query,this._limit,this._limitType))}}function kE(r){return Ig._create("limit",r,"F")}class Dg extends df{constructor(t,e,a){super(),this.type=t,this._docOrFields=e,this._inclusive=a}static _create(t,e,a){return new Dg(t,e,a)}_apply(t){const e=vO(t,this.type,this._docOrFields,this._inclusive);return new fi(t.firestore,t.converter,function(o,u){return new ss(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(t._query,e))}}function _O(...r){return Dg._create("startAfter",r,!1)}function vO(r,t,e,a){if(e[0]=pe(e[0]),e[0]instanceof bg)return function(u,h,d,m,g){if(!m)throw new ht(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const b of co(u))if(b.field.isKeyField())_.push(Oh(h,m.key));else{const S=m.data.field(b.field);if(Wh(S))throw new ht(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const x=b.field.canonicalString();throw new ht(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}_.push(S)}return new _o(_,g)}(r._query,r.firestore._databaseId,t,e[0]._document,a);{const o=Su(r.firestore);return function(h,d,m,g,_,b){const S=h.explicitOrderBy;if(_.length>S.length)throw new ht(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let O=0;O<_.length;O++){const q=_[O];if(S[O].field.isKeyField()){if(typeof q!="string")throw new ht(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!Xm(h)&&q.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const k=h.path.child(ie.fromString(q));if(!_t.isDocumentKey(k))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const H=new _t(k);x.push(Oh(d,H))}else{const k=Pw(m,g,q);x.push(k)}}return new _o(x,b)}(r._query,r.firestore._databaseId,o,t,e,a)}}function PE(r,t,e){if(typeof(e=pe(e))=="string"){if(e==="")throw new ht(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xm(t)&&e.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const a=t.path.child(ie.fromString(e));if(!_t.isDocumentKey(a))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Oh(r,new _t(a))}if(e instanceof ln)return Oh(r,e._key);throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(e)}.`)}function VE(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zw(r,t){const e=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class EO{convertValue(t,e="none"){switch(ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return la(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var e,a,o;const u=(o=(a=(e=t.fields)===null||e===void 0?void 0:e[Nh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>_e(h.doubleValue));return new yg(u)}convertGeoPoint(t){return new gg(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=Zh(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const e=ea(t);return new xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=ie.fromString(t);Kt(ew(a));const o=new iu(a.get(1),a.get(3)),u=new _t(a.popFirst(5));return o.isEqual(e)||oi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r,t,e){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jw extends bg{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(wg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}}class vh extends jw{data(t={}){return super.data(t)}}class TO{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new vh(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:bO(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r){r=Qn(r,ln);const t=Qn(r.firestore,us);return iO(mg(t),r._key).then(e=>RO(t,r,e))}class qw extends EO{constructor(t){super(),this.firestore=t}convertBytes(t){return new To(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,e)}}function wO(r){r=Qn(r,fi);const t=Qn(r.firestore,us),e=mg(t),a=new qw(t);return yO(r._query),aO(e,r._query).then(o=>new TO(t,a,r,o))}function SO(r,t,e){r=Qn(r,ln);const a=Qn(r.firestore,us),o=Bw(r.converter,t);return pf(a,[kw(Su(a),"setDoc",r._key,o,r.converter!==null,e).toMutation(r._key,Un.none())])}function Hw(r,t,e,...a){r=Qn(r,ln);const o=Qn(r.firestore,us),u=Su(o);let h;return h=typeof(t=pe(t))=="string"||t instanceof cf?pO(u,"updateDoc",r._key,t,e,a):dO(u,"updateDoc",r._key,t),pf(o,[h.toMutation(r._key,Un.exists(!0))])}function Fw(r){return pf(Qn(r.firestore,us),[new Zm(r._key,Un.none())])}function AO(r,t){const e=Qn(r.firestore,us),a=ri(r),o=Bw(r.converter,t);return pf(e,[kw(Su(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function pf(r,t){return function(a,o){const u=new ni;return a.asyncQueue.enqueueAndForget(async()=>$N(await rO(a),o,u)),u.promise}(mg(r),t)}function RO(r,t,e){const a=e.docs.get(t._key),o=new qw(r);return new jw(r,o,t._key,a,new Ql(e.hasPendingWrites,e.fromCache),t.converter)}function Bh(){return new vg("serverTimestamp")}(function(t,e=!0){(function(o){Ro=o})(Ao),fo(new Wa("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new us(new mD(a.getProvider("auth-internal")),new _D(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Wi(L0,U0,t),Wi(L0,U0,"esm2017")})();const CO={apiKey:"AIzaSyCwzvqfwiGFPOwxVk2hJlv_Jzp8XBAVT7A",authDomain:"mediabox-1772f.firebaseapp.com",projectId:"mediabox-1772f",storageBucket:"mediabox-1772f.firebasestorage.app",messagingSenderId:"148968605688",appId:"1:148968605688:web:1c447eead001c2d26c780d"},Gw=wT(CO),gr=hD(Gw),Tr=lO(Gw),IO="_topbar_1u70y_1",DO="_logo_1u70y_29",xO="_searchInput_1u70y_45",NO="_actions_1u70y_77",OO="_actionButton_1u70y_91",MO="_icon_1u70y_117",kO="_profileIcon_1u70y_125",PO="_avatarImg_1u70y_139",Xr={topbar:IO,logo:DO,searchInput:xO,actions:NO,actionButton:OO,icon:MO,profileIcon:kO,avatarImg:PO},VO="_profile_8zlyw_5",LO="_dropdown_8zlyw_23",LE={profile:VO,dropdown:LO};function UO({isOpen:r,onToggle:t,onOpenConfig:e,avatarRef:a}){const o=L.useRef(null),u=fu(),h=()=>{localStorage.removeItem("token"),u("/login")};return L.useEffect(()=>{const d=m=>{var g;r&&o.current&&!o.current.contains(m.target)&&!((g=a==null?void 0:a.current)!=null&&g.contains(m.target))&&t(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r,t,a]),P.jsx("div",{ref:o,className:LE.profile,children:r&&P.jsxs("div",{className:LE.dropdown,children:[P.jsx("button",{type:"button",onClick:()=>{t(!1),typeof e=="function"&&e()},children:"Configuraes"}),P.jsx("button",{type:"button",onClick:h,children:"Logout"})]})})}var $w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=Ft.createContext&&Ft.createContext($w),zO=["attr","size","title"];function BO(r,t){if(r==null)return{};var e=jO(r,t),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(e[a]=r[a])}return e}function jO(r,t){if(r==null)return{};var e={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;e[a]=r[a]}return e}function jh(){return jh=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},jh.apply(this,arguments)}function zE(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,a)}return e}function qh(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(e),!0).forEach(function(a){qO(r,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):zE(Object(e)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(e,a))})}return r}function qO(r,t,e){return t=HO(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function HO(r){var t=FO(r,"string");return typeof t=="symbol"?t:t+""}function FO(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var a=e.call(r,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Kw(r){return r&&r.map((t,e)=>Ft.createElement(t.tag,qh({key:e},t.attr),Kw(t.child)))}function Ng(r){return t=>Ft.createElement(GO,jh({attr:qh({},r.attr)},t),Kw(r.child))}function GO(r){var t=e=>{var{attr:a,size:o,title:u}=r,h=BO(r,zO),d=o||e.size||"1em",m;return e.className&&(m=e.className),r.className&&(m=(m?m+" ":"")+r.className),Ft.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,a,h,{className:m,style:qh(qh({color:r.color||e.color},e.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Ft.createElement("title",null,u),r.children)};return UE!==void 0?Ft.createElement(UE.Consumer,null,e=>t(e)):t($w)}function $O(r){return Ng({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(r)}function KO(r){return Ng({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function QO(r){return Ng({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(r)}function YO({onAdd:r,onEdit:t,profileOpen:e,onToggleProfile:a,onOpenConfig:o,searchTerm:u,onSearchChange:h}){const[d,m]=L.useState(null),g=L.useRef();return L.useEffect(()=>{(async()=>{const b=gr.currentUser;if(!b)return;const S=ri(Tr,"Usuarios",b.uid),x=await xg(S);if(x.exists()){const O=x.data();O.avatarBase64&&m(O.avatarBase64)}})()},[]),P.jsxs("nav",{className:Xr.topbar,children:[P.jsx("div",{className:Xr.logo,children:P.jsx("img",{src:"/MediaBox/MediaBoxLogo.png",alt:"MediaBox Logo"})}),P.jsx("input",{type:"text",className:Xr.searchInput,placeholder:"Buscar por ttulo, tipo ou tag",value:u,onChange:_=>h(_.target.value)}),P.jsxs("div",{className:Xr.actions,children:[P.jsx("button",{onClick:r,className:Xr.actionButton,"aria-label":"Adicionar",children:P.jsx(KO,{})}),P.jsx("button",{onClick:t,className:Xr.actionButton,"aria-label":"Editar",children:P.jsx($O,{})}),P.jsx("div",{ref:g,className:Xr.profileIcon,onClick:()=>a(!e),children:d?P.jsx("img",{src:d,alt:"avatar",className:Xr.avatarImg}):P.jsx("span",{className:Xr.icon,children:P.jsx(QO,{})})}),P.jsx(UO,{isOpen:e,onToggle:a,onOpenConfig:o,avatarRef:g})]})]})}function XO({loadMore:r,hasMore:t,children:e}){const a=L.useRef();return L.useEffect(()=>{if(!t)return;const o=new IntersectionObserver(([u])=>{u.isIntersecting&&r()},{rootMargin:"200px"});return o.observe(a.current),()=>o.disconnect()},[r,t]),P.jsxs(P.Fragment,{children:[e,t&&P.jsx("div",{ref:a,style:{height:1}})]})}const WO="_table_1ds8q_5",ZO="_tableContainer_1ds8q_21",JO="_capaImg_1ds8q_199",tM="_emptyState_1ds8q_215",eM="_selectedRow_1ds8q_233",nM="_fadeOut_1ds8q_243",rM="_genreContainer_1ds8q_255",iM="_genreBadge_1ds8q_269",Ki={table:WO,tableContainer:ZO,capaImg:JO,emptyState:tM,selectedRow:eM,fadeOut:nM,genreContainer:rM,genreBadge:iM},aM="_reviewStars_fh5uo_5",sM="_starFilled_fh5uo_21",oM="_starEmpty_fh5uo_29",zp={reviewStars:aM,starFilled:sM,starEmpty:oM};function lM({rating:r,max:t=5}){const e=Math.max(0,Math.min(Math.round(r),t));return P.jsx("div",{className:zp.reviewStars,title:`${e} de ${t} estrelas`,children:Array.from({length:t},(a,o)=>P.jsx("span",{className:o<e?zp.starFilled:zp.starEmpty,"aria-hidden":"true",children:""},o))})}function uM(r){if(r!=null&&r.toDate)return r.toDate().toLocaleDateString();if(typeof r=="string"){const[t,e,a]=r.split("-");return`${a}/${e}/${t}`}return""}function cM({item:r,isSelected:t,onSelect:e,fadeOut:a=!1}){return P.jsxs("tr",{className:`${t?Ki.selectedRow:""} ${a?Ki.fadeOut:""}`,onClick:e,children:[P.jsx("td",{"data-cell":"Capa",children:P.jsx("img",{src:r.capa,alt:r.titulo,className:Ki.capaImg})}),P.jsx("td",{"data-cell":"Ttulo",children:r.titulo}),P.jsx("td",{"data-cell":"Tipo",children:r.tipo}),P.jsx("td",{"data-cell":"Progresso",children:r.progresso}),P.jsx("td",{"data-cell":"Data de incluso",children:uM(r.dataInclusao)}),P.jsx("td",{"data-cell":"Gnero",children:P.jsx("div",{className:Ki.genreContainer,children:Array.isArray(r.genero)&&r.genero.map((o,u)=>P.jsx("span",{className:Ki.genreBadge,children:o},u))})}),P.jsx("td",{"data-cell":"Comentrio",title:r.comentario,children:r.comentario}),P.jsx("td",{"data-cell":"Nota",children:P.jsx(lM,{rating:r.nota})})]})}function hM({items:r,selectedId:t,onSelect:e,onRatingChange:a}){const[o,u]=L.useState(null);return r.length?P.jsx("div",{className:Ki.tableContainer,children:P.jsxs("table",{className:Ki.table,children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Capa"}),P.jsx("th",{children:"Ttulo"}),P.jsx("th",{children:"Tipo"}),P.jsx("th",{children:"Progresso"}),P.jsx("th",{children:"Data de Incluso"}),P.jsx("th",{children:"Gnero"}),P.jsx("th",{children:"Comentrio"}),P.jsx("th",{children:"Nota"})]})}),P.jsx("tbody",{children:r.map(h=>P.jsx(cM,{item:h,isSelected:h.id===t,onSelect:()=>e(h),fadeOut:h._removing===!0},h.id))})]})}):P.jsx("div",{className:Ki.emptyState,children:P.jsx("p",{children:"Nenhuma mdia cadastrada."})})}var Bp,BE;function fM(){if(BE)return Bp;BE=1;var r=!1,t,e,a,o,u,h,d,m,g,_,b,S,x,O,q;function k(){if(!r){r=!0;var Q=navigator.userAgent,B=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(Q),et=/(Mac OS X)|(Windows)|(Linux)/.exec(Q);if(S=/\b(iPhone|iP[ao]d)/.exec(Q),x=/\b(iP[ao]d)/.exec(Q),_=/Android/i.exec(Q),O=/FBAN\/\w+;/i.exec(Q),q=/Mobile/i.exec(Q),b=!!/Win64/.exec(Q),B){t=B[1]?parseFloat(B[1]):B[5]?parseFloat(B[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var rt=/(?:Trident\/(\d+.\d+))/.exec(Q);h=rt?parseFloat(rt[1])+4:t,e=B[2]?parseFloat(B[2]):NaN,a=B[3]?parseFloat(B[3]):NaN,o=B[4]?parseFloat(B[4]):NaN,o?(B=/(?:Chrome\/(\d+\.\d+))/.exec(Q),u=B&&B[1]?parseFloat(B[1]):NaN):u=NaN}else t=e=a=u=o=NaN;if(et){if(et[1]){var lt=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(Q);d=lt?parseFloat(lt[1].replace("_",".")):!0}else d=!1;m=!!et[2],g=!!et[3]}else d=m=g=!1}}var H={ie:function(){return k()||t},ieCompatibilityMode:function(){return k()||h>t},ie64:function(){return H.ie()&&b},firefox:function(){return k()||e},opera:function(){return k()||a},webkit:function(){return k()||o},safari:function(){return H.webkit()},chrome:function(){return k()||u},windows:function(){return k()||m},osx:function(){return k()||d},linux:function(){return k()||g},iphone:function(){return k()||S},mobile:function(){return k()||S||x||_||q},nativeApp:function(){return k()||O},android:function(){return k()||_},ipad:function(){return k()||x}};return Bp=H,Bp}var jp,jE;function dM(){if(jE)return jp;jE=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return jp=t,jp}var qp,qE;function pM(){if(qE)return qp;qE=1;var r=dM(),t;r.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(a,o){if(!r.canUseDOM||o&&!("addEventListener"in document))return!1;var u="on"+a,h=u in document;if(!h){var d=document.createElement("div");d.setAttribute(u,"return;"),h=typeof d[u]=="function"}return!h&&t&&a==="wheel"&&(h=document.implementation.hasFeature("Events.wheel","3.0")),h}return qp=e,qp}var Hp,HE;function mM(){if(HE)return Hp;HE=1;var r=fM(),t=pM(),e=10,a=40,o=800;function u(h){var d=0,m=0,g=0,_=0;return"detail"in h&&(m=h.detail),"wheelDelta"in h&&(m=-h.wheelDelta/120),"wheelDeltaY"in h&&(m=-h.wheelDeltaY/120),"wheelDeltaX"in h&&(d=-h.wheelDeltaX/120),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(d=m,m=0),g=d*e,_=m*e,"deltaY"in h&&(_=h.deltaY),"deltaX"in h&&(g=h.deltaX),(g||_)&&h.deltaMode&&(h.deltaMode==1?(g*=a,_*=a):(g*=o,_*=o)),g&&!d&&(d=g<1?-1:1),_&&!m&&(m=_<1?-1:1),{spinX:d,spinY:m,pixelX:g,pixelY:_}}return u.getEventType=function(){return r.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Hp=u,Hp}var Fp,FE;function gM(){return FE||(FE=1,Fp=mM()),Fp}var yM=gM();const _M=JE(yM);function vM(r,t,e,a,o,u){u===void 0&&(u=0);var h=bo(r,t,u),d=h.width,m=h.height,g=Math.min(d,e),_=Math.min(m,a);return g>_*o?{width:_*o,height:_}:{width:g,height:g/o}}function EM(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function ql(r,t,e,a,o){o===void 0&&(o=0);var u=bo(t.width,t.height,o),h=u.width,d=u.height;return{x:GE(r.x,h,e.width,a),y:GE(r.y,d,e.height,a)}}function GE(r,t,e,a){var o=t*a/2-e/2;return mf(r,-o,o)}function $E(r,t){return Math.sqrt(Math.pow(r.y-t.y,2)+Math.pow(r.x-t.x,2))}function KE(r,t){return Math.atan2(t.y-r.y,t.x-r.x)*180/Math.PI}function TM(r,t,e,a,o,u,h){u===void 0&&(u=0),h===void 0&&(h=!0);var d=h?bM:wM,m=bo(t.width,t.height,u),g=bo(t.naturalWidth,t.naturalHeight,u),_={x:d(100,((m.width-e.width/o)/2-r.x/o)/m.width*100),y:d(100,((m.height-e.height/o)/2-r.y/o)/m.height*100),width:d(100,e.width/m.width*100/o),height:d(100,e.height/m.height*100/o)},b=Math.round(d(g.width,_.width*g.width/100)),S=Math.round(d(g.height,_.height*g.height/100)),x=g.width>=g.height*a,O=x?{width:Math.round(S*a),height:S}:{width:b,height:Math.round(b/a)},q=ze(ze({},O),{x:Math.round(d(g.width-O.width,_.x*g.width/100)),y:Math.round(d(g.height-O.height,_.y*g.height/100))});return{croppedAreaPercentages:_,croppedAreaPixels:q}}function bM(r,t){return Math.min(r,Math.max(0,t))}function wM(r,t){return t}function SM(r,t,e,a,o,u){var h=bo(t.width,t.height,e),d=mf(a.width/h.width*(100/r.width),o,u),m={x:d*h.width/2-a.width/2-h.width*d*(r.x/100),y:d*h.height/2-a.height/2-h.height*d*(r.y/100)};return{crop:m,zoom:d}}function AM(r,t,e){var a=EM(t);return e.height>e.width?e.height/(r.height*a):e.width/(r.width*a)}function RM(r,t,e,a,o,u){e===void 0&&(e=0);var h=bo(t.naturalWidth,t.naturalHeight,e),d=mf(AM(r,t,a),o,u),m=a.height>a.width?a.height/r.height:a.width/r.width,g={x:((h.width-r.width)/2-r.x)*m,y:((h.height-r.height)/2-r.y)*m};return{crop:g,zoom:d}}function QE(r,t){return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}}function CM(r){return r*Math.PI/180}function bo(r,t,e){var a=CM(e);return{width:Math.abs(Math.cos(a)*r)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*r)+Math.abs(Math.cos(a)*t)}}function mf(r,t,e){return Math.min(Math.max(r,t),e)}function ah(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var IM=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,DM=1,xM=3,NM=1,Og=function(r){FC(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.cropperRef=L.createRef(),e.imageRef=L.createRef(),e.videoRef=L.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var a=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(a){a=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(a){return a.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var a=e.computeSizes();a&&(e.emitCropData(),e.setInitialCrop(a)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(a){if(e.props.initialCroppedAreaPercentages){var o=SM(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),u=o.crop,h=o.zoom;e.props.onCropChange(u),e.props.onZoomChange&&e.props.onZoomChange(h)}else if(e.props.initialCroppedAreaPixels){var d=RM(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),u=d.crop,h=d.zoom;e.props.onCropChange(u),e.props.onZoomChange&&e.props.onZoomChange(h)}},e.computeSizes=function(){var a,o,u,h,d,m,g=e.imageRef.current||e.videoRef.current;if(g&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var _=e.containerRect.width/e.containerRect.height,b=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,S=((u=e.imageRef.current)===null||u===void 0?void 0:u.naturalHeight)||((h=e.videoRef.current)===null||h===void 0?void 0:h.videoHeight)||0,x=g.offsetWidth<b||g.offsetHeight<S,O=b/S,q=void 0;if(x)switch(e.state.mediaObjectFit){default:case"contain":q=_>O?{width:e.containerRect.height*O,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/O};break;case"horizontal-cover":q={width:e.containerRect.width,height:e.containerRect.width/O};break;case"vertical-cover":q={width:e.containerRect.height*O,height:e.containerRect.height};break}else q={width:g.offsetWidth,height:g.offsetHeight};e.mediaSize=ze(ze({},q),{naturalWidth:b,naturalHeight:S}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var k=e.props.cropSize?e.props.cropSize:vM(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((d=e.state.cropSize)===null||d===void 0?void 0:d.height)!==k.height||((m=e.state.cropSize)===null||m===void 0?void 0:m.width)!==k.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(k),e.setState({cropSize:k},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(k),k}},e.saveContainerPosition=function(){if(e.containerRef){var a=e.containerRef.getBoundingClientRect();e.containerPosition={x:a.left,y:a.top}}},e.onMouseDown=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(t.getMousePoint(a)))},e.onMouseMove=function(a){return e.onDrag(t.getMousePoint(a))},e.onScroll=function(a){e.currentDoc&&(a.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(a){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(a))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),a.touches.length===2?e.onPinchStart(a):a.touches.length===1&&e.onDragStart(t.getTouchPoint(a.touches[0]))))},e.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?e.onPinchMove(a):a.touches.length===1&&e.onDrag(t.getTouchPoint(a.touches[0]))},e.onGestureStart=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(a){if(a.preventDefault(),!e.isTouching){var o=t.getMousePoint(a),u=e.gestureZoomStart-1+a.scale;if(e.setNewZoom(u,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var h=e.gestureRotationStart+a.rotation;e.props.onRotationChange(h)}}},e.onGestureEnd=function(a){e.cleanEvents()},e.onDragStart=function(a){var o,u,h=a.x,d=a.y;e.dragStartPosition={x:h,y:d},e.dragStartCrop=ze({},e.props.crop),(u=(o=e.props).onInteractionStart)===null||u===void 0||u.call(o)},e.onDrag=function(a){var o=a.x,u=a.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(o===void 0||u===void 0)){var h=o-e.dragStartPosition.x,d=u-e.dragStartPosition.y,m={x:e.dragStartCrop.x+h,y:e.dragStartCrop.y+d},g=e.props.restrictPosition?ql(m,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):m;e.props.onCropChange(g)}}))},e.onDragStopped=function(){var a,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(a=e.props).onInteractionEnd)===null||o===void 0||o.call(a)},e.onWheel=function(a){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(a))){a.preventDefault();var o=t.getMousePoint(a),u=_M(a).pixelY,h=e.props.zoom-u*e.props.zoomSpeed/200;e.setNewZoom(h,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var d,m;return(m=(d=e.props).onInteractionStart)===null||m===void 0?void 0:m.call(d)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var d,m;return(m=(d=e.props).onInteractionEnd)===null||m===void 0?void 0:m.call(d)})},250)}},e.getPointOnContainer=function(a,o){var u=a.x,h=a.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(u-o.x),y:e.containerRect.height/2-(h-o.y)}},e.getPointOnMedia=function(a){var o=a.x,u=a.y,h=e.props,d=h.crop,m=h.zoom;return{x:(o+d.x)/m,y:(u+d.y)/m}},e.setNewZoom=function(a,o,u){var h=u===void 0?{}:u,d=h.shouldUpdatePosition,m=d===void 0?!0:d;if(!(!e.state.cropSize||!e.props.onZoomChange)){var g=mf(a,e.props.minZoom,e.props.maxZoom);if(m){var _=e.getPointOnContainer(o,e.containerPosition),b=e.getPointOnMedia(_),S={x:b.x*g-_.x,y:b.y*g-_.y},x=e.props.restrictPosition?ql(S,e.mediaSize,e.state.cropSize,g,e.props.rotation):S;e.props.onCropChange(x)}e.props.onZoomChange(g)}},e.getCropData=function(){if(!e.state.cropSize)return null;var a=e.props.restrictPosition?ql(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return TM(a,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var a=e.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,u),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,u)}},e.emitCropAreaChange=function(){var a=e.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,u)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var a=e.props.restrictPosition?ql(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(a),e.emitCropData()}},e.onKeyDown=function(a){var o,u,h=e.props,d=h.crop,m=h.onCropChange,g=h.keyboardStep,_=h.zoom,b=h.rotation,S=g;if(e.state.cropSize){a.shiftKey&&(S*=.2);var x=ze({},d);switch(a.key){case"ArrowUp":x.y-=S,a.preventDefault();break;case"ArrowDown":x.y+=S,a.preventDefault();break;case"ArrowLeft":x.x-=S,a.preventDefault();break;case"ArrowRight":x.x+=S,a.preventDefault();break;default:return}e.props.restrictPosition&&(x=ql(x,e.mediaSize,e.state.cropSize,_,b)),a.repeat||(u=(o=e.props).onInteractionStart)===null||u===void 0||u.call(o),m(x)}},e.onKeyUp=function(a){var o,u;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}e.emitCropData(),(u=(o=e.props).onInteractionEnd)===null||u===void 0||u.call(o)},e}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=IM,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var a,o,u,h,d,m,g,_,b;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((a=e.cropSize)===null||a===void 0?void 0:a.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((u=e.cropSize)===null||u===void 0?void 0:u.width)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.width)?this.computeSizes():(((d=e.crop)===null||d===void 0?void 0:d.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((g=e.crop)===null||g===void 0?void 0:g.y)!==((_=this.props.crop)===null||_===void 0?void 0:_.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((b=this.videoRef.current)===null||b===void 0||b.load());var S=this.getObjectFit();S!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:S},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,a=e.cropSize,o=e.aspect;return a?a.width/a.height:o},t.prototype.getObjectFit=function(){var e,a,o,u;if(this.props.objectFit==="cover"){var h=this.imageRef.current||this.videoRef.current;if(h&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,m=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,g=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((u=this.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,_=m/g;return _<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var a=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=$E(a,o),this.lastPinchRotation=KE(a,o),this.onDragStart(QE(a,o))},t.prototype.onPinchMove=function(e){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(e.touches[0]),u=t.getTouchPoint(e.touches[1]),h=QE(o,u);this.onDrag(h),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=$E(o,u),m=a.props.zoom*(d/a.lastPinchDistance);a.setNewZoom(m,h,{shouldUpdatePosition:!1}),a.lastPinchDistance=d;var g=KE(o,u),_=a.props.rotation+(g-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(_),a.lastPinchRotation=g})}},t.prototype.render=function(){var e=this,a,o=this.props,u=o.image,h=o.video,d=o.mediaProps,m=o.cropperProps,g=o.transform,_=o.crop,b=_.x,S=_.y,x=o.rotation,O=o.zoom,q=o.cropShape,k=o.showGrid,H=o.style,Q=H.containerStyle,B=H.cropAreaStyle,et=H.mediaStyle,rt=o.classes,lt=rt.containerClassName,I=rt.cropAreaClassName,A=rt.mediaClassName,R=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return e.containerRef=M},"data-testid":"container",style:Q,className:ah("reactEasyCrop_Container",lt)},u?L.createElement("img",ze({alt:"",className:ah("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},d,{src:u,ref:this.imageRef,style:ze(ze({},et),{transform:g||"translate(".concat(b,"px, ").concat(S,"px) rotate(").concat(x,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):h&&L.createElement("video",ze({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ah("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ze(ze({},et),{transform:g||"translate(".concat(b,"px, ").concat(S,"px) rotate(").concat(x,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(h)?h:[{src:h}]).map(function(C){return L.createElement("source",ze({key:C.src},C))})),this.state.cropSize&&L.createElement("div",ze({ref:this.cropperRef,style:ze(ze({},B),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ah("reactEasyCrop_CropArea",q==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",I)},m)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:xM,minZoom:DM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:NM},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(L.Component);function Mg(r,t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const a=e.getContext("2d");return new Promise((o,u)=>{const h=new Image;h.crossOrigin="anonymous",h.src=r,h.onload=()=>{a.drawImage(h,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const d=e.toDataURL("image/jpeg");o(d)},h.onerror=d=>u(d)})}function Qw(r){var t,e,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(e=Qw(r[t]))&&(a&&(a+=" "),a+=e)}else for(e in r)r[e]&&(a&&(a+=" "),a+=e);return a}function Ya(){for(var r,t,e=0,a="",o=arguments.length;e<o;e++)(r=arguments[e])&&(t=Qw(r))&&(a&&(a+=" "),a+=t);return a}function OM(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}OM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ru=r=>typeof r=="number"&&!isNaN(r),rs=r=>typeof r=="string",ui=r=>typeof r=="function",MM=r=>rs(r)||Ru(r),Em=r=>rs(r)||ui(r)?r:null,kM=(r,t)=>r===!1||Ru(r)&&r>0?r:t,Tm=r=>L.isValidElement(r)||rs(r)||ui(r)||Ru(r);function PM(r,t,e=300){let{scrollHeight:a,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${e}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,e)})})}function VM({enter:r,exit:t,appendPosition:e=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:d,done:m,nodeRef:g,isIn:_,playToast:b}){let S=e?`${r}--${h}`:r,x=e?`${t}--${h}`:t,O=L.useRef(0);return L.useLayoutEffect(()=>{let q=g.current,k=S.split(" "),H=Q=>{Q.target===g.current&&(b(),q.removeEventListener("animationend",H),q.removeEventListener("animationcancel",H),O.current===0&&Q.type!=="animationcancel"&&q.classList.remove(...k))};q.classList.add(...k),q.addEventListener("animationend",H),q.addEventListener("animationcancel",H)},[]),L.useEffect(()=>{let q=g.current,k=()=>{q.removeEventListener("animationend",k),a?PM(q,m,o):m()};_||(d?k():(O.current=1,q.className+=` ${x}`,q.addEventListener("animationend",k)))},[_]),Ft.createElement(Ft.Fragment,null,u)}}function YE(r,t){return{content:Yw(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function Yw(r,t,e=!1){return L.isValidElement(r)&&!rs(r.type)?L.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ui(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):r}function LM({closeToast:r,theme:t,ariaLabel:e="close"}){return Ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":e},Ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function UM({delay:r,isRunning:t,closeToast:e,type:a="default",hide:o,className:u,controlledProgress:h,progress:d,rtl:m,isIn:g,theme:_}){let b=o||h&&d===0,S={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};h&&(S.transform=`scaleX(${d})`);let x=Ya("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":m}),O=ui(u)?u({rtl:m,type:a,defaultClassName:x}):Ya(x,u),q={[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{g&&e()}};return Ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${a}`}),Ft.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:O,style:S,...q}))}var zM=1,Xw=()=>`${zM++}`;function BM(r,t,e){let a=1,o=0,u=[],h=[],d=t,m=new Map,g=new Set,_=Q=>(g.add(Q),()=>g.delete(Q)),b=()=>{h=Array.from(m.values()),g.forEach(Q=>Q())},S=({containerId:Q,toastId:B,updateId:et})=>{let rt=Q?Q!==r:r!==1,lt=m.has(B)&&et==null;return rt||lt},x=(Q,B)=>{m.forEach(et=>{var rt;(B==null||B===et.props.toastId)&&((rt=et.toggle)==null||rt.call(et,Q))})},O=Q=>{var B,et;(et=(B=Q.props)==null?void 0:B.onClose)==null||et.call(B,Q.removalReason),Q.isActive=!1},q=Q=>{if(Q==null)m.forEach(O);else{let B=m.get(Q);B&&O(B)}b()},k=()=>{o-=u.length,u=[]},H=Q=>{var B,et;let{toastId:rt,updateId:lt}=Q.props,I=lt==null;Q.staleId&&m.delete(Q.staleId),Q.isActive=!0,m.set(rt,Q),b(),e(YE(Q,I?"added":"updated")),I&&((et=(B=Q.props).onOpen)==null||et.call(B))};return{id:r,props:d,observe:_,toggle:x,removeToast:q,toasts:m,clearQueue:k,buildToast:(Q,B)=>{if(S(B))return;let{toastId:et,updateId:rt,data:lt,staleId:I,delay:A}=B,R=rt==null;R&&o++;let C={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(B).filter(([z,D])=>D!=null)),toastId:et,updateId:rt,data:lt,isIn:!1,className:Em(B.className||d.toastClassName),progressClassName:Em(B.progressClassName||d.progressClassName),autoClose:B.isLoading?!1:kM(B.autoClose,d.autoClose),closeToast(z){m.get(et).removalReason=z,q(et)},deleteToast(){let z=m.get(et);if(z!=null){if(e(YE(z,"removed")),m.delete(et),o--,o<0&&(o=0),u.length>0){H(u.shift());return}b()}}};C.closeButton=d.closeButton,B.closeButton===!1||Tm(B.closeButton)?C.closeButton=B.closeButton:B.closeButton===!0&&(C.closeButton=Tm(d.closeButton)?d.closeButton:!0);let M={content:Q,props:C,staleId:I};d.limit&&d.limit>0&&o>d.limit&&R?u.push(M):Ru(A)?setTimeout(()=>{H(M)},A):H(M)},setProps(Q){d=Q},setToggle:(Q,B)=>{let et=m.get(Q);et&&(et.toggle=B)},isToastActive:Q=>{var B;return(B=m.get(Q))==null?void 0:B.isActive},getSnapshot:()=>h}}var on=new Map,cu=[],bm=new Set,jM=r=>bm.forEach(t=>t(r)),Ww=()=>on.size>0;function qM(){cu.forEach(r=>Jw(r.content,r.options)),cu=[]}var HM=(r,{containerId:t})=>{var e;return(e=on.get(t||1))==null?void 0:e.toasts.get(r)};function Zw(r,t){var e;if(t)return!!((e=on.get(t))!=null&&e.isToastActive(r));let a=!1;return on.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function FM(r){if(!Ww()){cu=cu.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||MM(r))on.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=on.get(r.containerId);t?t.removeToast(r.id):on.forEach(e=>{e.removeToast(r.id)})}}var GM=(r={})=>{on.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function Jw(r,t){Tm(r)&&(Ww()||cu.push({content:r,options:t}),on.forEach(e=>{e.buildToast(r,t)}))}function $M(r){var t;(t=on.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function tS(r,t){on.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(r,t==null?void 0:t.id)})}function KM(r){let t=r.containerId||1;return{subscribe(e){let a=BM(t,r,jM);on.set(t,a);let o=a.observe(e);return qM(),()=>{o(),on.delete(t)}},setProps(e){var a;(a=on.get(t))==null||a.setProps(e)},getSnapshot(){var e;return(e=on.get(t))==null?void 0:e.getSnapshot()}}}function QM(r){return bm.add(r),()=>{bm.delete(r)}}function YM(r){return r&&(rs(r.toastId)||Ru(r.toastId))?r.toastId:Xw()}function Cu(r,t){return Jw(r,t),t.toastId}function gf(r,t){return{...t,type:t&&t.type||r,toastId:YM(t)}}function yf(r){return(t,e)=>Cu(t,gf(r,e))}function yt(r,t){return Cu(r,gf("default",t))}yt.loading=(r,t)=>Cu(r,gf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function XM(r,{pending:t,error:e,success:a},o){let u;t&&(u=rs(t)?yt.loading(t,o):yt.loading(t.render,{...o,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,b)=>{if(_==null){yt.dismiss(u);return}let S={type:g,...h,...o,data:b},x=rs(_)?{render:_}:_;return u?yt.update(u,{...S,...x}):yt(x.render,{...S,...x}),b},m=ui(r)?r():r;return m.then(g=>d("success",a,g)).catch(g=>d("error",e,g)),m}yt.promise=XM;yt.success=yf("success");yt.info=yf("info");yt.error=yf("error");yt.warning=yf("warning");yt.warn=yt.warning;yt.dark=(r,t)=>Cu(r,gf("default",{theme:"dark",...t}));function WM(r){FM(r)}yt.dismiss=WM;yt.clearWaitingQueue=GM;yt.isActive=Zw;yt.update=(r,t={})=>{let e=HM(r,t);if(e){let{props:a,content:o}=e,u={delay:100,...a,...t,toastId:t.toastId||r,updateId:Xw()};u.toastId!==r&&(u.staleId=r);let h=u.render||o;delete u.render,Cu(h,u)}};yt.done=r=>{yt.update(r,{progress:1})};yt.onChange=QM;yt.play=r=>tS(!0,r);yt.pause=r=>tS(!1,r);function ZM(r){var t;let{subscribe:e,getSnapshot:a,setProps:o}=L.useRef(KM(r)).current;o(r);let u=(t=L.useSyncExternalStore(e,a,a))==null?void 0:t.slice();function h(d){if(!u)return[];let m=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:_}=g.props;m.has(_)||m.set(_,[]),m.get(_).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:h,isToastActive:Zw,count:u==null?void 0:u.length}}function JM(r){let[t,e]=L.useState(!1),[a,o]=L.useState(!1),u=L.useRef(null),h=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:_,closeOnClick:b}=r;$M({id:r.toastId,containerId:r.containerId,fn:e}),L.useEffect(()=>{if(r.pauseOnFocusLoss)return S(),()=>{x()}},[r.pauseOnFocusLoss]);function S(){document.hasFocus()||H(),window.addEventListener("focus",k),window.addEventListener("blur",H)}function x(){window.removeEventListener("focus",k),window.removeEventListener("blur",H)}function O(I){if(r.draggable===!0||r.draggable===I.pointerType){Q();let A=u.current;h.canCloseOnClick=!0,h.canDrag=!0,A.style.transition="none",r.draggableDirection==="x"?(h.start=I.clientX,h.removalDistance=A.offsetWidth*(r.draggablePercent/100)):(h.start=I.clientY,h.removalDistance=A.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function q(I){let{top:A,bottom:R,left:C,right:M}=u.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&r.pauseOnHover&&I.clientX>=C&&I.clientX<=M&&I.clientY>=A&&I.clientY<=R?H():k()}function k(){e(!0)}function H(){e(!1)}function Q(){h.didMove=!1,document.addEventListener("pointermove",et),document.addEventListener("pointerup",rt)}function B(){document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",rt)}function et(I){let A=u.current;if(h.canDrag&&A){h.didMove=!0,t&&H(),r.draggableDirection==="x"?h.delta=I.clientX-h.start:h.delta=I.clientY-h.start,h.start!==I.clientX&&(h.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function rt(){B();let I=u.current;if(h.canDrag&&h.didMove&&I){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let lt={onPointerDown:O,onPointerUp:q};return d&&m&&(lt.onMouseEnter=H,r.stacked||(lt.onMouseLeave=k)),b&&(lt.onClick=I=>{_&&_(I),h.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:H,isRunning:t,preventExitTransition:a,toastRef:u,eventHandlers:lt}}var tk=typeof window<"u"?L.useLayoutEffect:L.useEffect,_f=({theme:r,type:t,isLoading:e,...a})=>Ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function ek(r){return Ft.createElement(_f,{...r},Ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function nk(r){return Ft.createElement(_f,{...r},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function rk(r){return Ft.createElement(_f,{...r},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ik(r){return Ft.createElement(_f,{...r},Ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ak(){return Ft.createElement("div",{className:"Toastify__spinner"})}var wm={info:nk,warning:ek,success:rk,error:ik,spinner:ak},sk=r=>r in wm;function ok({theme:r,type:t,isLoading:e,icon:a}){let o=null,u={theme:r,type:t};return a===!1||(ui(a)?o=a({...u,isLoading:e}):L.isValidElement(a)?o=L.cloneElement(a,u):e?o=wm.spinner():sk(t)&&(o=wm[t](u))),o}var lk=r=>{let{isRunning:t,preventExitTransition:e,toastRef:a,eventHandlers:o,playToast:u}=JM(r),{closeButton:h,children:d,autoClose:m,onClick:g,type:_,hideProgressBar:b,closeToast:S,transition:x,position:O,className:q,style:k,progressClassName:H,updateId:Q,role:B,progress:et,rtl:rt,toastId:lt,deleteToast:I,isIn:A,isLoading:R,closeOnClick:C,theme:M,ariaLabel:z}=r,D=Ya("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":rt},{"Toastify__toast--close-on-click":C}),ae=ui(q)?q({rtl:rt,position:O,type:_,defaultClassName:D}):Ya(D,q),ft=ok(r),$=!!et||!m,st={closeToast:S,type:_,theme:M},dt=null;return h===!1||(ui(h)?dt=h(st):L.isValidElement(h)?dt=L.cloneElement(h,st):dt=LM(st)),Ft.createElement(x,{isIn:A,done:I,position:O,preventExitTransition:e,nodeRef:a,playToast:u},Ft.createElement("div",{id:lt,tabIndex:0,onClick:g,"data-in":A,className:ae,...o,style:k,ref:a,...A&&{role:B,"aria-label":z}},ft!=null&&Ft.createElement("div",{className:Ya("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ft),Yw(d,r,!t),dt,!r.customProgressBar&&Ft.createElement(UM,{...Q&&!$?{key:`p-${Q}`}:{},rtl:rt,theme:M,delay:m,isRunning:t,isIn:A,closeToast:S,hide:b,type:_,className:H,controlledProgress:$,progress:et||0})))},uk=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),ck=VM(uk("bounce",!0)),hk={position:"top-right",transition:ck,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function kg(r){let t={...hk,...r},e=r.stacked,[a,o]=L.useState(!0),u=L.useRef(null),{getToastToRender:h,isToastActive:d,count:m}=ZM(t),{className:g,style:_,rtl:b,containerId:S,hotKeys:x}=t;function O(k){let H=Ya("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":b});return ui(g)?g({position:k,rtl:b,defaultClassName:H}):Ya(H,Em(g))}function q(){e&&(o(!0),yt.play())}return tk(()=>{var k;if(e){let H=u.current.querySelectorAll('[data-in="true"]'),Q=12,B=(k=t.position)==null?void 0:k.includes("top"),et=0,rt=0;Array.from(H).reverse().forEach((lt,I)=>{let A=lt;A.classList.add("Toastify__toast--stacked"),I>0&&(A.dataset.collapsed=`${a}`),A.dataset.pos||(A.dataset.pos=B?"top":"bot");let R=et*(a?.2:1)+(a?0:Q*I);A.style.setProperty("--y",`${B?R:R*-1}px`),A.style.setProperty("--g",`${Q}`),A.style.setProperty("--s",`${1-(a?rt:0)}`),et+=A.offsetHeight,rt+=.025})}},[a,m,e]),L.useEffect(()=>{function k(H){var Q;let B=u.current;x(H)&&((Q=B.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),yt.pause()),H.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(o(!0),yt.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[x]),Ft.createElement("section",{ref:u,className:"Toastify",id:S,onMouseEnter:()=>{e&&(o(!1),yt.pause())},onMouseLeave:q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((k,H)=>{let Q=H.length?{..._}:{..._,pointerEvents:"none"};return Ft.createElement("div",{tabIndex:-1,className:O(k),"data-stacked":e,style:Q,key:`c-${k}`},H.map(({content:B,props:et})=>Ft.createElement(lk,{...et,stacked:e,collapseAll:q,isIn:d(et.toastId,et.containerId),key:`t-${et.key}`},B)))}))}const fk="_backdrop_ekd9p_1",dk="_modal_ekd9p_29",pk="_modalHeader_ekd9p_67",mk="_closeButton_ekd9p_93",gk="_fileInputLabel_ekd9p_161",yk="_fileInput_ekd9p_161",_k="_preview_ekd9p_211",vk="_formGrid_ekd9p_227",Ek="_formColumn_ekd9p_239",Tk="_genrePickerContainer_ekd9p_251",bk="_genreButton_ekd9p_273",wk="_selected_ekd9p_303",Sk="_buttons_ekd9p_317",Ak="_buttonGroupEnd_ekd9p_333",Rk="_saveButton_ekd9p_369",Ck="_deleteButton_ekd9p_379",Ik="_cancelButton_ekd9p_389",Dk="_cropContainer_ekd9p_409",xk="_cropActions_ekd9p_425",Nk="_confirmToast_ekd9p_477",Ok="_confirmToastButtons_ekd9p_499",Mk="_confirmButton_ekd9p_585",Rt={backdrop:fk,modal:dk,modalHeader:pk,closeButton:mk,fileInputLabel:gk,fileInput:yk,preview:_k,formGrid:vk,formColumn:Ek,genrePickerContainer:Tk,genreButton:bk,selected:wk,buttons:Sk,buttonGroupEnd:Ak,saveButton:Rk,deleteButton:Ck,cancelButton:Ik,cropContainer:Dk,cropActions:xk,confirmToast:Nk,confirmToastButtons:Ok,confirmButton:Mk},eS=["Ao","Animao","Aventura","Biografia","Comdia","Crime","Documentrio","Sobrenatural","Drama","Fantasia","Sci-fi","Guerra","Histrico","Infantil","Mistrio","Musical","Psicolgico","Biogrfico","Romance","Suspense","Terror"],XE={capa:"",titulo:"",tipo:"Filme",progresso:"",dataInclusao:"",genero:[],comentario:"",nota:""},kk=({onConfirm:r})=>{const t="confirm-close-toast",e=()=>{r(),yt.dismiss(t)},a=()=>{yt.dismiss(t)};return P.jsxs("div",{className:Rt.confirmToast,children:[P.jsx("p",{children:"Voc tem alteraes no salvas. Deseja realmente fechar?"}),P.jsxs("div",{className:Rt.confirmToastButtons,children:[P.jsx("button",{className:Rt.cancelButton,onClick:a,children:"No"}),P.jsx("button",{className:Rt.confirmButton,onClick:e,children:"Sim"})]})]})};function Pk({onClose:r,onSuccess:t}){const[e,a]=L.useState(XE),o=L.useRef(null),u=L.useRef(),h=new Date().toISOString().split("T")[0],[d,m]=L.useState(!1),[g,_]=L.useState(null),[b,S]=L.useState({x:0,y:0}),[x,O]=L.useState(1),[q,k]=L.useState(null),H=()=>{JSON.stringify(e)!==JSON.stringify(XE)?yt(P.jsx(kk,{onConfirm:r}),{position:"top-center",autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,toastId:"confirm-close-toast"}):r()},Q=R=>{R.target===u.current&&H()},B=R=>{const C=R.target.files[0];C&&(_(URL.createObjectURL(C)),m(!0))},et=L.useCallback((R,C)=>{k(C)},[]),rt=async()=>{try{const R=await Mg(g,q);a(C=>({...C,capa:R})),m(!1)}catch(R){console.error(R)}},lt=R=>{const{name:C,value:M}=R.target;a(z=>({...z,[C]:M}))},I=R=>{a(C=>{const M=C.genero||[],z=M.includes(R)?M.filter(D=>D!==R):[...M,R];return{...C,genero:z}})},A=async R=>{if(R.preventDefault(),!e.capa){yt.error("Por favor, faa upload da capa antes de salvar.");return}const C={titulo:e.titulo,tipo:e.tipo,progresso:e.progresso,dataInclusao:e.dataInclusao||Bh(),genero:e.genero||[],comentario:e.comentario,nota:e.nota===""?0:Number(e.nota),capa:e.capa,createdAt:Bh()};try{const M=gr.currentUser.uid,z=Nw(Tr,"Usuarios",M,"midias"),D=await AO(z,C);yt.success("Mdia adicionada com sucesso!"),t({id:D.id,...C}),r()}catch(M){yt.error("Erro ao adicionar mdia: "+M.message)}};return P.jsx("div",{ref:u,className:Rt.backdrop,onClick:Q,children:P.jsxs("div",{className:Rt.modal,children:[P.jsxs("div",{className:Rt.modalHeader,children:[P.jsx("h2",{children:"Adicionar Mdia"}),P.jsx("button",{className:Rt.closeButton,onClick:H,"aria-label":"Fechar",children:""})]}),d&&g?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:Rt.cropContainer,children:P.jsx(Og,{image:g,crop:b,zoom:x,aspect:2/3,onCropChange:S,onZoomChange:O,onCropComplete:et})}),P.jsxs("div",{className:Rt.cropActions,children:[P.jsx("button",{type:"button",onClick:()=>m(!1),children:"Cancelar"}),P.jsx("button",{type:"button",onClick:rt,children:"Aplicar Corte"})]})]}):P.jsxs("form",{onSubmit:A,children:[P.jsxs("div",{className:Rt.formGrid,children:[P.jsxs("div",{className:Rt.formColumn,children:[P.jsxs("label",{className:Rt.fileInputLabel,children:[e.capa?"Alterar Capa":"Upload da Capa",P.jsx("input",{name:"capa",type:"file",accept:"image/*",onChange:B,className:Rt.fileInput})]}),e.capa&&P.jsx("img",{src:e.capa,alt:"Preview Capa",className:Rt.preview}),P.jsx("input",{name:"titulo",placeholder:"Ttulo",value:e.titulo,onChange:lt,required:!0}),P.jsx("select",{name:"tipo",value:e.tipo,onChange:lt,children:["Filme","Srie","Anime","Livro","Mang","Manhwa","Light Novel"].map(R=>P.jsx("option",{children:R},R))}),P.jsx("input",{name:"progresso",placeholder:"Progresso",value:e.progresso,onChange:lt}),P.jsx("input",{name:"dataInclusao",type:"date",value:e.dataInclusao,min:"1800-01-01",max:h,onChange:lt})]}),P.jsxs("div",{className:Rt.formColumn,children:[P.jsx("div",{className:Rt.genrePickerContainer,children:eS.map(R=>P.jsx("button",{type:"button",className:`${Rt.genreButton} ${e.genero.includes(R)?Rt.selected:""}`,onClick:()=>I(R),children:R},R))}),P.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,ref:o,value:e.comentario,onChange:lt}),P.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota (05)",value:e.nota,onChange:lt})]})]}),P.jsxs("div",{className:Rt.buttons,children:[P.jsx("button",{type:"button",onClick:H,className:Rt.cancelButton,children:"Cancelar"}),P.jsx("button",{type:"submit",className:Rt.saveButton,children:"Salvar"})]})]})]})})}const vf={position:"top-left",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,theme:"dark",closeOnClick:!0,pauseOnHover:!0,draggable:!0};function nS(r,t,e){yt.info(P.jsxs("div",{children:[P.jsx("div",{children:r}),P.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[P.jsx("button",{onClick:()=>{t(),yt.dismiss()},style:{background:"#e74c3c",color:"#fff",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Sim"}),P.jsx("button",{onClick:()=>{e==null||e(),yt.dismiss()},style:{background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"No"})]})]}),{...vf,icon:!1,autoClose:!1,closeOnClick:!1,draggable:!1})}const WE=r=>r?{...r,genero:Array.isArray(r.genero)?r.genero:[]}:{genero:[]},Vk=({onConfirm:r})=>{const t="confirm-close-toast",e=()=>{r(),yt.dismiss(t)},a=()=>{yt.dismiss(t)};return P.jsxs("div",{className:Rt.confirmToast,children:[P.jsx("p",{children:"Voc tem alteraes no salvas. Deseja realmente fechar?"}),P.jsxs("div",{className:Rt.confirmToastButtons,children:[P.jsx("button",{className:Rt.cancelButton,onClick:a,children:"No"}),P.jsx("button",{className:Rt.confirmButton,onClick:e,children:"Sim"})]})]})};function Lk({media:r,onClose:t,onSuccess:e}){const[a,o]=L.useState(()=>WE(r)),[u,h]=L.useState(a),d=L.useRef(),[m,g]=L.useState(!1),[_,b]=L.useState(null),[S,x]=L.useState({x:0,y:0}),[O,q]=L.useState(1),[k,H]=L.useState(null),[Q,B]=L.useState(!1),et=new Date().toISOString().split("T")[0];L.useEffect(()=>{const ft=WE(r);o(ft),h(ft)},[r]);const rt=()=>{JSON.stringify(u)!==JSON.stringify(a)?yt(P.jsx(Vk,{onConfirm:t}),{position:"top-center",autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,toastId:"confirm-close-toast"}):t()},lt=ft=>{ft.target===d.current&&rt()},I=L.useCallback((ft,$)=>{H($)},[]),A=async()=>{const ft=await Mg(_,k);h($=>({...$,capa:ft})),g(!1)},R=ft=>{const $=ft.target.files[0];$&&(b(URL.createObjectURL($)),g(!0))},C=ft=>{const{name:$,value:st}=ft.target;h(dt=>({...dt,[$]:st}))},M=ft=>{h($=>{const st=$.genero||[],dt=st.includes(ft)?st.filter(Dt=>Dt!==ft):[...st,ft];return{...$,genero:dt}})},z=async()=>{try{const ft=gr.currentUser.uid,$=ri(Tr,"Usuarios",ft,"midias",r.id);B(!0),await Fw($),yt.success("Mdia excluda com sucesso!"),e(null)}catch{yt.error("Ocorreu um erro ao excluir. Tente novamente.")}},D=()=>{nS("Tem certeza que deseja excluir esta mdia?",z,()=>{})},ae=async ft=>{if(ft.preventDefault(),Q)return;const $={titulo:u.titulo,tipo:u.tipo,progresso:u.progresso,dataInclusao:u.dataInclusao||Bh(),genero:u.genero||[],comentario:u.comentario,nota:Number(u.nota),capa:u.capa,updatedAt:Bh()};try{const st=gr.currentUser.uid,dt=ri(Tr,"Usuarios",st,"midias",r.id);await Hw(dt,$),yt.success("Mdia atualizada com sucesso!"),e({id:r.id,...$}),t()}catch(st){yt.error("Erro ao atualizar mdia: "+st.message)}};return P.jsx("div",{ref:d,className:Rt.backdrop,onClick:lt,children:P.jsxs("div",{className:Rt.modal,children:[P.jsxs("div",{className:Rt.modalHeader,children:[P.jsx("h2",{children:"Editar Mdia"}),P.jsx("button",{className:Rt.closeButton,onClick:rt,"aria-label":"Fechar",children:""})]}),m&&_?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:Rt.cropContainer,children:P.jsx(Og,{image:_,crop:S,zoom:O,aspect:2/3,onCropChange:x,onZoomChange:q,onCropComplete:I,showGrid:!1})}),P.jsxs("div",{className:Rt.cropActions,children:[P.jsx("button",{type:"button",onClick:()=>g(!1),children:"Cancelar"}),P.jsx("button",{type:"button",onClick:A,children:"Aplicar Corte"})]})]}):P.jsxs("form",{onSubmit:ae,children:[P.jsxs("div",{className:Rt.formGrid,children:[P.jsxs("div",{className:Rt.formColumn,children:[P.jsxs("label",{className:Rt.fileInputLabel,children:["Upload da Capa",P.jsx("input",{type:"file",accept:"image/*",onChange:R,className:Rt.fileInput})]}),u.capa&&P.jsx("img",{src:u.capa,alt:"Preview",className:Rt.preview}),P.jsx("input",{name:"titulo",placeholder:"Ttulo",value:u.titulo,onChange:C,required:!0}),P.jsx("select",{name:"tipo",value:u.tipo,onChange:C,children:["Filme","Srie","Anime","Livro","Mang","Manhwa"].map(ft=>P.jsx("option",{children:ft},ft))}),P.jsx("input",{name:"progresso",placeholder:"Progresso",value:u.progresso,onChange:C}),P.jsx("input",{name:"dataInclusao",type:"date",min:"1800-01-01",max:et,value:u.dataInclusao,onChange:C})]}),P.jsxs("div",{className:Rt.formColumn,children:[P.jsx("div",{className:Rt.genrePickerContainer,children:eS.map(ft=>P.jsx("button",{type:"button",className:`${Rt.genreButton} ${u.genero.includes(ft)?Rt.selected:""}`,onClick:()=>M(ft),children:ft},ft))}),P.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,value:u.comentario,onChange:C,rows:4,style:{minHeight:"6rem",resize:"vertical"}}),P.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota",value:u.nota,onChange:C})]})]}),P.jsxs("div",{className:Rt.buttons,children:[P.jsx("button",{type:"button",onClick:rt,className:Rt.cancelButton,children:"Cancelar"}),P.jsxs("div",{className:Rt.buttonGroupEnd,children:[P.jsx("button",{type:"button",onClick:D,className:Rt.deleteButton,children:"Excluir"}),P.jsx("button",{type:"submit",className:Rt.saveButton,children:"Salvar"})]})]})]})]})})}const Uk="_backdrop_1n1kz_5",zk="_modal_1n1kz_31",Bk="_modalHeader_1n1kz_57",jk="_closeButton_1n1kz_81",qk="_tabs_1n1kz_99",Hk="_active_1n1kz_135",Fk="_fileInputLabel_1n1kz_157",Gk="_fileInput_1n1kz_157",$k="_previewCircle_1n1kz_207",Kk="_buttons_1n1kz_243",Qk="_deleteAccountButton_1n1kz_291",Yk="_saveButton_1n1kz_313",Xk="_cropContainer_1n1kz_333",Wk="_cropActions_1n1kz_349",Ue={backdrop:Uk,modal:zk,modalHeader:Bk,closeButton:jk,tabs:qk,active:Hk,fileInputLabel:Fk,fileInput:Gk,previewCircle:$k,buttons:Kk,deleteAccountButton:Qk,saveButton:Yk,cropContainer:Xk,cropActions:Wk};function Zk({onClose:r}){const t=L.useRef(),e=gr.currentUser,[a,o]=L.useState("profile"),[u,h]=L.useState({displayName:e.displayName||"",currentPassword:"",newPassword:"",confirmPassword:"",avatarBase64:"",email:e.email||""}),[d,m]=L.useState(null),[g,_]=L.useState(!1),[b,S]=L.useState({x:0,y:0}),[x,O]=L.useState(1),[q,k]=L.useState(null);L.useEffect(()=>{(async()=>{const M=ri(Tr,"Usuarios",e.uid),z=await xg(M);if(z.exists()){const D=z.data();h(ae=>({...ae,avatarBase64:D.avatarBase64||""}))}})()},[e.uid]);const H=C=>{C.target===t.current&&r()},Q=C=>{const M=C.target.files[0];M&&(m(URL.createObjectURL(M)),_(!0))},B=L.useCallback((C,M)=>{k(M)},[]),et=async()=>{const C=await Mg(d,q);h(M=>({...M,avatarBase64:C})),_(!1)},rt=C=>{const{name:M,value:z}=C.target;h(D=>({...D,[M]:z}))},lt=async()=>{try{await QI(e,{displayName:u.displayName});const C=ri(Tr,"Usuarios",e.uid);await Hw(C,{avatarBase64:u.avatarBase64,displayName:u.displayName}),yt.success("Perfil atualizado com sucesso!"),r(),setTimeout(()=>{window.location.reload()},500)}catch(C){yt.error("Erro ao atualizar perfil: "+C.message)}},I=async()=>{try{if(u.newPassword!==u.confirmPassword){yt.error("As senhas no coincidem");return}const C=as.credential(e.email,u.currentPassword);await HI(e,C),await YI(e,u.newPassword),h(M=>({...M,currentPassword:"",newPassword:"",confirmPassword:""})),yt.success("Senha atualizada com sucesso!"),r()}catch(C){yt.error("Erro ao atualizar senha: "+C.message)}},A=async()=>{try{await Fw(ri(Tr,"Usuarios",e.uid)),await t2(e),yt.success("Conta excluda com sucesso!"),r()}catch(C){yt.error("Erro ao excluir conta: "+C.message)}},R=()=>{nS("Tem certeza que deseja excluir sua conta?",A,()=>{})};return P.jsxs(P.Fragment,{children:[P.jsx("div",{ref:t,className:Ue.backdrop,onClick:H,children:P.jsxs("div",{className:Ue.modal,children:[P.jsxs("div",{className:Ue.modalHeader,children:[P.jsx("h2",{children:"Configuraes"}),P.jsx("button",{className:Ue.closeButton,onClick:r,children:""})]}),P.jsxs("div",{className:Ue.tabs,children:[P.jsx("button",{className:a==="profile"?Ue.active:"",onClick:()=>o("profile"),children:"Editar Usurio"}),P.jsx("button",{className:a==="security"?Ue.active:"",onClick:()=>o("security"),children:"Segurana"}),P.jsx("button",{className:a==="account"?Ue.active:"",onClick:()=>o("account"),children:"Conta"})]}),g&&d?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:Ue.cropContainer,children:P.jsx(Og,{image:d,crop:b,zoom:x,aspect:1,onCropChange:S,onZoomChange:O,onCropComplete:B,showGrid:!1})}),P.jsxs("div",{className:Ue.cropActions,children:[P.jsx("button",{type:"button",onClick:()=>_(!1),children:"Cancelar"}),P.jsx("button",{type:"button",onClick:et,children:"Salvar Foto"})]})]}):a==="profile"?P.jsxs("form",{onSubmit:C=>C.preventDefault(),children:[P.jsxs("label",{className:Ue.fileInputLabel,children:[u.avatarBase64?"Alterar Foto":"Upload da Foto",P.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:Ue.fileInput})]}),u.avatarBase64&&P.jsx("img",{src:u.avatarBase64,alt:"Preview",className:Ue.previewCircle}),P.jsx("input",{name:"displayName",placeholder:"Nome de Usurio",value:u.displayName,onChange:rt}),P.jsxs("div",{className:Ue.buttons,children:[P.jsx("button",{type:"button",onClick:r,children:"Cancelar"}),P.jsx("button",{type:"button",className:Ue.saveButton,onClick:lt,children:"Salvar"})]})]}):a==="security"?P.jsxs("form",{onSubmit:C=>C.preventDefault(),children:[P.jsx("input",{type:"password",name:"currentPassword",placeholder:"Senha Atual",value:u.currentPassword,onChange:rt}),P.jsx("input",{type:"password",name:"newPassword",placeholder:"Nova Senha",value:u.newPassword,onChange:rt}),P.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirmar Nova Senha",value:u.confirmPassword,onChange:rt}),P.jsxs("div",{className:Ue.buttons,children:[P.jsx("button",{type:"button",onClick:r,children:"Cancelar"}),P.jsx("button",{type:"button",className:Ue.saveButton,onClick:I,children:"Salvar Alteraes"})]})]}):P.jsx("form",{onSubmit:C=>C.preventDefault(),children:P.jsx("button",{type:"button",className:Ue.deleteAccountButton,onClick:R,children:"Excluir Conta"})})]})}),P.jsx(kg,{...vf})]})}const Jk="_container_14itr_21",tP="_mainContent_14itr_191",ZE={container:Jk,mainContent:tP},sh=(r="")=>r.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");function eP(){const[r,t]=L.useState(null),[e,a]=L.useState(!0),[o,u]=L.useState([]),[h,d]=L.useState(null),[m,g]=L.useState(!0),[_,b]=L.useState(!1),[S,x]=L.useState(!1),[O,q]=L.useState(null),[k,H]=L.useState(!1),[Q,B]=L.useState(!1),et=fu(),rt=L.useRef(!0),[lt,I]=L.useState("");L.useEffect(()=>{const ft=JI(gr,$=>{$?t($):et("/login",{replace:!0}),a(!1)});return()=>ft()},[et]);const A=r&&Nw(Tr,"Usuarios",r.uid,"midias"),R=async()=>{if(!A)return;let ft=OE(A,ME("dataInclusao","desc"),kE(20));h&&(ft=OE(A,ME("dataInclusao","desc"),_O(h),kE(20)));const $=await wO(ft),st=$.docs.map(Dt=>({id:Dt.id,...Dt.data()}));rt.current&&(st.length===0?yt.info("Bem-vindo(a)! Seu acervo est vazio  adicione algo incrvel clicando no +"):r.displayName?yt.success(`Bem-vindo de volta, ${r.displayName}!`):yt.success("Bem-vindo de volta!"),rt.current=!1),u(Dt=>{const V=new Set(Dt.map(ct=>ct.id)),at=st.filter(ct=>!V.has(ct.id));return[...Dt,...at]});const dt=$.docs[$.docs.length-1];d(dt),g($.docs.length===20)};L.useEffect(()=>{!e&&r&&(u([]),d(null),g(!0),R())},[e,r]);const C=ft=>{u($=>[ft,...$])},M=ft=>{q(ft)},z=()=>{if(!O){yt.error("Selecione uma mdia");return}x(!0)},D=ft=>{ft===null?(u($=>$.filter(st=>st.id!==(O==null?void 0:O.id))),q(null),x(!1)):(u($=>$.map(st=>st.id===ft.id?ft:st)),x(!1))},ae=L.useMemo(()=>{if(!lt)return o;const ft=sh(lt);return o.filter($=>{const st=sh($.titulo).includes(ft),dt=sh($.tipo).includes(ft),Dt=Array.isArray($.genero)&&$.genero.some(V=>sh(V).includes(ft));return st||dt||Dt})},[o,lt]);return e?null:P.jsx(P.Fragment,{children:P.jsxs("div",{className:ZE.container,children:[P.jsx(YO,{onAdd:()=>b(!0),onEdit:z,profileOpen:k,onToggleProfile:H,onOpenConfig:()=>B(!0),searchTerm:lt,onSearchChange:I}),P.jsxs("main",{className:ZE.mainContent,children:[_&&P.jsx(Pk,{onClose:()=>b(!1),onSuccess:C}),S&&P.jsx(Lk,{media:O,onClose:()=>x(!1),onSuccess:D}),Q&&P.jsx(Zk,{onClose:()=>B(!1)}),P.jsx(XO,{loadMore:R,hasMore:m,children:P.jsx(hM,{items:ae,selectedId:O==null?void 0:O.id,onSelect:M,onRatingChange:(ft,$)=>u(st=>st.map(dt=>dt.id===ft?{...dt,nota:$}:dt))})})]})]})})}const nP="_container_u6c8a_25",rP="_switchContainer_u6c8a_49",iP="_switchText_u6c8a_155",aP="_card_u6c8a_169",sP="_input_u6c8a_195",oP="_submitButton_u6c8a_223",lP="_forgotLink_u6c8a_253",pr={container:nP,switchContainer:rP,switchText:iP,card:aP,input:sP,submitButton:oP,forgotLink:lP},uP="_checkmark_clbbt_11",cP="_checkmark__circle_clbbt_37",hP="_checkmark__check_clbbt_55",Gp={checkmark:uP,checkmark__circle:cP,checkmark__check:hP},fP=()=>P.jsxs("svg",{className:Gp.checkmark,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[P.jsx("circle",{className:Gp.checkmark__circle,cx:"26",cy:"26",r:"25",fill:"none"}),P.jsx("path",{className:Gp.checkmark__check,fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]});function dP(){const[r,t]=L.useState(!0),[e,a]=L.useState(""),[o,u]=L.useState(""),[h,d]=L.useState(""),[m,g]=L.useState(""),[_,b]=L.useState(!1),[S,x]=L.useState(!1),O=fu(),q=L.useRef(null),k=()=>{t(!r),a(""),u(""),d(""),g("")},H=async B=>{B.preventDefault();const et=B.target;if(!et.checkValidity()){et.reportValidity();return}if(!r&&o!==m){const rt=et.querySelector('input[placeholder="Confirme sua Senha"]');rt.setCustomValidity("Senhas diferentes"),rt.reportValidity();return}b(!0);try{if(r){await $I(gr,e,o);const rt=gr.currentUser,lt=await xg(ri(Tr,"Usuarios",rt.uid));lt.exists()&&sessionStorage.setItem("userProfile",JSON.stringify(lt.data()))}else{const{user:rt}=await GI(gr,e,o);await SO(ri(Tr,"Usuarios",rt.uid),{nome:h,email:e}),sessionStorage.setItem("userProfile",JSON.stringify({nome:h,email:e}))}x(!0),setTimeout(()=>O("/home"),1e3)}catch(rt){console.error("Erro Firebase:",rt);const lt=document.querySelector("form"),I=lt.querySelector('input[type="email"]'),A=lt.querySelector('input[type="password"]');switch(rt.code){case"auth/user-not-found":I.setCustomValidity("Usurio no encontrado"),I.reportValidity();break;case"auth/wrong-password":A.setCustomValidity("Senha incorreta"),A.reportValidity();break;case"auth/email-already-in-use":I.setCustomValidity("E-mail j cadastrado"),I.reportValidity();break;default:A.setCustomValidity("Erro na autenticao"),A.reportValidity()}}finally{b(!1)}},Q=async B=>{B.preventDefault();const et=q.current;if(!et.checkValidity()){et.reportValidity();return}try{await FI(gr,e),yt.success("Link de redefinio enviado! Verifique sua caixa de entrada.")}catch{yt.error("No foi possvel enviar o e-mail")}};return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:pr.container,children:P.jsxs("div",{className:pr.card,children:[P.jsx("h1",{children:r?"Login":"Cadastre-se"}),P.jsxs("form",{onSubmit:H,noValidate:!0,children:[!r&&P.jsx("input",{type:"text",placeholder:"Seu Nome",autoComplete:"name",required:!0,className:pr.input,value:h,onChange:B=>{B.target.setCustomValidity(""),d(B.target.value)},minLength:2}),P.jsx("input",{ref:q,type:"email",placeholder:"Seu Email",autoComplete:"email",required:!0,className:pr.input,value:e,onChange:B=>{B.target.setCustomValidity(""),a(B.target.value)}}),P.jsx("input",{type:"password",placeholder:"Sua Senha",autoComplete:r?"current-password":"new-password",required:!0,className:pr.input,value:o,onChange:B=>{B.target.setCustomValidity(""),u(B.target.value)},minLength:6}),!r&&P.jsx("input",{type:"password",placeholder:"Confirme sua Senha",autoComplete:"new-password",required:!0,className:pr.input,value:m,onChange:B=>{B.target.setCustomValidity(""),g(B.target.value)},minLength:6}),S?P.jsx(fP,{}):P.jsx("button",{type:"submit",className:pr.submitButton,disabled:_,children:_?r?"Entrando...":"Registrando...":r?"Entrar":"Registrar"}),r&&P.jsx("button",{type:"button",className:pr.forgotLink,onClick:Q,children:"Esqueceu sua senha?"})]}),P.jsxs("div",{className:pr.switchContainer,children:[P.jsx("span",{className:pr.switchText,children:r?"Novo por aqui? Deslize para se inscrever!":"J  cadastrado? Faa o login!"}),P.jsx("input",{type:"checkbox",id:"switch",checked:!r,onChange:k}),P.jsx("label",{htmlFor:"switch"})]})]})}),P.jsx(kg,{...vf})]})}function pP(){return P.jsxs(P.Fragment,{children:[P.jsx(W1,{children:P.jsxs(C1,{children:[P.jsx(oh,{path:"/",element:P.jsx(A1,{to:"/login",replace:!0})}),P.jsx(oh,{path:"/login",element:P.jsx(dP,{})}),P.jsx(oh,{path:"/home",element:P.jsx(eP,{})})]})}),P.jsx(kg,{...vf})]})}VA.createRoot(document.getElementById("root")).render(P.jsx(L.StrictMode,{children:P.jsx(pP,{})}));
