(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Pw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var np={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function kw(){if(_v)return Cl;_v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=t,Cl.jsxs=t,Cl}var vv;function Lw(){return vv||(vv=1,np.exports=kw()),np.exports}var $=Lw(),ip={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Uw(){if(Ev)return Re;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function k(x,ie,ue){this.props=x,this.context=ie,this.refs=G,this.updater=ue||O}k.prototype.isReactComponent={},k.prototype.setState=function(x,ie){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ie,"setState")},k.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function ne(x,ie,ue){this.props=x,this.context=ie,this.refs=G,this.updater=ue||O}var K=ne.prototype=new Y;K.constructor=ne,M(K,k.prototype),K.isPureReactComponent=!0;var oe=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function C(x,ie,ue,se,ye,De){return ue=De.ref,{$$typeof:r,type:x,key:ie,ref:ue!==void 0?ue:null,props:De}}function b(x,ie){return C(x.type,ie,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function N(x){var ie={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return ie[ue]})}var P=/\/+/g;function L(x,ie){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):ie.toString(36)}function D(){}function Et(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(ie){x.status==="pending"&&(x.status="fulfilled",x.value=ie)},function(ie){x.status==="pending"&&(x.status="rejected",x.reason=ie)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function tt(x,ie,ue,se,ye){var De=typeof x;(De==="undefined"||De==="boolean")&&(x=null);var Ae=!1;if(x===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(x.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=x._init,tt(Ae(x._payload),ie,ue,se,ye)}}if(Ae)return ye=ye(x),Ae=se===""?"."+L(x,0):se,oe(ye)?(ue="",Ae!=null&&(ue=Ae.replace(P,"$&/")+"/"),tt(ye,ie,ue,"",function(Gn){return Gn})):ye!=null&&(R(ye)&&(ye=b(ye,ue+(ye.key==null||x&&x.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+Ae)),ie.push(ye)),1;Ae=0;var It=se===""?".":se+":";if(oe(x))for(var Ze=0;Ze<x.length;Ze++)se=x[Ze],De=It+L(se,Ze),Ae+=tt(se,ie,ue,De,ye);else if(Ze=w(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(se=x.next()).done;)se=se.value,De=It+L(se,Ze++),Ae+=tt(se,ie,ue,De,ye);else if(De==="object"){if(typeof x.then=="function")return tt(Et(x),ie,ue,se,ye);throw ie=String(x),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(x,ie,ue){if(x==null)return x;var se=[],ye=0;return tt(x,se,"","",function(De){return ie.call(ue,De,ye++)}),se}function le(x){if(x._status===-1){var ie=x._result;ie=ie(),ie.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=ie)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Be(){}return Re.Children={map:X,forEach:function(x,ie,ue){X(x,function(){ie.apply(this,arguments)},ue)},count:function(x){var ie=0;return X(x,function(){ie++}),ie},toArray:function(x){return X(x,function(ie){return ie})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=k,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return re.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,ie,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=M({},x.props),ye=x.key,De=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(De=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!de.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(se[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var It=Array(Ae),Ze=0;Ze<Ae;Ze++)It[Ze]=arguments[Ze+2];se.children=It}return C(x.type,ye,void 0,void 0,De,se)},Re.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,ie,ue){var se,ye={},De=null;if(ie!=null)for(se in ie.key!==void 0&&(De=""+ie.key),ie)de.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ie[se]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var It=Array(Ae),Ze=0;Ze<Ae;Ze++)It[Ze]=arguments[Ze+2];ye.children=It}if(x&&x.defaultProps)for(se in Ae=x.defaultProps,Ae)ye[se]===void 0&&(ye[se]=Ae[se]);return C(x,De,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:p,render:x}},Re.isValidElement=R,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:le}},Re.memo=function(x,ie){return{$$typeof:g,type:x,compare:ie===void 0?null:ie}},Re.startTransition=function(x){var ie=re.T,ue={};re.T=ue;try{var se=x(),ye=re.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,ge)}catch(De){ge(De)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(x){return re.H.use(x)},Re.useActionState=function(x,ie,ue){return re.H.useActionState(x,ie,ue)},Re.useCallback=function(x,ie){return re.H.useCallback(x,ie)},Re.useContext=function(x){return re.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,ie){return re.H.useDeferredValue(x,ie)},Re.useEffect=function(x,ie,ue){var se=re.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(x,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(x,ie,ue){return re.H.useImperativeHandle(x,ie,ue)},Re.useInsertionEffect=function(x,ie){return re.H.useInsertionEffect(x,ie)},Re.useLayoutEffect=function(x,ie){return re.H.useLayoutEffect(x,ie)},Re.useMemo=function(x,ie){return re.H.useMemo(x,ie)},Re.useOptimistic=function(x,ie){return re.H.useOptimistic(x,ie)},Re.useReducer=function(x,ie,ue){return re.H.useReducer(x,ie,ue)},Re.useRef=function(x){return re.H.useRef(x)},Re.useState=function(x){return re.H.useState(x)},Re.useSyncExternalStore=function(x,ie,ue){return re.H.useSyncExternalStore(x,ie,ue)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.1.0",Re}var Tv;function nm(){return Tv||(Tv=1,ip.exports=Uw()),ip.exports}var j=nm(),rp={exports:{}},Il={},sp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function zw(){return Sv||(Sv=1,function(r){function e(X,le){var ge=X.length;X.push(le);e:for(;0<ge;){var Be=ge-1>>>1,x=X[Be];if(0<o(x,le))X[Be]=le,X[ge]=x,ge=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],ge=X.pop();if(ge!==le){X[0]=ge;e:for(var Be=0,x=X.length,ie=x>>>1;Be<ie;){var ue=2*(Be+1)-1,se=X[ue],ye=ue+1,De=X[ye];if(0>o(se,ge))ye<x&&0>o(De,se)?(X[Be]=De,X[ye]=ge,Be=ye):(X[Be]=se,X[ue]=ge,Be=ue);else if(ye<x&&0>o(De,ge))X[Be]=De,X[ye]=ge,Be=ye;else break e}}return le}function o(X,le){var ge=X.sortIndex-le.sortIndex;return ge!==0?ge:X.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],g=[],E=1,A=null,w=3,O=!1,M=!1,G=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function re(X){if(G=!1,oe(X),!M)if(t(m)!==null)M=!0,de||(de=!0,L());else{var le=t(g);le!==null&&tt(re,le.startTime-X)}}var de=!1,C=-1,b=5,R=-1;function N(){return k?!0:!(r.unstable_now()-R<b)}function P(){if(k=!1,de){var X=r.unstable_now();R=X;var le=!0;try{e:{M=!1,G&&(G=!1,ne(C),C=-1),O=!0;var ge=w;try{t:{for(oe(X),A=t(m);A!==null&&!(A.expirationTime>X&&N());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var x=Be(A.expirationTime<=X);if(X=r.unstable_now(),typeof x=="function"){A.callback=x,oe(X),le=!0;break t}A===t(m)&&s(m),oe(X)}else s(m);A=t(m)}if(A!==null)le=!0;else{var ie=t(g);ie!==null&&tt(re,ie.startTime-X),le=!1}}break e}finally{A=null,w=ge,O=!1}le=void 0}}finally{le?L():de=!1}}}var L;if(typeof K=="function")L=function(){K(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Et=D.port2;D.port1.onmessage=P,L=function(){Et.postMessage(null)}}else L=function(){Y(P,0)};function tt(X,le){C=Y(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ge=w;w=le;try{return X()}finally{w=ge}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=w;w=X;try{return le()}finally{w=ge}},r.unstable_scheduleCallback=function(X,le,ge){var Be=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,X={id:E++,callback:le,priorityLevel:X,startTime:ge,expirationTime:x,sortIndex:-1},ge>Be?(X.sortIndex=ge,e(g,X),t(m)===null&&X===t(g)&&(G?(ne(C),C=-1):G=!0,tt(re,ge-Be))):(X.sortIndex=x,e(m,X),M||O||(M=!0,de||(de=!0,L()))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var le=w;return function(){var ge=w;w=le;try{return X.apply(this,arguments)}finally{w=ge}}}}(ap)),ap}var Av;function Bw(){return Av||(Av=1,sp.exports=zw()),sp.exports}var op={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function jw(){if(wv)return Yt;wv=1;var r=nm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},Yt.flushSync=function(m){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(m,{crossOrigin:A,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Yt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,g){return m(g)},Yt.useFormState=function(m,g,E){return h.H.useFormState(m,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var bv;function qw(){if(bv)return op.exports;bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),op.exports=jw(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function Hw(){if(Rv)return Il;Rv=1;var r=Bw(),e=nm(),t=qw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),K=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Et(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case k:return"Profiler";case G:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case K:return(n.displayName||"Context")+".Provider";case ne:return(n._context.displayName||"Context")+".Consumer";case oe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:Et(n.type)||"Memo";case b:i=n._payload,n=n._init;try{return Et(n(i))}catch{}}return null}var tt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],x=-1;function ie(n){return{current:n}}function ue(n){0>x||(n.current=Be[x],Be[x]=null,x--)}function se(n,i){x++,Be[x]=n.current,n.current=i}var ye=ie(null),De=ie(null),Ae=ie(null),It=ie(null);function Ze(n,i){switch(se(Ae,i),se(De,n),se(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?K_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=K_(i),n=Q_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),se(ye,n)}function Gn(){ue(ye),ue(De),ue(Ae)}function rr(n){n.memoizedState!==null&&se(It,n);var i=ye.current,a=Q_(i,n.type);i!==a&&(se(De,n),se(ye,a))}function yi(n){De.current===n&&(ue(ye),ue(De)),It.current===n&&(ue(It),Sl._currentValue=ge)}var es=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,vo=r.unstable_shouldYield,yu=r.unstable_requestPaint,En=r.unstable_now,tf=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,Xs=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,nf=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,To=r.log,_u=r.unstable_setDisableYieldValue,ot=null,Fe=null;function cn(n){if(typeof To=="function"&&_u(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,n)}catch{}}var Kt=Math.clz32?Math.clz32:rs,vu=Math.log,rf=Math.LN2;function rs(n){return n>>>=0,n===0?32:31-(vu(n)/rf|0)|0}var ss=256,as=4194304;function Pn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Zs(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Pn(l):(v&=T,v!==0?f=Pn(v):a||(a=T&~n,a!==0&&(f=Pn(a))))):(T=l&~d,T!==0?f=Pn(T):v!==0?f=Pn(v):a||(a=l&~n,a!==0&&(f=Pn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function os(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function So(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var n=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),n}function wo(){var n=as;return as<<=1,(as&62914560)===0&&(as=4194304),n}function _i(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function vi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bo(n,i,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Kt(a),ee=1<<W;T[W]=0,I[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var F=H[W];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&Kn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~i))}function Kn(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Kt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Ro(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Kt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function sr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Js(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ar(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:fv(n.type))}function Eu(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var nt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+nt,pt="__reactProps$"+nt,Tn="__reactContainer$"+nt,Co="__reactEvents$"+nt,sf="__reactListeners$"+nt,or="__reactHandles$"+nt,Tu="__reactResources$"+nt,ls="__reactMarker$"+nt;function lr(n){delete n[Tt],delete n[pt],delete n[Co],delete n[sf],delete n[or]}function Ei(n){var i=n[Tt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Tn]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=W_(n);n!==null;){if(a=n[Tt])return a;n=W_(n)}return i}n=a,a=n.parentNode}return null}function Qn(n){if(n=n[Tt]||n[Tn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Yn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Jt(n){var i=n[Tu];return i||(i=n[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(n){n[ls]=!0}var Io=new Set,ea={};function kn(n,i){Ti(n,i),Ti(n+"Capture",i)}function Ti(n,i){for(ea[n]=i,n=0;n<i.length;n++)Io.add(i[n])}var Su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},us={};function wu(n){return es.call(us,n)?!0:es.call(Au,n)?!1:Su.test(n)?us[n]=!0:(Au[n]=!0,!1)}function ur(n,i,a){if(wu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function $n(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ut(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var cs,bu;function Si(n){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+n+bu}var ta=!1;function na(n,i){if(!n||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var H=F}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(F){H=F}n.call(ee.prototype)}}else{try{throw Error()}catch(F){H=F}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var W=`
`+I[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Si(a):""}function Do(n){switch(n.tag){case 26:case 27:case 5:return Si(n.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return na(n.type,!1);case 11:return na(n.type.render,!1);case 1:return na(n.type,!0);case 31:return Si("Activity");default:return""}}function ia(n){try{var i="";do i+=Do(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function No(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function af(n){var i=No(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ra(n){n._valueTracker||(n._valueTracker=af(n))}function Oo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=No(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function hs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var of=/[\n"\\]/g;function mt(n){return n.replace(of,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(n,i,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),i!=null?v==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+en(i)):n.value!==""+en(i)&&(n.value=""+en(i)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),i!=null?cr(n,v,en(i)):a!=null?cr(n,v,en(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+en(T):n.removeAttribute("name")}function fs(n,i,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function cr(n,i,a){i==="number"&&hs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ai(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Qe(n,i,a){if(i!=null&&(i=""+en(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+en(a):""}function ds(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Sn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ps.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Mo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Ru(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Ru(n,d,i[d])}function xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(n){return uf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var wi=null;function An(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bi=null,Ri=null;function Vo(n){var i=Qn(n);if(i&&(n=i.stateNode)){var a=n[pt]||null;e:switch(n=i.stateNode,i.type){case"input":if(hn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[pt]||null;if(!f)throw Error(s(90));hn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Oo(l)}break e;case"textarea":Qe(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ai(n,!!a.multiple,i,!1)}}}var Xn=!1;function Cu(n,i,a){if(Xn)return n(i,a);Xn=!0;try{var l=n(i);return l}finally{if(Xn=!1,(bi!==null||Ri!==null)&&(Ec(),bi&&(i=bi,n=Ri,Ri=bi=null,Vo(i),n)))for(i=0;i<n.length;i++)Vo(n[i])}}function ms(n,i){var a=n.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(Ln)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){wn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{wn=!1}var Wn=null,hr=null,Ci=null;function Po(){if(Ci)return Ci;var n,i=hr,a=i.length,l,f="value"in Wn?Wn.value:Wn.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Ci=f.slice(n,1<l?1-l:void 0)}function Zn(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Jn(){return!0}function ko(){return!1}function Dt(n){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:ko,this.isPropagationStopped=ko,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Dt(qe),ys=E({},qe,{view:0,detail:0}),Iu=Dt(ys),oa,la,ei,_s=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ei&&(ei&&n.type==="mousemove"?(oa=n.screenX-ei.screenX,la=n.screenY-ei.screenY):la=oa=0,ei=n),oa)},movementY:function(n){return"movementY"in n?n.movementY:la}}),bn=Dt(_s),Du=E({},_s,{dataTransfer:0}),cf=Dt(Du),vs=E({},ys,{relatedTarget:0}),ua=Dt(vs),Lo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=Dt(Lo),Nu=E({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ha=Dt(Nu),hf=E({},qe,{data:0}),Uo=Dt(hf),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Mu[n])?!!i[n]:!1}function Ts(){return zo}var xu=E({},ys,{key:function(n){if(n.key){var i=Es[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Zn(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ou[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(n){return n.type==="keypress"?Zn(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zn(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fa=Dt(xu),Vu=E({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Dt(Vu),Ii=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Pu=Dt(Ii),ku=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Dt(ku),Uu=E({},_s,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Dt(Uu),tn=E({},qe,{newState:0,oldState:0}),zu=Dt(tn),Bu=[9,13,27,32],ti=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var y=Ln&&"TextEvent"in window&&!c,_=Ln&&(!ti||c&&8<c&&11>=c),S=" ",z=!1;function Q(n,i){switch(n){case"keyup":return Bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function St(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return n=i.data,n===S&&z?null:n;default:return null}}function ke(n,i){if(Pe)return n==="compositionend"||!ti&&Q(n,i)?(n=Po(),Ci=hr=Wn=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Nt[n.type]:i==="textarea"}function Di(n,i,a,l){bi?Ri?Ri.push(l):Ri=[l]:bi=l,i=Rc(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var zt=null,ni=null;function jo(n){j_(n,0)}function ju(n){var i=Yn(n);if(Oo(i))return n}function lg(n,i){if(n==="change")return i}var ug=!1;if(Ln){var ff;if(Ln){var df="oninput"in document;if(!df){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),df=typeof cg.oninput=="function"}ff=df}else ff=!1;ug=ff&&(!document.documentMode||9<document.documentMode)}function hg(){zt&&(zt.detachEvent("onpropertychange",fg),ni=zt=null)}function fg(n){if(n.propertyName==="value"&&ju(ni)){var i=[];Di(i,ni,n,An(n)),Cu(jo,i)}}function hA(n,i,a){n==="focusin"?(hg(),zt=i,ni=a,zt.attachEvent("onpropertychange",fg)):n==="focusout"&&hg()}function fA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ju(ni)}function dA(n,i){if(n==="click")return ju(i)}function pA(n,i){if(n==="input"||n==="change")return ju(i)}function mA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var fn=typeof Object.is=="function"?Object.is:mA;function qo(n,i){if(fn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!es.call(i,f)||!fn(n[f],i[f]))return!1}return!0}function dg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pg(n,i){var a=dg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function mg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?mg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=hs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=hs(n.document)}return i}function pf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var gA=Ln&&"documentMode"in document&&11>=document.documentMode,pa=null,mf=null,Ho=null,gf=!1;function yg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||pa==null||pa!==hs(l)||(l=pa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=Rc(mf,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=pa)))}function Ss(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ma={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},yf={},_g={};Ln&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function As(n){if(yf[n])return yf[n];if(!ma[n])return n;var i=ma[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return yf[n]=i[a];return n}var vg=As("animationend"),Eg=As("animationiteration"),Tg=As("animationstart"),yA=As("transitionrun"),_A=As("transitionstart"),vA=As("transitioncancel"),Sg=As("transitionend"),Ag=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function Un(n,i){Ag.set(n,i),kn(i,[n])}var wg=new WeakMap;function Rn(n,i){if(typeof n=="object"&&n!==null){var a=wg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ia(i)},wg.set(n,i),i)}return{value:n,source:i,stack:ia(i)}}var Cn=[],ga=0,vf=0;function qu(){for(var n=ga,i=vf=ga=0;i<n;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var f=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&bg(a,f,d)}}function Hu(n,i,a,l){Cn[ga++]=n,Cn[ga++]=i,Cn[ga++]=a,Cn[ga++]=l,vf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ef(n,i,a,l){return Hu(n,i,a,l),Fu(n)}function ya(n,i){return Hu(n,null,null,i),Fu(n)}function bg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Kt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(n){if(50<pl)throw pl=0,Rd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var _a={};function EA(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(n,i,a,l){return new EA(n,i,a,l)}function Tf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ni(n,i){var a=n.alternate;return a===null?(a=dn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Rg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Gu(n,i,a,l,f,d){var v=0;if(l=n,typeof n=="function")Tf(n)&&(v=1);else if(typeof n=="string")v=Sw(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=dn(31,a,i,f),n.elementType=R,n.lanes=d,n;case M:return ws(a.children,f,d,i);case G:v=8,f|=24;break;case k:return n=dn(12,a,i,f|2),n.elementType=k,n.lanes=d,n;case re:return n=dn(13,a,i,f),n.elementType=re,n.lanes=d,n;case de:return n=dn(19,a,i,f),n.elementType=de,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case K:v=10;break e;case ne:v=9;break e;case oe:v=11;break e;case C:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=dn(v,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function ws(n,i,a,l){return n=dn(7,n,l,i),n.lanes=a,n}function Sf(n,i,a){return n=dn(6,n,null,i),n.lanes=a,n}function Af(n,i,a){return i=dn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var va=[],Ea=0,Ku=null,Qu=0,In=[],Dn=0,bs=null,Oi=1,Mi="";function Rs(n,i){va[Ea++]=Qu,va[Ea++]=Ku,Ku=n,Qu=i}function Cg(n,i,a){In[Dn++]=Oi,In[Dn++]=Mi,In[Dn++]=bs,bs=n;var l=Oi;n=Mi;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var d=32-Kt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Oi=1<<32-Kt(i)+f|a<<f|l,Mi=d+n}else Oi=1<<d|a<<f|l,Mi=n}function wf(n){n.return!==null&&(Rs(n,1),Cg(n,1,0))}function bf(n){for(;n===Ku;)Ku=va[--Ea],va[Ea]=null,Qu=va[--Ea],va[Ea]=null;for(;n===bs;)bs=In[--Dn],In[Dn]=null,Mi=In[--Dn],In[Dn]=null,Oi=In[--Dn],In[Dn]=null}var nn=null,lt=null,je=!1,Cs=null,ii=!1,Rf=Error(s(519));function Is(n){var i=Error(s(418,""));throw Ko(Rn(i,n)),Rf}function Ig(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Tt]=n,i[pt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Me(gl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ra(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ds(i,l.value,l.defaultValue,l.children),ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||G_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Cc),i=!0):i=!1,i||Is(n)}function Dg(n){for(nn=n.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function Fo(n){if(n!==nn)return!1;if(!je)return Dg(n),je=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qd(n.type,n.memoizedProps)),a=!a),a&&lt&&Is(n),Dg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){lt=Bn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}lt=null}}else i===27?(i=lt,Cr(n.type)?(n=Kd,Kd=null,lt=n):lt=i):lt=nn?Bn(n.stateNode.nextSibling):null;return!0}function Go(){lt=nn=null,je=!1}function Ng(){var n=Cs;return n!==null&&(on===null?on=n:on.push.apply(on,n),Cs=null),n}function Ko(n){Cs===null?Cs=[n]:Cs.push(n)}var Cf=ie(null),Ds=null,xi=null;function fr(n,i,a){se(Cf,i._currentValue),i._currentValue=a}function Vi(n){n._currentValue=Cf.current,ue(Cf)}function If(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Df(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),If(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Qo(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;fn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===It.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Sl):n=[Sl])}f=f.return}n!==null&&Df(i,n,a,l),i.flags|=262144}function Yu(n){for(n=n.firstContext;n!==null;){if(!fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ns(n){Ds=n,xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Og(Ds,n)}function $u(n,i){return Ds===null&&Ns(n),Og(n,i)}function Og(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},xi===null){if(n===null)throw Error(s(308));xi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else xi=xi.next=i;return a}var TA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},SA=r.unstable_scheduleCallback,AA=r.unstable_NormalPriority,wt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new TA,data:new Map,refCount:0}}function Yo(n){n.refCount--,n.refCount===0&&SA(AA,function(){n.controller.abort()})}var $o=null,Of=0,Ta=0,Sa=null;function wA(n,i){if($o===null){var a=$o=[];Of=0,Ta=xd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(Mg,Mg),i}function Mg(){if(--Of===0&&$o!==null){Sa!==null&&(Sa.status="fulfilled");var n=$o;$o=null,Ta=0,Sa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function bA(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var xg=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wA(n,i),xg!==null&&xg(n,i)};var Os=ie(null);function Mf(){var n=Os.current;return n!==null?n:Je.pooledCache}function Xu(n,i){i===null?se(Os,Os.current):se(Os,i.pool)}function Vg(){var n=Mf();return n===null?null:{parent:wt._currentValue,pool:n}}var Xo=Error(s(460)),Pg=Error(s(474)),Wu=Error(s(542)),xf={then:function(){}};function kg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zu(){}function Lg(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Zu,Zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zg(n),n;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zg(n),n}throw Wo=i,Xo}}var Wo=null;function Ug(){if(Wo===null)throw Error(s(459));var n=Wo;return Wo=null,n}function zg(n){if(n===Xo||n===Wu)throw Error(s(483))}var dr=!1;function Vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function mr(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Fu(n),bg(n,null,a),i}return Hu(n,l,i,a),Fu(n)}function Zo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ro(n,a)}}function kf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Lf=!1;function Jo(){if(Lf){var n=Sa;if(n!==null)throw n}}function el(n,i,a,l){Lf=!1;var f=n.updateQueue;dr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=q:T.next=q,W.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;v=0,W=q=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===Ta&&(Lf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,_e=T;H=i;var Xe=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){ee=Te.call(Xe,ee,H);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(Xe,ee,H):Te,H==null)break e;ee=E({},ee,H);break e;case 2:dr=!0}}H=T.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(q=W=F,I=ee):W=W.next=F,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);W===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Ar|=v,n.lanes=v,n.memoizedState=ee}}function Bg(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function jg(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Bg(a[n],i)}var Aa=ie(null),Ju=ie(0);function qg(n,i){n=ji,se(Ju,n),se(Aa,i),ji=n|i.baseLanes}function Uf(){se(Ju,ji),se(Aa,Aa.current)}function zf(){ji=Ju.current,ue(Aa),ue(Ju)}var gr=0,Ce=null,Ye=null,gt=null,ec=!1,wa=!1,Ms=!1,tc=0,tl=0,ba=null,RA=0;function ht(){throw Error(s(321))}function Bf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!fn(n[a],i[a]))return!1;return!0}function jf(n,i,a,l,f,d){return gr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?by:Ry,Ms=!1,d=a(l,f),Ms=!1,wa&&(d=Fg(i,a,l,f)),Hg(n),d}function Hg(n){X.H=oc;var i=Ye!==null&&Ye.next!==null;if(gr=0,gt=Ye=Ce=null,ec=!1,tl=0,ba=null,i)throw Error(s(300));n===null||Ot||(n=n.dependencies,n!==null&&Yu(n)&&(Ot=!0))}function Fg(n,i,a,l){Ce=n;var f=0;do{if(wa&&(ba=null),tl=0,wa=!1,25<=f)throw Error(s(301));if(f+=1,gt=Ye=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=xA,d=i(a,l)}while(wa);return d}function CA(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?nl(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),i}function qf(){var n=tc!==0;return tc=0,n}function Hf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Ff(n){if(ec){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ec=!1}gr=0,gt=Ye=Ce=null,wa=!1,tl=tc=0,ba=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ce.memoizedState=gt=n:gt=gt.next=n,gt}function yt(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=gt===null?Ce.memoizedState:gt.next;if(i!==null)gt=i,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ce.memoizedState=gt=n:gt=gt.next=n}return gt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(n){var i=tl;return tl+=1,ba===null&&(ba=[]),n=Lg(ba,n,i),i=Ce,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?by:Ry),n}function nc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nl(n);if(n.$$typeof===K)return Qt(n)}throw Error(s(438,String(n)))}function Kf(n){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gf(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=N;return i.index++,a}function Pi(n,i){return typeof i=="function"?i(n):i}function ic(n){var i=yt();return Qf(i,Ye,n)}function Qf(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var T=v=null,I=null,q=i,W=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Le&ee)===ee:(gr&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ta&&(W=!0);else if((gr&H)===H){q=q.next,H===Ta&&(W=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,Ce.lanes|=H,Ar|=H;ee=q.action,Ms&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ce.lanes|=ee,Ar|=ee;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=T,!fn(d,n.memoizedState)&&(Ot=!0,W&&(a=Sa,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Yf(n){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);fn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(n,i,a){var l=Ce,f=yt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Ye||f).memoizedState,a);v&&(f.memoizedState=a,Ot=!0),f=f.queue;var T=Yg.bind(null,l,f,n);if(il(2048,8,T,[n]),f.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,rc(),Qg.bind(null,l,f,a,i),null),Je===null)throw Error(s(349));d||(gr&124)!==0||Kg(l,i,a)}return a}function Kg(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Gf(),Ce.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Qg(n,i,a,l){i.value=a,i.getSnapshot=l,$g(i)&&Xg(n)}function Yg(n,i,a){return a(function(){$g(i)&&Xg(n)})}function $g(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!fn(n,a)}catch{return!0}}function Xg(n){var i=ya(n,2);i!==null&&_n(i,n,2)}function $f(n){var i=sn();if(typeof n=="function"){var a=n;if(n=a(),Ms){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:n},i}function Wg(n,i,a,l){return n.baseState=a,Qf(n,Ye,typeof l=="function"?l:Pi)}function IA(n,i,a,l,f){if(ac(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var T=a(f,l),I=X.S;I!==null&&I(v,T),Jg(n,i,T)}catch(q){Xf(n,i,q)}finally{X.T=d}}else try{d=a(f,l),Jg(n,i,d)}catch(q){Xf(n,i,q)}}function Jg(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(n,i,l)},function(l){return Xf(n,i,l)}):ey(n,i,a)}function ey(n,i,a){i.status="fulfilled",i.value=a,ty(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Zg(n,a)))}function Xf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}n.action=null}function ty(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ny(n,i){return i}function iy(n,i){if(je){var a=Je.formState;if(a!==null){e:{var l=Ce;if(je){if(lt){t:{for(var f=lt,d=ii;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){lt=Bn(f.nextSibling),l=f.data==="F!";break e}}Is(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=Sy.bind(null,Ce,l),l.dispatch=a,l=$f(!1),d=td.bind(null,Ce,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=IA.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function ry(n){var i=yt();return sy(i,Ye,n)}function sy(n,i,a){if(i=Qf(n,i,ny)[0],n=ic(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===Xo?Wu:v}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ra(9,rc(),DA.bind(null,f,a),null)),[l,d,n]}function DA(n,i){n.action=i}function ay(n){var i=yt(),a=Ye;if(a!==null)return sy(i,a,n);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ra(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Gf(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function rc(){return{destroy:void 0,resource:void 0}}function oy(){return yt().memoizedState}function sc(n,i,a,l){var f=sn();l=l===void 0?null:l,Ce.flags|=n,f.memoizedState=Ra(1|i,rc(),a,l)}function il(n,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ye!==null&&l!==null&&Bf(l,Ye.memoizedState.deps)?f.memoizedState=Ra(i,d,a,l):(Ce.flags|=n,f.memoizedState=Ra(1|i,d,a,l))}function ly(n,i){sc(8390656,8,n,i)}function uy(n,i){il(2048,8,n,i)}function cy(n,i){return il(4,2,n,i)}function hy(n,i){return il(4,4,n,i)}function fy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function dy(n,i,a){a=a!=null?a.concat([n]):null,il(4,4,fy.bind(null,i,n),a)}function Wf(){}function py(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function my(n,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=n(),Ms){cn(!0);try{n()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function Zf(n,i,a){return a===void 0||(gr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=__(),Ce.lanes|=n,Ar|=n,a)}function gy(n,i,a,l){return fn(a,i)?a:Aa.current!==null?(n=Zf(n,a,l),fn(n,i)||(Ot=!0),n):(gr&42)===0?(Ot=!0,n.memoizedState=a):(n=__(),Ce.lanes|=n,Ar|=n,i)}function yy(n,i,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,td(n,!1,i,a);try{var I=f(),q=X.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=bA(I,l);rl(n,i,W,yn(n))}else rl(n,i,l,yn(n))}catch(ee){rl(n,i,{then:function(){},status:"rejected",reason:ee},yn())}finally{le.p=d,X.T=v}}function NA(){}function Jf(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=_y(n).queue;yy(n,f,i,ge,a===null?NA:function(){return vy(n),a(l)})}function _y(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function vy(n){var i=_y(n).next.queue;rl(n,i,{},yn())}function ed(){return Qt(Sl)}function Ey(){return yt().memoizedState}function Ty(){return yt().memoizedState}function OA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();n=pr(a);var l=mr(i,n,a);l!==null&&(_n(l,i,a),Zo(l,i,a)),i={cache:Nf()},n.payload=i;return}i=i.return}}function MA(n,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(n)?Ay(i,a):(a=Ef(n,i,a,l),a!==null&&(_n(a,n,l),wy(a,i,l)))}function Sy(n,i,a){var l=yn();rl(n,i,a,l)}function rl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(n))Ay(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,fn(T,v))return Hu(n,i,f,0),Je===null&&qu(),!1}catch{}finally{}if(a=Ef(n,i,f,l),a!==null)return _n(a,n,l),wy(a,i,l),!0}return!1}function td(n,i,a,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(n)){if(i)throw Error(s(479))}else i=Ef(n,a,l,2),i!==null&&_n(i,n,2)}function ac(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Ay(n,i){wa=ec=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function wy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ro(n,a)}}var oc={readContext:Qt,use:nc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},by={readContext:Qt,use:nc,useCallback:function(n,i){return sn().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:ly,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,sc(4194308,4,fy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return sc(4194308,4,n,i)},useInsertionEffect:function(n,i){sc(4,2,n,i)},useMemo:function(n,i){var a=sn();i=i===void 0?null:i;var l=n();if(Ms){cn(!0);try{n()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Ms){cn(!0);try{a(i)}finally{cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=MA.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var i=sn();return n={current:n},i.memoizedState=n},useState:function(n){n=$f(n);var i=n.queue,a=Sy.bind(null,Ce,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(n,i){var a=sn();return Zf(a,n,i)},useTransition:function(){var n=$f(!1);return n=yy.bind(null,Ce,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ce,f=sn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||Kg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,ly(Yg.bind(null,l,d,n),[n]),l.flags|=2048,Ra(9,rc(),Qg.bind(null,l,d,a,i),null),a},useId:function(){var n=sn(),i=Je.identifierPrefix;if(je){var a=Mi,l=Oi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=tc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=RA++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:ed,useFormState:iy,useActionState:iy,useOptimistic:function(n){var i=sn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Ce,!0,a),a.dispatch=i,[n,i]},useMemoCache:Kf,useCacheRefresh:function(){return sn().memoizedState=OA.bind(null,Ce)}},Ry={readContext:Qt,use:nc,useCallback:py,useContext:Qt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:ic,useRef:oy,useState:function(){return ic(Pi)},useDebugValue:Wf,useDeferredValue:function(n,i){var a=yt();return gy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=ic(Pi)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:nl(n),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:ed,useFormState:ry,useActionState:ry,useOptimistic:function(n,i){var a=yt();return Wg(a,Ye,n,i)},useMemoCache:Kf,useCacheRefresh:Ty},xA={readContext:Qt,use:nc,useCallback:py,useContext:Qt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Yf,useRef:oy,useState:function(){return Yf(Pi)},useDebugValue:Wf,useDeferredValue:function(n,i){var a=yt();return Ye===null?Zf(a,n,i):gy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=Yf(Pi)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:nl(n),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:ed,useFormState:ay,useActionState:ay,useOptimistic:function(n,i){var a=yt();return Ye!==null?Wg(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Ty},Ca=null,sl=0;function lc(n){var i=sl;return sl+=1,Ca===null&&(Ca=[]),Lg(Ca,n,i)}function al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function uc(n,i){throw i.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Cy(n){var i=n._init;return i(n._payload)}function Iy(n){function i(U,V){if(n){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!n)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=Ni(U,V),U.index=0,U.sibling=null,U}function d(U,V,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,B,J){return V===null||V.tag!==6?(V=Sf(B,U.mode,J),V.return=U,V):(V=f(V,B),V.return=U,V)}function I(U,V,B,J){var fe=B.type;return fe===M?W(U,V,B.props.children,J,B.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Cy(fe)===V.type)?(V=f(V,B.props),al(V,B),V.return=U,V):(V=Gu(B.type,B.key,B.props,null,U.mode,J),al(V,B),V.return=U,V)}function q(U,V,B,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Af(B,U.mode,J),V.return=U,V):(V=f(V,B.children||[]),V.return=U,V)}function W(U,V,B,J,fe){return V===null||V.tag!==7?(V=ws(B,U.mode,J,fe),V.return=U,V):(V=f(V,B),V.return=U,V)}function ee(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sf(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return B=Gu(V.type,V.key,V.props,null,U.mode,B),al(B,V),B.return=U,B;case O:return V=Af(V,U.mode,B),V.return=U,V;case b:var J=V._init;return V=J(V._payload),ee(U,V,B)}if(tt(V)||L(V))return V=ws(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return ee(U,lc(V),B);if(V.$$typeof===K)return ee(U,$u(U,V),B);uc(U,V)}return null}function H(U,V,B,J){var fe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(U,V,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===fe?I(U,V,B,J):null;case O:return B.key===fe?q(U,V,B,J):null;case b:return fe=B._init,B=fe(B._payload),H(U,V,B,J)}if(tt(B)||L(B))return fe!==null?null:W(U,V,B,J,null);if(typeof B.then=="function")return H(U,V,lc(B),J);if(B.$$typeof===K)return H(U,V,$u(U,B),J);uc(U,B)}return null}function F(U,V,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,T(V,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?B:J.key)||null,I(V,U,J,fe);case O:return U=U.get(J.key===null?B:J.key)||null,q(V,U,J,fe);case b:var Ne=J._init;return J=Ne(J._payload),F(U,V,B,J,fe)}if(tt(J)||L(J))return U=U.get(B)||null,W(V,U,J,fe,null);if(typeof J.then=="function")return F(U,V,B,lc(J),fe);if(J.$$typeof===K)return F(U,V,B,$u(V,J),fe);uc(V,J)}return null}function Te(U,V,B,J){for(var fe=null,Ne=null,pe=V,ve=V=0,xt=null;pe!==null&&ve<B.length;ve++){pe.index>ve?(xt=pe,pe=null):xt=pe.sibling;var ze=H(U,pe,B[ve],J);if(ze===null){pe===null&&(pe=xt);break}n&&pe&&ze.alternate===null&&i(U,pe),V=d(ze,V,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze,pe=xt}if(ve===B.length)return a(U,pe),je&&Rs(U,ve),fe;if(pe===null){for(;ve<B.length;ve++)pe=ee(U,B[ve],J),pe!==null&&(V=d(pe,V,ve),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return je&&Rs(U,ve),fe}for(pe=l(pe);ve<B.length;ve++)xt=F(pe,U,ve,B[ve],J),xt!==null&&(n&&xt.alternate!==null&&pe.delete(xt.key===null?ve:xt.key),V=d(xt,V,ve),Ne===null?fe=xt:Ne.sibling=xt,Ne=xt);return n&&pe.forEach(function(Mr){return i(U,Mr)}),je&&Rs(U,ve),fe}function _e(U,V,B,J){if(B==null)throw Error(s(151));for(var fe=null,Ne=null,pe=V,ve=V=0,xt=null,ze=B.next();pe!==null&&!ze.done;ve++,ze=B.next()){pe.index>ve?(xt=pe,pe=null):xt=pe.sibling;var Mr=H(U,pe,ze.value,J);if(Mr===null){pe===null&&(pe=xt);break}n&&pe&&Mr.alternate===null&&i(U,pe),V=d(Mr,V,ve),Ne===null?fe=Mr:Ne.sibling=Mr,Ne=Mr,pe=xt}if(ze.done)return a(U,pe),je&&Rs(U,ve),fe;if(pe===null){for(;!ze.done;ve++,ze=B.next())ze=ee(U,ze.value,J),ze!==null&&(V=d(ze,V,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return je&&Rs(U,ve),fe}for(pe=l(pe);!ze.done;ve++,ze=B.next())ze=F(pe,U,ve,ze.value,J),ze!==null&&(n&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),V=d(ze,V,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return n&&pe.forEach(function(Vw){return i(U,Vw)}),je&&Rs(U,ve),fe}function Xe(U,V,B,J){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var fe=B.key;V!==null;){if(V.key===fe){if(fe=B.type,fe===M){if(V.tag===7){a(U,V.sibling),J=f(V,B.props.children),J.return=U,U=J;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Cy(fe)===V.type){a(U,V.sibling),J=f(V,B.props),al(J,B),J.return=U,U=J;break e}a(U,V);break}else i(U,V);V=V.sibling}B.type===M?(J=ws(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Gu(B.type,B.key,B.props,null,U.mode,J),al(J,B),J.return=U,U=J)}return v(U);case O:e:{for(fe=B.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),J=f(V,B.children||[]),J.return=U,U=J;break e}else{a(U,V);break}else i(U,V);V=V.sibling}J=Af(B,U.mode,J),J.return=U,U=J}return v(U);case b:return fe=B._init,B=fe(B._payload),Xe(U,V,B,J)}if(tt(B))return Te(U,V,B,J);if(L(B)){if(fe=L(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),_e(U,V,B,J)}if(typeof B.then=="function")return Xe(U,V,lc(B),J);if(B.$$typeof===K)return Xe(U,V,$u(U,B),J);uc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),J=f(V,B),J.return=U,U=J):(a(U,V),J=Sf(B,U.mode,J),J.return=U,U=J),v(U)):a(U,V)}return function(U,V,B,J){try{sl=0;var fe=Xe(U,V,B,J);return Ca=null,fe}catch(pe){if(pe===Xo||pe===Wu)throw pe;var Ne=dn(29,pe,null,U.mode);return Ne.lanes=J,Ne.return=U,Ne}finally{}}}var Ia=Iy(!0),Dy=Iy(!1),Nn=ie(null),ri=null;function yr(n){var i=n.alternate;se(bt,bt.current&1),se(Nn,n),ri===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(ri=n)}function Ny(n){if(n.tag===22){if(se(bt,bt.current),se(Nn,n),ri===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ri=n)}}else _r()}function _r(){se(bt,bt.current),se(Nn,Nn.current)}function ki(n){ue(Nn),ri===n&&(ri=null),ue(bt)}var bt=ie(0);function cc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var id={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=yn(),f=pr(l);f.payload=i,a!=null&&(f.callback=a),i=mr(n,f,l),i!==null&&(_n(i,n,l),Zo(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=yn(),f=pr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=mr(n,f,l),i!==null&&(_n(i,n,l),Zo(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=yn(),l=pr(a);l.tag=2,i!=null&&(l.callback=i),i=mr(n,l,a),i!==null&&(_n(i,n,a),Zo(i,n,a))}};function Oy(n,i,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(f,d):!0}function My(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&id.enqueueReplaceState(i,i.state,null)}function xs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function xy(n){hc(n)}function Vy(n){console.error(n)}function Py(n){hc(n)}function fc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(n,i,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(n,i)},a}function Ly(n){return n=pr(n),n.tag=3,n}function Uy(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){ky(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){ky(i,a,l),typeof f!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function VA(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qo(i,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ri===null?Id():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(n,l,f)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(n,l,f)),!1}throw Error(s(435,a.tag))}return Nd(n,l,f),Id(),!1}if(je)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Rf&&(n=Error(s(422),{cause:l}),Ko(Rn(n,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),Ko(Rn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Rn(l,a),f=rd(n.stateNode,l,f),kf(n,f),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),dl===null?dl=[d]:dl.push(d),ut!==4&&(ut=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=rd(a.stateNode,l,n),kf(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ly(f),Uy(f,n,a,l),kf(a,f),!1}a=a.return}while(a!==null);return!1}var zy=Error(s(461)),Ot=!1;function Bt(n,i,a,l){i.child=n===null?Dy(i,null,a,l):Ia(i,n.child,a,l)}function By(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ns(i),l=jf(n,i,a,v,d,f),T=qf(),n!==null&&!Ot?(Hf(n,i,f),Li(n,i,f)):(je&&T&&wf(i),i.flags|=1,Bt(n,i,l,f),i.child)}function jy(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qy(n,i,d,l,f)):(n=Gu(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!fd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,l)&&n.ref===i.ref)return Li(n,i,f)}return i.flags|=1,n=Ni(d,l),n.ref=i.ref,n.return=i,i.child=n}function qy(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(qo(d,l)&&n.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,fd(n,f))(n.flags&131072)!==0&&(Ot=!0);else return i.lanes=n.lanes,Li(n,i,f)}return sd(n,i,a,l,f)}function Hy(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Fy(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?qg(i,d):Uf(),Ny(i);else return i.lanes=i.childLanes=536870912,Fy(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xu(i,d.cachePool),qg(i,d),_r(),i.memoizedState=null):(n!==null&&Xu(i,null),Uf(),_r());return Bt(n,i,f,a),i.child}function Fy(n,i,a,l){var f=Mf();return f=f===null?null:{parent:wt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Xu(i,null),Uf(),Ny(i),n!==null&&Qo(n,i,l,!0),null}function dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function sd(n,i,a,l,f){return Ns(i),a=jf(n,i,a,l,void 0,f),l=qf(),n!==null&&!Ot?(Hf(n,i,f),Li(n,i,f)):(je&&l&&wf(i),i.flags|=1,Bt(n,i,a,f),i.child)}function Gy(n,i,a,l,f,d){return Ns(i),i.updateQueue=null,a=Fg(i,l,a,f),Hg(n),l=qf(),n!==null&&!Ot?(Hf(n,i,d),Li(n,i,d)):(je&&l&&wf(i),i.flags|=1,Bt(n,i,a,d),i.child)}function Ky(n,i,a,l,f){if(Ns(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&id.enqueueReplaceState(d,d.state,null),el(i,l,d,f),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,I=xs(a,T);d.props=I;var q=d.context,W=a.contextType;v=_a,typeof W=="object"&&W!==null&&(v=Qt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&My(i,d,l,v),dr=!1;var H=i.memoizedState;d.state=H,el(i,l,d,f),Jo(),q=i.memoizedState,T||H!==q||dr?(typeof ee=="function"&&(nd(i,a,ee,l),q=i.memoizedState),(I=dr||Oy(i,a,I,l,H,q,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(n,i),v=i.memoizedProps,W=xs(a,v),d.props=W,ee=i.pendingProps,H=d.context,q=a.contextType,I=_a,typeof q=="object"&&q!==null&&(I=Qt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==I)&&My(i,d,l,I),dr=!1,H=i.memoizedState,d.state=H,el(i,l,d,f),Jo();var F=i.memoizedState;v!==ee||H!==F||dr||n!==null&&n.dependencies!==null&&Yu(n.dependencies)?(typeof T=="function"&&(nd(i,a,T,l),F=i.memoizedState),(W=dr||Oy(i,a,W,l,H,F,I)||n!==null&&n.dependencies!==null&&Yu(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ia(i,n.child,null,f),i.child=Ia(i,null,a,f)):Bt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Li(n,i,f),n}function Qy(n,i,a,l){return Go(),i.flags|=256,Bt(n,i,a,l),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(n){return{baseLanes:n,cachePool:Vg()}}function ld(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=On),n}function Yy(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(bt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,n===null){if(je){if(f?yr(i):_r(),je){var T=lt,I;if(I=T){e:{for(I=T,T=ii;I.nodeType!==8;){if(!T){T=null;break e}if(I=Bn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,lt=null,I=!0):I=!1}I||Is(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gd(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,f?(_r(),f=i.mode,T=pc({mode:"hidden",children:T},f),l=ws(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=od(a),f.childLanes=ld(n,v,a),i.memoizedState=ad,l):(yr(i),ud(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=cd(n,i,a)):i.memoizedState!==null?(_r(),i.child=n.child,i.flags|=128,i=null):(_r(),f=l.fallback,T=i.mode,l=pc({mode:"visible",children:l.children},T),f=ws(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ia(i,n.child,null,a),l=i.child,l.memoizedState=od(a),l.childLanes=ld(n,v,a),i.memoizedState=ad,i=f);else if(yr(i),Gd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Ko({value:l,source:null,stack:null}),i=cd(n,i,a)}else if(Ot||Qo(n,i,a,!1),v=(a&n.childLanes)!==0,Ot||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ya(n,l),_n(v,n,l),zy;T.data==="$?"||Id(),i=cd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,lt=Bn(T.nextSibling),nn=i,je=!0,Cs=null,ii=!1,n!==null&&(In[Dn++]=Oi,In[Dn++]=Mi,In[Dn++]=bs,Oi=n.id,Mi=n.overflow,bs=i),i=ud(i,l.children),i.flags|=4096);return i}return f?(_r(),f=l.fallback,T=i.mode,I=n.child,q=I.sibling,l=Ni(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=Ni(q,f):(f=ws(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=od(a):(I=T.cachePool,I!==null?(q=wt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Vg(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=ld(n,v,a),i.memoizedState=ad,l):(yr(i),a=n.child,n=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(v=i.deletions,v===null?(i.deletions=[n],i.flags|=16):v.push(n)),i.child=a,i.memoizedState=null,a)}function ud(n,i){return i=pc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function pc(n,i){return n=dn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cd(n,i,a){return Ia(i,n.child,null,a),n=ud(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $y(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),If(n.return,i,a)}function hd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Xy(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(n,i,l.children,a),l=bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$y(n,a,i);else if(n.tag===19)$y(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(bt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&cc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),hd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&cc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}hd(i,!0,a,null,d);break;case"together":hd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Qo(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ni(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ni(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function fd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Yu(n)))}function PA(n,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),fr(i,wt,n.memoizedState.cache),Go();break;case 27:case 5:rr(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(n,i,a):(yr(i),n=Li(n,i,a),n!==null?n.sibling:null);yr(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qo(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Xy(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,Hy(n,i,a);case 24:fr(i,wt,n.memoizedState.cache)}return Li(n,i,a)}function Wy(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ot=!0;else{if(!fd(n,a)&&(i.flags&128)===0)return Ot=!1,PA(n,i,a);Ot=(n.flags&131072)!==0}else Ot=!1,je&&(i.flags&1048576)!==0&&Cg(i,Qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Tf(l)?(n=xs(l,n),i.tag=1,i=Ky(null,i,l,n,a)):(i.tag=0,i=sd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){i.tag=11,i=By(null,i,l,n,a);break e}else if(f===C){i.tag=14,i=jy(null,i,l,n,a);break e}}throw i=Et(l)||l,Error(s(306,i,""))}}return i;case 0:return sd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=xs(l,i.pendingProps),Ky(n,i,l,f,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Pf(n,i),el(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,wt,l),l!==d.cache&&Df(i,[wt],a,!0),Jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(n,i,l,a);break e}else if(l!==f){f=Rn(Error(s(424)),i),Ko(f),i=Qy(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lt=Bn(n.firstChild),nn=i,je=!0,Cs=null,ii=!0,a=Dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===f){i=Li(n,i,a);break e}Bt(n,i,l,a)}i=i.child}return i;case 26:return dc(n,i),n===null?(a=tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,n=i.pendingProps,l=Ic(Ae.current).createElement(a),l[Tt]=i,l[pt]=n,qt(l,a,n),ct(l),i.stateNode=l):i.memoizedState=tv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return rr(i),n===null&&je&&(l=i.stateNode=Z_(i.type,i.pendingProps,Ae.current),nn=i,ii=!0,f=lt,Cr(i.type)?(Kd=f,lt=Bn(l.firstChild)):lt=f),Bt(n,i,i.pendingProps.children,a),dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&je&&((f=l=lt)&&(l=uw(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,nn=i,lt=Bn(l.firstChild),ii=!1,f=!0):f=!1),f||Is(i)),rr(i),f=i.type,d=i.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,qd(f,d)?l=null:v!==null&&qd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=jf(n,i,CA,null,null,a),Sl._currentValue=f),dc(n,i),Bt(n,i,l,a),i.child;case 6:return n===null&&je&&((n=a=lt)&&(a=cw(a,i.pendingProps,ii),a!==null?(i.stateNode=a,nn=i,lt=null,n=!0):n=!1),n||Is(i)),null;case 13:return Yy(n,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ia(i,null,l,a):Bt(n,i,l,a),i.child;case 11:return By(n,i,i.type,i.pendingProps,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),Bt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ns(i),f=Qt(f),l=l(f),i.flags|=1,Bt(n,i,l,a),i.child;case 14:return jy(n,i,i.type,i.pendingProps,a);case 15:return qy(n,i,i.type,i.pendingProps,a);case 19:return Xy(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=pc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Hy(n,i,a);case 24:return Ns(i),l=Qt(wt),n===null?(f=Mf(),f===null&&(f=Je,d=Nf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Vf(i),fr(i,wt,f)):((n.lanes&a)!==0&&(Pf(n,i),el(i,null,null,a),Jo()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),fr(i,wt,l)):(l=d.cache,fr(i,wt,l),l!==f.cache&&Df(i,[wt],a,!0))),Bt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(n){n.flags|=4}function Zy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!av(i)){if(i=Nn.current,i!==null&&((Le&4194048)===Le?ri!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ri))throw Wo=xf,Pg;n.flags|=8192}}function mc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?wo():536870912,n.lanes|=i,Ma|=i)}function ol(n,i){if(!je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function kA(n,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(wt),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Fo(i)?Ui(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ng())),st(i),null;case 26:return a=i.memoizedState,n===null?(Ui(i),a!==null?(st(i),Zy(i,a)):(st(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Ui(i),st(i),Zy(i,a)):(st(i),i.flags&=-16777217):(n.memoizedProps!==l&&Ui(i),st(i),i.flags&=-16777217),null;case 27:yi(i),a=Ae.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}n=ye.current,Fo(i)?Ig(i):(n=Z_(f,l,a),i.stateNode=n,Ui(i))}return st(i),null;case 5:if(yi(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(n=ye.current,Fo(i))Ig(i);else{switch(f=Ic(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Tt]=i,n[pt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ui(i)}}return st(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ae.current,Fo(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Tt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G_(n.nodeValue,a)),n||Is(i)}else n=Ic(n).createTextNode(l),n[Tt]=i,i.stateNode=n}return st(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fo(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Ng(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),st(i),null;case 4:return Gn(),n===null&&Ld(i.stateNode.containerInfo),st(i),null;case 10:return Vi(i.type),st(i),null;case 19:if(ue(bt),f=i.memoizedState,f===null)return st(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)ol(f,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=cc(n),d!==null){for(i.flags|=128,ol(f,!1),n=d.updateQueue,i.updateQueue=n,mc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Rg(a,n),a=a.sibling;return se(bt,bt.current&1|2),i.child}n=n.sibling}f.tail!==null&&En()>_c&&(i.flags|=128,l=!0,ol(f,!1),i.lanes=4194304)}else{if(!l)if(n=cc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,mc(i,n),ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!je)return st(i),null}else 2*En()-f.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,l=!0,ol(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=En(),i.sibling=null,n=bt.current,se(bt,l?n&1|2:n&1),i):(st(i),null);case 22:case 23:return ki(i),zf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ue(Os),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(wt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function LA(n,i){switch(bf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Vi(wt),Gn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ue(bt),null;case 4:return Gn(),null;case 10:return Vi(i.type),null;case 22:case 23:return ki(i),zf(),n!==null&&ue(Os),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Vi(wt),null;case 25:return null;default:return null}}function Jy(n,i){switch(bf(i),i.tag){case 3:Vi(wt),Gn();break;case 26:case 27:case 5:yi(i);break;case 4:Gn();break;case 13:ki(i);break;case 19:ue(bt);break;case 10:Vi(i.type);break;case 22:case 23:ki(i),zf(),n!==null&&ue(Os);break;case 24:Vi(wt)}}function ll(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){We(i,i.return,T)}}function vr(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=i;var I=a,q=T;try{q()}catch(W){We(f,I,W)}}}l=l.next}while(l!==d)}}catch(W){We(i,i.return,W)}}function e_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{jg(i,a)}catch(l){We(n,n.return,l)}}}function t_(n,i,a){a.props=xs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,i,l)}}function ul(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,i,f)}}function si(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,i,f)}else a.current=null}function n_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function dd(n,i,a){try{var l=n.stateNode;rw(l,n.type,a,i),l[pt]=i}catch(f){We(n,n.return,f)}}function i_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Cr(n.type)||n.tag===4}function pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Cr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function md(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Cc));else if(l!==4&&(l===27&&Cr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(md(n,i,a),n=n.sibling;n!==null;)md(n,i,a),n=n.sibling}function gc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Cr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(gc(n,i,a),n=n.sibling;n!==null;)gc(n,i,a),n=n.sibling}function r_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);qt(i,l,a),i[Tt]=n,i[pt]=a}catch(d){We(n,n.return,d)}}var zi=!1,ft=!1,gd=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function UA(n,i){if(n=n.containerInfo,Bd=Vc,n=gg(n),pf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,W=0,ee=n,H=null;t:for(;;){for(var F;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(F=ee.firstChild)!==null;)H=ee,ee=F;for(;;){if(ee===n)break t;if(H===a&&++q===f&&(T=v),H===d&&++W===l&&(I=v),(F=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:n,selectionRange:a},Vc=!1,Mt=i;Mt!==null;)if(i=Mt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Mt=n;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=xs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){We(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Fd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Mt=n;break}Mt=i.return}}function a_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(n,a),l&4&&ll(5,a);break;case 1:if(Er(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(v){We(a,a.return,v)}else{var f=xs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&e_(a),l&512&&ul(a,a.return);break;case 3:if(Er(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(n,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&r_(a);case 26:case 5:Er(n,a),i===null&&l&4&&n_(a),l&512&&ul(a,a.return);break;case 12:Er(n,a);break;case 13:Er(n,a),l&4&&u_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=QA.bind(null,a),hw(n,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||ft,f=zi;var d=ft;zi=l,(ft=i)&&!d?Tr(n,a,(a.subtreeFlags&8772)!==0):Er(n,a),zi=f,ft=d}break;case 30:break;default:Er(n,a)}}function o_(n){var i=n.alternate;i!==null&&(n.alternate=null,o_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&lr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,an=!1;function Bi(n,i,a){for(a=a.child;a!==null;)l_(n,i,a),a=a.sibling}function l_(n,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||si(a,i),Bi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||si(a,i);var l=it,f=an;Cr(a.type)&&(it=a.stateNode,an=!1),Bi(n,i,a),_l(a.stateNode),it=l,an=f;break;case 5:ft||si(a,i);case 6:if(l=it,f=an,it=null,Bi(n,i,a),it=l,an=f,it!==null)if(an)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:it!==null&&(an?(n=it,X_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Rl(n)):X_(it,a.stateNode));break;case 4:l=it,f=an,it=a.stateNode.containerInfo,an=!0,Bi(n,i,a),it=l,an=f;break;case 0:case 11:case 14:case 15:ft||vr(2,a,i),ft||vr(4,a,i),Bi(n,i,a);break;case 1:ft||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,i,l)),Bi(n,i,a);break;case 21:Bi(n,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Bi(n,i,a),ft=l;break;default:Bi(n,i,a)}}function u_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Rl(n)}catch(a){We(i,i.return,a)}}function zA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new s_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new s_),i;default:throw Error(s(435,n.tag))}}function yd(n,i){var a=zA(n);i.forEach(function(l){var f=YA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Cr(T.type)){it=T.stateNode,an=!1;break e}break;case 5:it=T.stateNode,an=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(it===null)throw Error(s(160));l_(d,v,f),it=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)c_(i,n),i=i.sibling}var zn=null;function c_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(i,n),mn(n),l&4&&(vr(3,n,n.return),ll(3,n),vr(5,n,n.return));break;case 1:pn(i,n),mn(n),l&512&&(ft||a===null||si(a,a.return)),l&64&&zi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=zn;if(pn(i,n),mn(n),l&512&&(ft||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ls]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[Tt]=n,ct(d),l=d;break e;case"link":var v=rv("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=rv("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=n,ct(d),l=d}n.stateNode=l}else sv(f,n.type,n.stateNode);else n.stateNode=iv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sv(f,n.type,n.stateNode):iv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dd(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(i,n),mn(n),l&512&&(ft||a===null||si(a,a.return)),a!==null&&l&4&&dd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,n),mn(n),l&512&&(ft||a===null||si(a,a.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(F){We(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,dd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(gd=!0);break;case 6:if(pn(i,n),mn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){We(n,n.return,F)}}break;case 3:if(Oc=null,f=zn,zn=Dc(i.containerInfo),pn(i,n),zn=f,mn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(F){We(n,n.return,F)}gd&&(gd=!1,h_(n));break;case 4:l=zn,zn=Dc(n.stateNode.containerInfo),pn(i,n),mn(n),zn=l;break;case 12:pn(i,n),mn(n);break;case 13:pn(i,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=En()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yd(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=zi,W=ft;if(zi=q||f,ft=W||I,pn(i,n),ft=W,zi=q,mn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||zi||ft||Vs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){We(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(F){We(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(n,a))));break;case 19:pn(i,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yd(n,l)));break;case 30:break;case 21:break;default:pn(i,n),mn(n)}}function mn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=pd(n);gc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=pd(n);gc(n,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=pd(n);md(n,q,I);break;default:throw Error(s(161))}}catch(W){We(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function h_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Er(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)a_(n,i.alternate,i),i=i.sibling}function Vs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Vs(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&t_(i,i.return,a),Vs(i);break;case 27:_l(i.stateNode);case 26:case 5:si(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}n=n.sibling}}function Tr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(f,d,a),ll(4,d);break;case 1:if(Tr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Bg(I[f],T)}catch(q){We(l,l.return,q)}}a&&v&64&&e_(d),ul(d,d.return);break;case 27:r_(d);case 26:case 5:Tr(f,d,a),a&&l===null&&v&4&&n_(d),ul(d,d.return);break;case 12:Tr(f,d,a);break;case 13:Tr(f,d,a),a&&v&4&&u_(f,d);break;case 22:d.memoizedState===null&&Tr(f,d,a),ul(d,d.return);break;case 30:break;default:Tr(f,d,a)}i=i.sibling}}function _d(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Yo(a))}function vd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Yo(n))}function ai(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(n,i,a,l),i=i.sibling}function f_(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(n,i,a,l),f&2048&&ll(9,i);break;case 1:ai(n,i,a,l);break;case 3:ai(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Yo(n)));break;case 12:if(f&2048){ai(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else ai(n,i,a,l);break;case 13:ai(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(n,i,a,l):cl(n,i):d._visibility&2?ai(n,i,a,l):(d._visibility|=2,Da(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&_d(v,i);break;case 24:ai(n,i,a,l),f&2048&&vd(i.alternate,i);break;default:ai(n,i,a,l)}}function Da(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,v=i,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,T,I,f),ll(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Da(d,v,T,I,f):cl(d,v):(W._visibility|=2,Da(d,v,T,I,f)),f&&q&2048&&_d(v.alternate,v);break;case 24:Da(d,v,T,I,f),f&&q&2048&&vd(v.alternate,v);break;default:Da(d,v,T,I,f)}i=i.sibling}}function cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:cl(a,l),f&2048&&_d(l.alternate,l);break;case 24:cl(a,l),f&2048&&vd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Na(n){if(n.subtreeFlags&hl)for(n=n.child;n!==null;)d_(n),n=n.sibling}function d_(n){switch(n.tag){case 26:Na(n),n.flags&hl&&n.memoizedState!==null&&ww(zn,n.memoizedState,n.memoizedProps);break;case 5:Na(n);break;case 3:case 4:var i=zn;zn=Dc(n.stateNode.containerInfo),Na(n),zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Na(n),hl=i):Na(n));break;default:Na(n)}}function p_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function fl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,g_(l,n)}p_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)m_(n),n=n.sibling}function m_(n){switch(n.tag){case 0:case 11:case 15:fl(n),n.flags&2048&&vr(9,n,n.return);break;case 3:fl(n);break;case 12:fl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,yc(n)):fl(n);break;default:fl(n)}}function yc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,g_(l,n)}p_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:vr(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}n=n.sibling}}function g_(n,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=n;Mt!==null;){l=Mt;var f=l.sibling,d=l.return;if(o_(l),l===a){Mt=null;break e}if(f!==null){f.return=d,Mt=f;break e}Mt=d}}}var BA={getCacheForType:function(n){var i=Qt(wt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},jA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Le=0,Ke=0,gn=null,Sr=!1,Oa=!1,Ed=!1,ji=0,ut=0,Ar=0,Ps=0,Td=0,On=0,Ma=0,dl=null,on=null,Sd=!1,Ad=0,_c=1/0,vc=null,wr=null,jt=0,br=null,xa=null,Va=0,wd=0,bd=null,y_=null,pl=0,Rd=null;function yn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=Ta;return n!==0?n:xd()}return ar()}function __(){On===0&&(On=(Le&536870912)===0||je?Ao():536870912);var n=Nn.current;return n!==null&&(n.flags|=32),On}function _n(n,i,a){(n===Je&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Pa(n,0),Rr(n,Le,On,!1)),vi(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(Ps|=a),ut===4&&Rr(n,Le,On,!1)),oi(n))}function v_(n,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||os(n,i),f=l?FA(n,i):Dd(n,i,!0),d=l;do{if(f===0){Oa&&!l&&Rr(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!qA(a)){f=Dd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=n;f=dl;var I=T.current.memoizedState.isDehydrated;if(I&&(Pa(T,v).flags|=256),v=Dd(T,v,!1),v!==2){if(Ed&&!I){T.errorRecoveryDisabledLanes|=d,Ps|=d,f=4;break e}d=on,on=f,d!==null&&(on===null?on=d:on.push.apply(on,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Pa(n,0),Rr(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,On,!Sr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ad+300-En(),10<f)){if(Rr(l,i,On,!Sr),Zs(l,0,!0)!==0)break e;l.timeoutHandle=Y_(E_.bind(null,l,a,on,vc,Sd,i,On,Ps,Ma,Sr,d,2,-0,0),f);break e}E_(l,a,on,vc,Sd,i,On,Ps,Ma,Sr,d,0,-0,0)}}break}while(!0);oi(n)}function E_(n,i,a,l,f,d,v,T,I,q,W,ee,H,F){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Aw},d_(i),ee=bw(),ee!==null)){n.cancelPendingCommit=ee(C_.bind(null,n,i,d,a,l,f,v,T,I,W,1,H,F)),Rr(n,d,v,!q);return}C_(n,i,d,a,l,f,v,T,I)}function qA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!fn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(n,i,a,l){i&=~Td,i&=~Ps,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Kt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Kn(n,a,i)}function Ec(){return(Ge&6)===0?(ml(0),!1):!0}function Cd(){if(Oe!==null){if(Ke===0)var n=Oe.return;else n=Oe,xi=Ds=null,Ff(n),Ca=null,sl=0,n=Oe;for(;n!==null;)Jy(n.alternate,n),n=n.return;Oe=null}}function Pa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,aw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Cd(),Je=n,Oe=a=Ni(n.current,null),Le=i,Ke=0,gn=null,Sr=!1,Oa=os(n,i),Ed=!1,Ma=On=Td=Ps=Ar=ut=0,on=dl=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Kt(l),d=1<<f;i|=n[f],l&=~d}return ji=i,qu(),a}function T_(n,i){Ce=null,X.H=oc,i===Xo||i===Wu?(i=Ug(),Ke=3):i===Pg?(i=Ug(),Ke=4):Ke=i===zy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Oe===null&&(ut=1,fc(n,Rn(i,n.current)))}function S_(){var n=X.H;return X.H=oc,n===null?oc:n}function A_(){var n=X.A;return X.A=BA,n}function Id(){ut=4,Sr||(Le&4194048)!==Le&&Nn.current!==null||(Oa=!0),(Ar&134217727)===0&&(Ps&134217727)===0||Je===null||Rr(Je,Le,On,!1)}function Dd(n,i,a){var l=Ge;Ge|=2;var f=S_(),d=A_();(Je!==n||Le!==i)&&(vc=null,Pa(n,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,I=gn;switch(Ke){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var q=Ke;if(Ke=0,gn=null,ka(n,T,I,q),a&&Oa){v=0;break e}break;default:q=Ke,Ke=0,gn=null,ka(n,T,I,q)}}HA(),v=ut;break}catch(W){T_(n,W)}while(!0);return i&&n.shellSuspendCounter++,xi=Ds=null,Ge=l,X.H=f,X.A=d,Oe===null&&(Je=null,Le=0,qu()),v}function HA(){for(;Oe!==null;)w_(Oe)}function FA(n,i){var a=Ge;Ge|=2;var l=S_(),f=A_();Je!==n||Le!==i?(vc=null,_c=En()+500,Pa(n,i)):Oa=os(n,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,ka(n,i,d,1);break;case 2:case 9:if(kg(d)){Ke=0,gn=null,b_(i);break}i=function(){Ke!==2&&Ke!==9||Je!==n||(Ke=7),oi(n)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:kg(d)?(Ke=0,gn=null,b_(i)):(Ke=0,gn=null,ka(n,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||av(v)){Ke=0,gn=null;var I=T.sibling;if(I!==null)Oe=I;else{var q=T.return;q!==null?(Oe=q,Tc(q)):Oe=null}break t}}Ke=0,gn=null,ka(n,i,d,5);break;case 6:Ke=0,gn=null,ka(n,i,d,6);break;case 8:Cd(),ut=6;break e;default:throw Error(s(462))}}GA();break}catch(W){T_(n,W)}while(!0);return xi=Ds=null,X.H=l,X.A=f,Ge=a,Oe!==null?0:(Je=null,Le=0,qu(),ut)}function GA(){for(;Oe!==null&&!vo();)w_(Oe)}function w_(n){var i=Wy(n.alternate,n,ji);n.memoizedProps=n.pendingProps,i===null?Tc(n):Oe=i}function b_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Gy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Gy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Ff(i);default:Jy(a,i),i=Oe=Rg(i,ji),i=Wy(a,i,ji)}n.memoizedProps=n.pendingProps,i===null?Tc(n):Oe=i}function ka(n,i,a,l){xi=Ds=null,Ff(i),Ca=null,sl=0;var f=i.return;try{if(VA(n,f,i,a,Le)){ut=1,fc(n,Rn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;ut=1,fc(n,Rn(a,n.current)),Oe=null;return}i.flags&32768?(je||l===1?n=!0:Oa||(Le&536870912)!==0?n=!1:(Sr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,n)):Tc(i)}function Tc(n){var i=n;do{if((i.flags&32768)!==0){R_(i,Sr);return}n=i.return;var a=kA(i.alternate,i,ji);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ut===0&&(ut=5)}function R_(n,i){do{var a=LA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ut=6,Oe=null}function C_(n,i,a,l,f,d,v,T,I){n.cancelPendingCommit=null;do Sc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,bo(n,a,d,v,T,I),n===Je&&(Oe=Je=null,Le=0),xa=i,br=n,Va=a,wd=d,bd=f,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$A(is,function(){return M_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=le.p,le.p=2,v=Ge,Ge|=4;try{UA(n,i,a)}finally{Ge=v,le.p=f,X.T=l}}jt=1,I_(),D_(),N_()}}function I_(){if(jt===1){jt=0;var n=br,i=xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{c_(i,n);var d=jd,v=gg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&mg(T.ownerDocument.documentElement,T)){if(I!==null&&pf(T)){var q=I.start,W=I.end;if(W===void 0&&(W=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,_e=Math.min(I.start,Te),Xe=I.end===void 0?_e:Math.min(I.end,Te);!F.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var U=pg(T,_e),V=pg(T,Xe);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),F.removeAllRanges(),_e>Xe?(F.addRange(B),F.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),F.addRange(B))}}}}for(ee=[],F=T;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Vc=!!Bd,jd=Bd=null}finally{Ge=f,le.p=l,X.T=a}}n.current=i,jt=2}}function D_(){if(jt===2){jt=0;var n=br,i=xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{a_(n,i.alternate,i)}finally{Ge=f,le.p=l,X.T=a}}jt=3}}function N_(){if(jt===4||jt===3){jt=0,yu();var n=br,i=xa,a=Va,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,xa=br=null,O_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(wr=null),Js(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=le.p,le.p=2,X.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=i,le.p=f}}(Va&3)!==0&&Sc(),oi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Rd?pl++:(pl=0,Rd=n):pl=0,ml(0)}}function O_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Yo(i)))}function Sc(n){return I_(),D_(),N_(),M_()}function M_(){if(jt!==5)return!1;var n=br,i=wd;wd=0;var a=Js(Va),l=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=bd,bd=null;var d=br,v=Va;if(jt=0,xa=br=null,Va=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,m_(d.current),f_(d,d.current,v,a),Ge=T,ml(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{le.p=f,X.T=l,O_(n,i)}}function x_(n,i,a){i=Rn(a,i),i=rd(n.stateNode,i,2),n=mr(n,i,2),n!==null&&(vi(n,2),oi(n))}function We(n,i,a){if(n.tag===3)x_(n,n,a);else for(;i!==null;){if(i.tag===3){x_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){n=Rn(a,n),a=Ly(2),l=mr(i,a,2),l!==null&&(Uy(a,l,i,n),vi(l,2),oi(l));break}}i=i.return}}function Nd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new jA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Ed=!0,f.add(a),n=KA.bind(null,n,i,a),i.then(n,n))}function KA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>En()-Ad?(Ge&2)===0&&Pa(n,0):Td|=a,Ma===Le&&(Ma=0)),oi(n)}function V_(n,i){i===0&&(i=wo()),n=ya(n,i),n!==null&&(vi(n,i),oi(n))}function QA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(n,a)}function YA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),V_(n,a)}function $A(n,i){return ts(n,i)}var Ac=null,La=null,Od=!1,wc=!1,Md=!1,ks=0;function oi(n){n!==La&&n.next===null&&(La===null?Ac=La=n:La=La.next=n),wc=!0,Od||(Od=!0,WA())}function ml(n,i){if(!Md&&wc){Md=!0;do for(var a=!1,l=Ac;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=Le,d=Zs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Md=!1}}function XA(){P_()}function P_(){wc=Od=!1;var n=0;ks!==0&&(sw()&&(n=ks),ks=0);for(var i=En(),a=null,l=Ac;l!==null;){var f=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Ac=f:a.next=f,f===null&&(La=a)):(a=l,(n!==0||(d&3)!==0)&&(wc=!0)),l=f}ml(n)}function k_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,I=f[v];I===-1?((T&a)===0||(T&l)!==0)&&(f[v]=So(T,i)):I<=i&&(n.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=Zs(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||os(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ns(l),Js(a)){case 2:case 8:a=Xs;break;case 32:a=is;break;case 268435456:a=Ws;break;default:a=is}return l=L_.bind(null,n),a=ts(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ns(l),n.callbackPriority=2,n.callbackNode=null,2}function L_(n,i){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Sc()&&n.callbackNode!==a)return null;var l=Le;return l=Zs(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(v_(n,l,i),k_(n,En()),n.callbackNode!=null&&n.callbackNode===a?L_.bind(null,n):null)}function U_(n,i){if(Sc())return null;v_(n,i,!0)}function WA(){ow(function(){(Ge&6)!==0?ts(Eo,XA):P_()})}function xd(){return ks===0&&(ks=Ao()),ks}function z_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:sa(""+n)}function B_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function ZA(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=z_((f[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?z_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new aa("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var I=v?B_(f,v):new FormData(f);Jf(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?B_(f,v):new FormData(f),Jf(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Vd=0;Vd<_f.length;Vd++){var Pd=_f[Vd],JA=Pd.toLowerCase(),ew=Pd[0].toUpperCase()+Pd.slice(1);Un(JA,"on"+ew)}Un(vg,"onAnimationEnd"),Un(Eg,"onAnimationIteration"),Un(Tg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(yA,"onTransitionRun"),Un(_A,"onTransitionStart"),Un(vA,"onTransitionCancel"),Un(Sg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function j_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=I}}}}function Me(n,i){var a=i[Co];a===void 0&&(a=i[Co]=new Set);var l=n+"__bubble";a.has(l)||(q_(i,n,2,!1),a.add(l))}function kd(n,i,a){var l=0;i&&(l|=4),q_(a,n,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ld(n){if(!n[bc]){n[bc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(tw.has(a)||kd(a,!1,n),kd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[bc]||(i[bc]=!0,kd("selectionchange",!1,i))}}function q_(n,i,a,l){switch(fv(i)){case 2:var f=Iw;break;case 8:f=Dw;break;default:f=Wd}a=f.bind(null,i,a,n),f=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Ud(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Cu(function(){var q=d,W=An(a),ee=[];e:{var H=Ag.get(n);if(H!==void 0){var F=aa,Te=n;switch(n){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":F=fa;break;case"focusin":Te="focus",F=ua;break;case"focusout":Te="blur",F=ua;break;case"beforeblur":case"afterblur":F=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Pu;break;case vg:case Eg:case Tg:F=ca;break;case Sg:F=Lu;break;case"scroll":case"scrollend":F=Iu;break;case"wheel":F=da;break;case"copy":case"cut":case"paste":F=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bo;break;case"toggle":case"beforetoggle":F=zu}var _e=(i&4)!==0,Xe=!_e&&(n==="scroll"||n==="scrollend"),U=_e?H!==null?H+"Capture":null:H;_e=[];for(var V=q,B;V!==null;){var J=V;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=ms(V,U),J!=null&&_e.push(yl(V,J,B))),Xe)break;V=V.return}0<_e.length&&(H=new F(H,Te,null,a,W),ee.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==wi&&(Te=a.relatedTarget||a.fromElement)&&(Ei(Te)||Te[Tn]))break e;if((F||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=q,Te=Te?Ei(Te):null,Te!==null&&(Xe=u(Te),_e=Te.tag,Te!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=q),F!==Te)){if(_e=bn,J="onMouseLeave",U="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Bo,J="onPointerLeave",U="onPointerEnter",V="pointer"),Xe=F==null?H:Yn(F),B=Te==null?H:Yn(Te),H=new _e(J,V+"leave",F,a,W),H.target=Xe,H.relatedTarget=B,J=null,Ei(W)===q&&(_e=new _e(U,V+"enter",Te,a,W),_e.target=B,_e.relatedTarget=Xe,J=_e),Xe=J,F&&Te)t:{for(_e=F,U=Te,V=0,B=_e;B;B=Ua(B))V++;for(B=0,J=U;J;J=Ua(J))B++;for(;0<V-B;)_e=Ua(_e),V--;for(;0<B-V;)U=Ua(U),B--;for(;V--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=Ua(_e),U=Ua(U)}_e=null}else _e=null;F!==null&&H_(ee,H,F,_e,!1),Te!==null&&Xe!==null&&H_(ee,Xe,Te,_e,!0)}}e:{if(H=q?Yn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=lg;else if(At(H))if(ug)fe=pA;else{fe=fA;var Ne=hA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&xo(q.elementType)&&(fe=lg):fe=dA;if(fe&&(fe=fe(n,q))){Di(ee,fe,a,W);break e}Ne&&Ne(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&cr(H,"number",H.value)}switch(Ne=q?Yn(q):window,n){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(pa=Ne,mf=q,Ho=null);break;case"focusout":Ho=mf=pa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,yg(ee,a,W);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":yg(ee,a,W)}var pe;if(ti)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?Q(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(pe=Po()):(Wn=W,hr="value"in Wn?Wn.value:Wn.textContent,Pe=!0)),Ne=Rc(q,ve),0<Ne.length&&(ve=new Uo(ve,n,null,a,W),ee.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=ae(a),pe!==null&&(ve.data=pe)))),(pe=y?St(n,a):ke(n,a))&&(ve=Rc(q,"onBeforeInput"),0<ve.length&&(Ne=new Uo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ne,listeners:ve}),Ne.data=pe)),ZA(ee,n,q,a,W)}j_(ee,i)})}function yl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Rc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ms(n,a),f!=null&&l.unshift(yl(n,f,d)),f=ms(n,i),f!=null&&l.push(yl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ua(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function H_(n,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,f?(q=ms(a,d),q!=null&&v.unshift(yl(a,q,I))):f||(q=ms(a,d),q!=null&&v.push(yl(a,q,I)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var nw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function F_(n){return(typeof n=="string"?n:""+n).replace(nw,`
`).replace(iw,"")}function G_(n,i){return i=F_(i),F_(n)===i}function Cc(){}function $e(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(n,""+l);break;case"className":$n(n,"class",l);break;case"tabIndex":$n(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(n,a,l);break;case"style":Mo(n,l,d);break;case"data":if(i!=="object"){$n(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=sa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(n,i,"name",f.name,f,null),$e(n,i,"formEncType",f.formEncType,f,null),$e(n,i,"formMethod",f.formMethod,f,null),$e(n,i,"formTarget",f.formTarget,f,null)):($e(n,i,"encType",f.encType,f,null),$e(n,i,"method",f.method,f,null),$e(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=sa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Cc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=sa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),ur(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,ur(n,a,l))}}function zd(n,i,a,l,f,d){switch(a){case"style":Mo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&Sn(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ur(n,a,l)}}}function qt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,d,v,a,null)}}f&&$e(n,i,"srcSet",a.srcSet,a,null),l&&$e(n,i,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=v=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:$e(n,i,l,W,a,null)}}fs(n,d,T,I,q,v,f,!1),ra(n);return;case"select":Me("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(n,i,f,T,a,null)}i=d,a=v,n.multiple=!!l,i!=null?Ai(n,!!l,i,!1):a!=null&&Ai(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(n,i,v,T,a,null)}ds(n,l,f,d),ra(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(n,i,I,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<gl.length;l++)Me(gl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,q,l,a,null)}return;default:if(xo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&zd(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(n,i,T,l,a,null))}function rw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,I=null,q=null,W=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||$e(n,i,F,null,l,ee)}}for(var H in l){var F=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(F!=null||ee!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":W=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&$e(n,i,H,F,l,ee)}}hn(n,v,T,I,q,W,d,f);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||$e(n,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(n,i,f,d,l,I)}i=T,a=v,l=F,H!=null?Ai(n,!!a,H,!1):!!l!=!!a&&(i!=null?Ai(n,!!a,i,!0):Ai(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(n,i,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(n,i,v,f,l,d)}Qe(n,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:$e(n,i,Te,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(n,i,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&$e(n,i,_e,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$e(n,i,q,H,l,F)}return;default:if(xo(i)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&zd(n,i,Xe,void 0,l,H);for(W in l)H=l[W],F=a[W],!l.hasOwnProperty(W)||H===F||H===void 0&&F===void 0||zd(n,i,W,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&$e(n,i,U,null,l,H);for(ee in l)H=l[ee],F=a[ee],!l.hasOwnProperty(ee)||H===F||H==null&&F==null||$e(n,i,ee,H,l,F)}var Bd=null,jd=null;function Ic(n){return n.nodeType===9?n:n.ownerDocument}function K_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function qd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function sw(){var n=window.event;return n&&n.type==="popstate"?n===Hd?!1:(Hd=n,!0):(Hd=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(n){return $_.resolve(null).then(n).catch(lw)}:Y_;function lw(n){setTimeout(function(){throw n})}function Cr(n){return n==="head"}function X_(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&_l(v.documentElement),a&2&&_l(v.body),a&4)for(a=v.head,_l(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ls]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){n.removeChild(d),Rl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function Fd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function uw(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ls])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Bn(n.nextSibling),n===null)break}return null}function cw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Bn(n.nextSibling),n===null))return null;return n}function Gd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function hw(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Bn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Kd=null;function W_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Z_(n,i,a){switch(i=Ic(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function _l(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);lr(n)}var Mn=new Map,J_=new Set;function Dc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qi=le.d;le.d={f:fw,r:dw,D:pw,C:mw,L:gw,m:yw,X:vw,S:_w,M:Ew};function fw(){var n=qi.f(),i=Ec();return n||i}function dw(n){var i=Qn(n);i!==null&&i.tag===5&&i.type==="form"?vy(i):qi.r(n)}var za=typeof document>"u"?null:document;function ev(n,i,a){var l=za;if(l&&typeof i=="string"&&i){var f=mt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),J_.has(f)||(J_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),qt(i,"link",n),ct(i),l.head.appendChild(i)))}}function pw(n){qi.D(n),ev("dns-prefetch",n,null)}function mw(n,i){qi.C(n,i),ev("preconnect",n,i)}function gw(n,i,a){qi.L(n,i,a);var l=za;if(l&&n&&i){var f='link[rel="preload"][as="'+mt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mt(a.imageSizes)+'"]')):f+='[href="'+mt(n)+'"]';var d=f;switch(i){case"style":d=Ba(n);break;case"script":d=ja(n)}Mn.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Mn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),qt(i,"link",n),ct(i),l.head.appendChild(i)))}}function yw(n,i){qi.m(n,i);var a=za;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+mt(l)+'"][href="'+mt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(n)}if(!Mn.has(d)&&(n=E({rel:"modulepreload",href:n},i),Mn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),qt(l,"link",n),ct(l),a.head.appendChild(l)}}}function _w(n,i,a){qi.S(n,i,a);var l=za;if(l&&n){var f=Jt(l).hoistableStyles,d=Ba(n);i=i||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Mn.get(d))&&Qd(n,a);var I=v=l.createElement("link");ct(I),qt(I,"link",n),I._p=new Promise(function(q,W){I.onload=q,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function vw(n,i){qi.X(n,i);var a=za;if(a&&n){var l=Jt(a).hoistableScripts,f=ja(n),d=l.get(f);d||(d=a.querySelector(El(f)),d||(n=E({src:n,async:!0},i),(i=Mn.get(f))&&Yd(n,i),d=a.createElement("script"),ct(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ew(n,i){qi.M(n,i);var a=za;if(a&&n){var l=Jt(a).hoistableScripts,f=ja(n),d=l.get(f);d||(d=a.querySelector(El(f)),d||(n=E({src:n,async:!0,type:"module"},i),(i=Mn.get(f))&&Yd(n,i),d=a.createElement("script"),ct(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tv(n,i,a,l){var f=(f=Ae.current)?Dc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=Jt(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ba(a.href);var d=Jt(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(vl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(n,a),d||Tw(f,n,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=Jt(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ba(n){return'href="'+mt(n)+'"'}function vl(n){return'link[rel="stylesheet"]['+n+"]"}function nv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function Tw(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),ct(i),n.head.appendChild(i))}function ja(n){return'[src="'+mt(n)+'"]'}function El(n){return"script[async]"+n}function iv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+mt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ct(l),qt(l,"style",f),Nc(l,a.precedence,n),i.instance=l;case"stylesheet":f=Ba(a.href);var d=n.querySelector(vl(f));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=nv(a),(f=Mn.get(f))&&Qd(l,f),d=(n.ownerDocument||n).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,n),i.instance=d;case"script":return d=ja(a.src),(f=n.querySelector(El(d)))?(i.instance=f,ct(f),f):(l=a,(f=Mn.get(d))&&(l=E({},a),Yd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ct(f),qt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,n));return i.instance}function Nc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Qd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Oc=null;function rv(n,i,a){if(Oc===null){var l=new Map,f=Oc=new Map;f.set(a,l)}else f=Oc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ls]||d[Tt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function sv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Sw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Tl=null;function Aw(){}function ww(n,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ba(a.href),d=n.querySelector(vl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Mc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=n.ownerDocument||n,a=nv(a),(f=Mn.get(f))&&Qd(a,f),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Mc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function bw(){if(Tl===null)throw Error(s(475));var n=Tl;return n.stylesheets&&n.count===0&&$d(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&$d(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xc=null;function $d(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xc=new Map,i.forEach(Rw,n),xc=null,Mc.call(n))}function Rw(n,i){if(!(i.state.loading&4)){var a=xc.get(n);if(a)var l=a.get(null);else{a=new Map,xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Mc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Sl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Cw(n,i,a,l,f,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ov(n,i,a,l,f,d,v,T,I,q,W,ee){return n=new Cw(n,i,a,v,T,I,q,ee),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),n.current=d,d.stateNode=n,i=Nf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),n}function lv(n){return n?(n=_a,n):_a}function uv(n,i,a,l,f,d){f=lv(f),l.context===null?l.context=f:l.pendingContext=f,l=pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=mr(n,l,i),a!==null&&(_n(a,n,i),Zo(a,n,i))}function cv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Xd(n,i){cv(n,i),(n=n.alternate)&&cv(n,i)}function hv(n){if(n.tag===13){var i=ya(n,67108864);i!==null&&_n(i,n,67108864),Xd(n,67108864)}}var Vc=!0;function Iw(n,i,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=2,Wd(n,i,a,l)}finally{le.p=d,X.T=f}}function Dw(n,i,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=8,Wd(n,i,a,l)}finally{le.p=d,X.T=f}}function Wd(n,i,a,l){if(Vc){var f=Zd(l);if(f===null)Ud(n,i,l,Pc,a),dv(n,l);else if(Ow(f,n,i,a,l))l.stopPropagation();else if(dv(n,l),i&4&&-1<Nw.indexOf(n)){for(;f!==null;){var d=Qn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Kt(v);T.entanglements[1]|=I,v&=~I}oi(d),(Ge&6)===0&&(_c=En()+500,ml(0))}}break;case 13:T=ya(d,2),T!==null&&_n(T,d,2),Ec(),Xd(d,2)}if(d=Zd(l),d===null&&Ud(n,i,l,Pc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Ud(n,i,l,null,a)}}function Zd(n){return n=An(n),Jd(n)}var Pc=null;function Jd(n){if(Pc=null,n=Ei(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Pc=n,null}function fv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tf()){case Eo:return 2;case Xs:return 8;case is:case nf:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var ep=!1,Ir=null,Dr=null,Nr=null,Al=new Map,wl=new Map,Or=[],Nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(n,i){switch(n){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function bl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Qn(i),i!==null&&hv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Ow(n,i,a,l,f){switch(i){case"focusin":return Ir=bl(Ir,n,i,a,l,f),!0;case"dragenter":return Dr=bl(Dr,n,i,a,l,f),!0;case"mouseover":return Nr=bl(Nr,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Al.set(d,bl(Al.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,wl.set(d,bl(wl.get(d)||null,n,i,a,l,f)),!0}return!1}function pv(n){var i=Ei(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Eu(n.priority,function(){if(a.tag===13){var l=yn();l=sr(l);var f=ya(a,l);f!==null&&_n(f,a,l),Xd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function kc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Zd(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return i=Qn(a),i!==null&&hv(i),n.blockedOn=a,!1;i.shift()}return!0}function mv(n,i,a){kc(n)&&a.delete(i)}function Mw(){ep=!1,Ir!==null&&kc(Ir)&&(Ir=null),Dr!==null&&kc(Dr)&&(Dr=null),Nr!==null&&kc(Nr)&&(Nr=null),Al.forEach(mv),wl.forEach(mv)}function Lc(n,i){n.blockedOn===i&&(n.blockedOn=null,ep||(ep=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mw)))}var Uc=null;function gv(n){Uc!==n&&(Uc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===n&&(Uc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=Qn(a);d!==null&&(n.splice(i,3),i-=3,Jf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Rl(n){function i(I){return Lc(I,n)}Ir!==null&&Lc(Ir,n),Dr!==null&&Lc(Dr,n),Nr!==null&&Lc(Nr,n),Al.forEach(i),wl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Or.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[pt]||null;if(typeof d=="function")v||gv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[pt]||null)T=v.formAction;else if(Jd(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),gv(a)}}}function tp(n){this._internalRoot=n}zc.prototype.render=tp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();uv(a,l,n,i,null,null)},zc.prototype.unmount=tp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;uv(n.current,2,null,n,null,null),Ec(),i[Tn]=null}};function zc(n){this._internalRoot=n}zc.prototype.unstable_scheduleHydration=function(n){if(n){var i=ar();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,n),a===0&&pv(n)}};var yv=e.version;if(yv!=="19.1.0")throw Error(s(527,yv,"19.1.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var xw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{ot=Bc.inject(xw),Fe=Bc}catch{}}return Il.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=xy,d=Vy,v=Py,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=ov(n,1,!1,null,null,a,l,f,d,v,T,null),n[Tn]=i.current,Ld(n),new tp(i)},Il.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=xy,v=Vy,T=Py,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=ov(n,1,!0,i,a??null,l,f,d,v,T,I,q),i.context=lv(null),a=i.current,l=yn(),l=sr(l),f=pr(l),f.callback=null,mr(a,f,l),a=l,i.current.lanes=a,vi(i,a),oi(i),n[Tn]=i.current,Ld(n),new zc(i)},Il.version="19.1.0",Il}var Cv;function Fw(){if(Cv)return rp.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rp.exports=Hw(),rp.exports}var Gw=Fw(),Dl={},Iv;function Kw(){if(Iv)return Dl;Iv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=h,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,O){const M=new u,G=w.length;if(G<2)return M;const k=(O==null?void 0:O.decode)||E;let Y=0;do{const ne=w.indexOf("=",Y);if(ne===-1)break;const K=w.indexOf(";",Y),oe=K===-1?G:K;if(ne>oe){Y=w.lastIndexOf(";",ne-1)+1;continue}const re=p(w,Y,ne),de=m(w,ne,re),C=w.slice(re,de);if(M[C]===void 0){let b=p(w,ne+1,oe),R=m(w,oe,b);const N=k(w.slice(b,R));M[C]=N}Y=oe+1}while(Y<G);return M}function p(w,O,M){do{const G=w.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<M);return M}function m(w,O,M){for(;O>M;){const G=w.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return M}function g(w,O,M){const G=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=G(O);if(!e.test(k))throw new TypeError(`argument val is invalid: ${O}`);let Y=w+"="+k;if(!M)return Y;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);Y+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);Y+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);Y+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);Y+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(Y+="; HttpOnly"),M.secure&&(Y+="; Secure"),M.partitioned&&(Y+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return Y}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Dl}Kw();var Dv="popstate";function Qw(r={}){function e(o,u){let{pathname:h="/",search:p="",hash:m=""}=Ks(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ip("",{pathname:h,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:Hl(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return $w(e,t,s,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yw(){return Math.random().toString(36).substring(2,10)}function Nv(r,e){return{usr:r.state,key:r.key,idx:e}}function Ip(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:t,key:e&&e.key||s||Yw()}}function Hl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ks(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function $w(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",m=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){p="POP";let k=E(),Y=k==null?null:k-g;g=k,m&&m({action:p,location:G.location,delta:Y})}function w(k,Y){p="PUSH";let ne=Ip(G.location,k,Y);t&&t(ne,k),g=E()+1;let K=Nv(ne,g),oe=G.createHref(ne);try{h.pushState(K,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(oe)}u&&m&&m({action:p,location:G.location,delta:1})}function O(k,Y){p="REPLACE";let ne=Ip(G.location,k,Y);t&&t(ne,k),g=E();let K=Nv(ne,g),oe=G.createHref(ne);h.replaceState(K,"",oe),u&&m&&m({action:p,location:G.location,delta:0})}function M(k){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof k=="string"?k:Hl(k);return ne=ne.replace(/ $/,"%20"),rt(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let G={get action(){return p},get location(){return r(o,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,A),m=k,()=>{o.removeEventListener(Dv,A),m=null}},createHref(k){return e(o,k)},createURL:M,encodeLocation(k){let Y=M(k);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:O,go(k){return h.go(k)}};return G}function v0(r,e,t="/"){return Xw(r,e,t,!1)}function Xw(r,e,t,s){let o=typeof e=="string"?Ks(e):e,u=$i(o.pathname||"/",t);if(u==null)return null;let h=E0(r);Ww(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=lb(u);p=ab(h[m],g,s)}return p}function E0(r,e=[],t=[],s=""){let o=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=Ki([s,m.relativePath]),E=t.concat(m);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),E0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:rb(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let m of T0(u.path))o(u,h,m)}),e}function T0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=T0(s.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Ww(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:sb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Zw=/^:[\w-]+$/,Jw=3,eb=2,tb=1,nb=10,ib=-2,Ov=r=>r==="*";function rb(r,e){let t=r.split("/"),s=t.length;return t.some(Ov)&&(s+=ib),e&&(s+=eb),t.filter(o=>!Ov(o)).reduce((o,u)=>o+(Zw.test(u)?Jw:u===""?tb:nb),s)}function sb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ab(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),w=m.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:Ki([u,A.pathname]),pathnameBase:fb(Ki([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Ki([u,A.pathnameBase]))}return h}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=ob(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let M=p[w]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[w];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function ob(r,e=!1,t=!0){Vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function ub(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Ks(r):r;return{pathname:t?t.startsWith("/")?t:cb(t,e):e,search:db(s),hash:pb(o)}}function cb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function lp(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hb(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function im(r){let e=hb(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function rm(r,e,t,s=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}p=A>=0?e[A]:"/"}let m=ub(o,p),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),fb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),db=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function mb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var gb=["GET",...S0];new Set(gb);var uo=j.createContext(null);uo.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";var A0=j.createContext({isTransitioning:!1});A0.displayName="ViewTransition";var yb=j.createContext(new Map);yb.displayName="Fetchers";var _b=j.createContext(null);_b.displayName="Await";var Fn=j.createContext(null);Fn.displayName="Navigation";var nu=j.createContext(null);nu.displayName="Location";var gi=j.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var sm=j.createContext(null);sm.displayName="RouteError";function vb(r,{relative:e}={}){rt(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Fn),{hash:o,pathname:u,search:h}=ru(r,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:Ki([t,u])),s.createHref({pathname:p,search:h,hash:o})}function co(){return j.useContext(nu)!=null}function Xr(){return rt(co(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(nu).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b0(r){j.useContext(Fn).static||j.useLayoutEffect(r)}function iu(){let{isDataRoute:r}=j.useContext(gi);return r?Mb():Eb()}function Eb(){rt(co(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(uo),{basename:e,navigator:t}=j.useContext(Fn),{matches:s}=j.useContext(gi),{pathname:o}=Xr(),u=JSON.stringify(im(s)),h=j.useRef(!1);return b0(()=>{h.current=!0}),j.useCallback((m,g={})=>{if(Vn(h.current,w0),!h.current)return;if(typeof m=="number"){t.go(m);return}let E=rm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}j.createContext(null);function ru(r,{relative:e}={}){let{matches:t}=j.useContext(gi),{pathname:s}=Xr(),o=JSON.stringify(im(t));return j.useMemo(()=>rm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Tb(r,e){return R0(r,e)}function R0(r,e,t,s){var ne;rt(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Fn),{matches:h}=j.useContext(gi),p=h[h.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let K=A&&A.path||"";C0(g,!A||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=Xr(),O;if(e){let K=typeof e=="string"?Ks(e):e;rt(E==="/"||((ne=K.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=w;let M=O.pathname||"/",G=M;if(E!=="/"){let K=E.replace(/^\//,"").split("/");G="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:v0(r,{pathname:G});Vn(A||k!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Vn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Rb(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:Ki([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:Ki([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,s);return e&&Y?j.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function Sb(){let r=Ob(),e=mb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var Ab=j.createElement(Sb,null),wb=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(gi.Provider,{value:this.props.routeContext},j.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bb({routeContext:r,match:e,children:t}){let s=j.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(gi.Provider,{value:r},t)}function Rb(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,p=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:A}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let A,w=!1,O=null,M=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||Ab,h&&(p<0&&E===0?(C0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):p===E&&(w=!0,M=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),k=()=>{let Y;return A?Y=O:w?Y=M:g.route.Component?Y=j.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,j.createElement(bb,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(wb,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:k(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):k()},null)}function am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(r){let e=j.useContext(uo);return rt(e,am(r)),e}function Ib(r){let e=j.useContext(Nh);return rt(e,am(r)),e}function Db(r){let e=j.useContext(gi);return rt(e,am(r)),e}function om(r){let e=Db(r),t=e.matches[e.matches.length-1];return rt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Nb(){return om("useRouteId")}function Ob(){var s;let r=j.useContext(sm),e=Ib("useRouteError"),t=om("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Mb(){let{router:r}=Cb("useNavigate"),e=om("useNavigate"),t=j.useRef(!1);return b0(()=>{t.current=!0}),j.useCallback(async(o,u={})=>{Vn(t.current,w0),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Mv={};function C0(r,e,t){!e&&!Mv[r]&&(Mv[r]=!0,Vn(!1,t))}j.memo(xb);function xb({routes:r,future:e,state:t}){return R0(r,void 0,t,e)}function Vb({to:r,replace:e,state:t,relative:s}){rt(co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Fn);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(gi),{pathname:h}=Xr(),p=iu(),m=rm(r,im(u),h,s==="path"),g=JSON.stringify(m);return j.useEffect(()=>{p(JSON.parse(g),{replace:e,state:t,relative:s})},[p,g,s,e,t]),null}function $c(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pb({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){rt(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ks(t));let{pathname:m="/",search:g="",hash:E="",state:A=null,key:w="default"}=t,O=j.useMemo(()=>{let M=$i(m,h);return M==null?null:{location:{pathname:M,search:g,hash:E,state:A,key:w},navigationType:s}},[h,m,g,E,A,w,s]);return Vn(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Fn.Provider,{value:p},j.createElement(nu.Provider,{children:e,value:O}))}function kb({children:r,location:e}){return Tb(Dp(r),e)}function Dp(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){t.push.apply(t,Dp(s.props.children,u));return}rt(s.type===$c,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Dp(s.props.children,u)),t.push(h)}),t}var Xc="get",Wc="application/x-www-form-urlencoded";function Oh(r){return r!=null&&typeof r.tagName=="string"}function Lb(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function Ub(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function zb(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function Bb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jb(r,e){return r.button===0&&(!e||e==="_self")&&!Bb(r)}var jc=null;function qb(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var Hb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(r){return r!=null&&!Hb.has(r)?(Vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function Fb(r,e){let t,s,o,u,h;if(Ub(r)){let p=r.getAttribute("action");s=p?$i(p,e):null,t=r.getAttribute("method")||Xc,o=up(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(Lb(r)||zb(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?$i(m,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||Xc,o=up(r.getAttribute("formenctype"))||up(p.getAttribute("enctype"))||Wc,u=new FormData(p,r),!qb()){let{name:g,type:E,value:A}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xc,s=null,o=Wc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function lm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Gb(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Qb(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Gb(u,t);return h.links?h.links():[]}return[]}));return Wb(s.flat(1).filter(Kb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(r,e,t,s,o,u){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>{var E;return t[g].pathname!==m.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var A;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Yb(r,e,{includeHydrateFallback:t}={}){return $b(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $b(r){return[...new Set(r)]}function Xb(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Wb(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Xb(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}var Zb=new Set([100,101,204,205]);function Jb(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&$i(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function I0(){let r=j.useContext(uo);return lm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eR(){let r=j.useContext(Nh);return lm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var um=j.createContext(void 0);um.displayName="FrameworkContext";function D0(){let r=j.useContext(um);return lm(r,"You must render this element inside a <HydratedRouter> element"),r}function tR(r,e){let t=j.useContext(um),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=Y=>{Y.forEach(ne=>{h(ne.isIntersecting)})},k=new IntersectionObserver(G,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Nl(p,O),onBlur:Nl(m,M),onMouseEnter:Nl(g,O),onMouseLeave:Nl(E,M),onTouchStart:Nl(A,O)}]:[!1,w,{}]}function Nl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function nR({page:r,...e}){let{router:t}=I0(),s=j.useMemo(()=>v0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(rR,{page:r,matches:s,...e}):null}function iR(r){let{manifest:e,routeModules:t}=D0(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return Qb(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function rR({page:r,matches:e,...t}){let s=Xr(),{manifest:o,routeModules:u}=D0(),{basename:h}=I0(),{loaderData:p,matches:m}=eR(),g=j.useMemo(()=>xv(r,e,m,o,s,"data"),[r,e,m,o,s]),E=j.useMemo(()=>xv(r,e,m,o,s,"assets"),[r,e,m,o,s]),A=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,G=!1;if(e.forEach(Y=>{var K;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!g.some(oe=>oe.route.id===Y.route.id)&&Y.route.id in p&&((K=u[Y.route.id])!=null&&K.shouldRevalidate)||ne.hasClientLoader?G=!0:M.add(Y.route.id))}),M.size===0)return[];let k=Jb(r,h);return G&&M.size>0&&k.searchParams.set("_routes",e.filter(Y=>M.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[k.pathname+k.search]},[h,p,s,o,g,e,r,u]),w=j.useMemo(()=>Yb(E,o),[E,o]),O=iR(E);return j.createElement(j.Fragment,null,A.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),w.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:G})=>j.createElement("link",{key:M,...G})))}function sR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var N0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N0&&(window.__reactRouterVersion="7.5.2")}catch{}function aR({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=Qw({window:t,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),p=j.useCallback(m=>{j.startTransition(()=>h(m))},[h]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(Pb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M0=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:m,to:g,preventScrollReset:E,viewTransition:A,...w},O){let{basename:M}=j.useContext(Fn),G=typeof g=="string"&&O0.test(g),k,Y=!1;if(typeof g=="string"&&G&&(k=g,N0))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=$i(N.pathname,M);N.origin===R.origin&&P!=null?g=P+N.search+N.hash:Y=!0}catch{Vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=vb(g,{relative:o}),[K,oe,re]=tR(s,w),de=cR(g,{replace:h,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:A});function C(R){e&&e(R),R.defaultPrevented||de(R)}let b=j.createElement("a",{...w,...re,href:k||ne,onClick:Y||u?e:C,ref:sR(O,oe),target:m,"data-discover":!G&&t==="render"?"true":void 0});return K&&!G?j.createElement(j.Fragment,null,b,j.createElement(nR,{page:ne})):b});M0.displayName="Link";var oR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:m,...g},E){let A=ru(h,{relative:g.relative}),w=Xr(),O=j.useContext(Nh),{navigator:M,basename:G}=j.useContext(Fn),k=O!=null&&mR(A)&&p===!0,Y=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,ne=w.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&G&&(K=$i(K,G)||K);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let re=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(oe)==="/",de=K!=null&&(K===Y||!o&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),C={isActive:re,isPending:de,isTransitioning:k},b=re?e:void 0,R;typeof s=="function"?R=s(C):R=[s,re?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(C):u;return j.createElement(M0,{...g,"aria-current":b,className:R,ref:E,style:N,to:h,viewTransition:p},typeof m=="function"?m(C):m)});oR.displayName="NavLink";var lR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Xc,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:A,...w},O)=>{let M=dR(),G=pR(p,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&O0.test(p),ne=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let oe=K.nativeEvent.submitter,re=(oe==null?void 0:oe.getAttribute("formmethod"))||h;M(oe||K.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return j.createElement("form",{ref:O,method:k,action:G,onSubmit:s?m:ne,...w,"data-discover":!Y&&r==="render"?"true":void 0})});lR.displayName="Form";function uR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(r){let e=j.useContext(uo);return rt(e,uR(r)),e}function cR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=iu(),m=Xr(),g=ru(r,{relative:u});return j.useCallback(E=>{if(jb(E,e)){E.preventDefault();let A=t!==void 0?t:Hl(m)===Hl(g);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,p,g,t,s,e,r,o,u,h])}var hR=0,fR=()=>`__${String(++hR)}__`;function dR(){let{router:r}=x0("useSubmit"),{basename:e}=j.useContext(Fn),t=Nb();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:m,body:g}=Fb(s,e);if(o.navigate===!1){let E=o.fetcherKey||fR();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function pR(r,{relative:e}={}){let{basename:t}=j.useContext(Fn),s=j.useContext(gi);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},h=Xr();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ki([t,u.pathname])),Hl(u)}function mR(r,e={}){let t=j.useContext(A0);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=x0("useViewTransitionState"),o=ru(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=$i(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=$i(t.nextLocation.pathname,s)||t.nextLocation.pathname;return lh(o.pathname,h)!=null||lh(o.pathname,u)!=null}new TextEncoder;[...Zb];const gR=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],p=r[t++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,O=g&63;m||(O=64,h||(w=64)),s.push(t[E],t[A],t[w],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(V0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new _R;const w=u<<2|p>>4;if(s.push(w),g!==64){const O=p<<4&240|g>>2;if(s.push(O),A!==64){const M=g<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=V0(r);return P0.encodeByteArray(e,!0)},uh=function(r){return vR(r).replace(/\./g,"")},k0=function(r){try{return P0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof Vv>"u")return;const r=Vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k0(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return gR()||TR()||SR()||AR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>{var e,t;return(t=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},wR=r=>{const e=L0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},U0=()=>{var r;return(r=Mh())===null||r===void 0?void 0:r.config},z0=r=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(t)),uh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function IR(){var r;const e=(r=Mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class er extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kR,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LR(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new er(o,p,s)}}function LR(r,e){return r.replace(UR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function zR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Pv(u)&&Pv(h)){if(!Bs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function BR(r,e){const t=new jR(r,e);return t.subscribe.bind(t)}class jR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r){return r&&r._delegate?r._delegate:r}class js{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new bR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(r){return r===Ls?void 0:r}function GR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const QR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},YR=xe.INFO,$R={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},XR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$R[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=YR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const WR=(r,e)=>e.some(t=>r instanceof t);let kv,Lv;function ZR(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,Np=new WeakMap,j0=new WeakMap,hp=new WeakMap,hm=new WeakMap;function eC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(zr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&B0.set(t,r)}).catch(()=>{}),hm.set(e,r),e}function tC(r){if(Np.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Np.set(r,e)}let Op={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nC(r){Op=r(Op)}function iC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(fp(this),e,...t);return j0.set(s,e.sort?e.sort():[e]),zr(s)}:JR().includes(r)?function(...e){return r.apply(fp(this),e),zr(B0.get(this))}:function(...e){return zr(r.apply(fp(this),e))}}function rC(r){return typeof r=="function"?iC(r):(r instanceof IDBTransaction&&tC(r),WR(r,ZR())?new Proxy(r,Op):r)}function zr(r){if(r instanceof IDBRequest)return eC(r);if(hp.has(r))return hp.get(r);const e=rC(r);return e!==r&&(hp.set(r,e),hm.set(e,r)),e}const fp=r=>hm.get(r);function sC(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=zr(h);return s&&h.addEventListener("upgradeneeded",m=>{s(zr(h.result),m.oldVersion,m.newVersion,zr(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const aC=["get","getKey","getAll","getAllKeys","count"],oC=["put","add","delete","clear"],dp=new Map;function Uv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=oC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aC.includes(t)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return dp.set(e,u),u}nC(r=>({...r,get:(e,t,s)=>Uv(e,t)||r.get(e,t,s),has:(e,t)=>!!Uv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function uC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",zv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new cm("@firebase/app"),cC="@firebase/app-compat",hC="@firebase/analytics-compat",fC="@firebase/analytics",dC="@firebase/app-check-compat",pC="@firebase/app-check",mC="@firebase/auth",gC="@firebase/auth-compat",yC="@firebase/database",_C="@firebase/data-connect",vC="@firebase/database-compat",EC="@firebase/functions",TC="@firebase/functions-compat",SC="@firebase/installations",AC="@firebase/installations-compat",wC="@firebase/messaging",bC="@firebase/messaging-compat",RC="@firebase/performance",CC="@firebase/performance-compat",IC="@firebase/remote-config",DC="@firebase/remote-config-compat",NC="@firebase/storage",OC="@firebase/storage-compat",MC="@firebase/firestore",xC="@firebase/vertexai",VC="@firebase/firestore-compat",PC="firebase",kC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",LC={[Mp]:"fire-core",[cC]:"fire-core-compat",[fC]:"fire-analytics",[hC]:"fire-analytics-compat",[pC]:"fire-app-check",[dC]:"fire-app-check-compat",[mC]:"fire-auth",[gC]:"fire-auth-compat",[yC]:"fire-rtdb",[_C]:"fire-data-connect",[vC]:"fire-rtdb-compat",[EC]:"fire-fn",[TC]:"fire-fn-compat",[SC]:"fire-iid",[AC]:"fire-iid-compat",[wC]:"fire-fcm",[bC]:"fire-fcm-compat",[RC]:"fire-perf",[CC]:"fire-perf-compat",[IC]:"fire-rc",[DC]:"fire-rc-compat",[NC]:"fire-gcs",[OC]:"fire-gcs-compat",[MC]:"fire-fst",[VC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[PC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,UC=new Map,Vp=new Map;function Bv(r,e){try{r.container.addComponent(e)}catch(t){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ja(r){const e=r.name;if(Vp.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,r);for(const t of ch.values())Bv(t,r);for(const t of UC.values())Bv(t,r);return!0}function fm(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new su("app","Firebase",zC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=kC;function q0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(t||(t=U0()),!t)throw Br.create("no-options");const u=ch.get(o);if(u){if(Bs(t,u.options)&&Bs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const h=new KR(o);for(const m of Vp.values())h.addComponent(m);const p=new BC(t,s,h);return ch.set(o,p),p}function H0(r=xp){const e=ch.get(r);if(!e&&r===xp&&U0())return q0();if(!e)throw Br.create("no-app",{appName:r});return e}function jr(r,e,t){var s;let o=(s=LC[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(p.join(" "));return}Ja(new js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebase-heartbeat-database",qC=1,Fl="firebase-heartbeat-store";let pp=null;function F0(){return pp||(pp=sC(jC,qC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),pp}async function HC(r){try{const t=(await F0()).transaction(Fl),s=await t.objectStore(Fl).get(G0(r));return await t.done,s}catch(e){if(e instanceof er)Xi.warn(e.message);else{const t=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(t.message)}}}async function jv(r,e){try{const s=(await F0()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,G0(r)),await s.done}catch(t){if(t instanceof er)Xi.warn(t.message);else{const s=Br.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(s.message)}}}function G0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1024,GC=30;class KC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GC){const h=$C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qv(),{heartbeatsToSend:s,unsentEntries:o}=QC(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Xi.warn(t),""}}}function qv(){return new Date().toISOString().substring(0,10)}function QC(r,e=FC){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Hv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Hv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class YC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Hv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function $C(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){Ja(new js("platform-logger",e=>new lC(e),"PRIVATE")),Ja(new js("heartbeat",e=>new KC(e),"PRIVATE")),jr(Mp,zv,r),jr(Mp,zv,"esm2017"),jr("fire-js","")}XC("");var WC="firebase",ZC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(WC,ZC,"app");var Pp=function(r,e){return Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])},Pp(r,e)};function JC(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vt=function(){return Vt=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Vt.apply(this,arguments)};function dm(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function K0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=K0,Q0=new su("auth","Firebase",K0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new cm("@firebase/auth");function tI(r,...e){hh.logLevel<=xe.WARN&&hh.warn(`Auth (${ho}): ${r}`,...e)}function Zc(r,...e){hh.logLevel<=xe.ERROR&&hh.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw pm(r,...e)}function ci(r,...e){return pm(r,...e)}function Y0(r,e,t){const s=Object.assign(Object.assign({},eI()),{[e]:t});return new su("auth","Firebase",s).create(e,{appName:r.name})}function Qi(r){return Y0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Q0.create(r,...e)}function Ee(r,e,...t){if(!r)throw pm(e,...t)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zc(e),new Error(e)}function Wi(r,e){r||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nI(){return Fv()==="http:"||Fv()==="https:"}function Fv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nI()||NR()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=CR()||OR()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new ou(3e4,6e4);function tr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function nr(r,e,t,s,o={}){return X0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=au(Object.assign({key:r.config.apiKey},h)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return DR()||(g.referrerPolicy="no-referrer"),$0.fetch()(W0(r,r.config.apiHost,t,p),g)})}async function X0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},sI),e);try{const o=new lI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw qc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw qc(r,"user-disabled",h);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Y0(r,E,g);qn(r,E)}}catch(o){if(o instanceof er)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function lu(r,e,t,s,o={}){const u=await nr(r,e,t,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function W0(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?mm(r.config,o):`${r.config.apiScheme}://${o}`}function oI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),aI.get())})}}function qc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ci(r,e,s);return o.customData._tokenResponse=t,o}function Gv(r){return r!==void 0&&r.enterprise!==void 0}class uI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cI(r,e){return nr(r,"GET","/v2/recaptchaConfig",tr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(r,e){return nr(r,"POST","/v1/accounts:delete",e)}async function Z0(r,e){return nr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(r,e=!1){const t=Lt(r),s=await t.getIdToken(e),o=gm(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ul(mp(o.auth_time)),issuedAtTime:Ul(mp(o.iat)),expirationTime:Ul(mp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(r){return Number(r)*1e3}function gm(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=k0(t);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kv(r){const e=gm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof er&&dI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Gl(r,Z0(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?J0(u.providerUserInfo):[],p=gI(r.providerData,h),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Lp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function mI(r){const e=Lt(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function J0(r){return r.map(e=>{var{providerId:t}=e,s=dm(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,e){const t=await X0(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=W0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",$0.fetch()(h,{method:"POST",headers:p,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _I(r,e){return nr(r,"POST","/v2/accounts:revokeToken",tr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Kv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await yI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Ya;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=dm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Lp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fI(this,e)}reload(){return mI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Gl(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,p,m,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,G=(p=t.tenantId)!==null&&p!==void 0?p:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ne=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:oe,isAnonymous:re,providerData:de,stsTokenManager:C}=t;Ee(K&&C,e,"internal-error");const b=Ya.fromJSON(this.name,C);Ee(typeof K=="string",e,"internal-error"),xr(A,e.name),xr(w,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),xr(O,e.name),xr(M,e.name),xr(G,e.name),xr(k,e.name),xr(Y,e.name),xr(ne,e.name);const R=new Fi({uid:K,auth:e,email:w,emailVerified:oe,displayName:A,isAnonymous:re,photoURL:M,phoneNumber:O,tenantId:G,stsTokenManager:b,createdAt:Y,lastLoginAt:ne});return de&&Array.isArray(de)&&(R.providerData=de.map(N=>Object.assign({},N))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ya;o.updateFromServerResponse(t);const u=new Fi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ya;p.updateFromIdToken(s);const m=new Fi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Gi(r){Wi(r instanceof Function,"Expected a class definition");let e=Qv.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Qv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eT.type="NONE";const Yv=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,t){return`firebase:${r}:${e}:${t}`}class $a{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new $a(Gi(Yv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Gi(Yv);const h=Jc(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const E=await g._get(h);if(E){const A=Fi._fromJSON(e,E);g!==u&&(p=A),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new $a(u,e,s):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new $a(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tT(r=Zt()){return/firefox\//i.test(r)}function nT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(r=Zt()){return/crios\//i.test(r)}function rT(r=Zt()){return/iemobile/i.test(r)}function sT(r=Zt()){return/android/i.test(r)}function aT(r=Zt()){return/blackberry/i.test(r)}function oT(r=Zt()){return/webos/i.test(r)}function ym(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vI(r=Zt()){var e;return ym(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EI(){return MR()&&document.documentMode===10}function lT(r=Zt()){return ym(r)||sT(r)||oT(r)||aT(r)||/windows phone/i.test(r)||rT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,e=[]){let t;switch(r){case"Browser":t=$v(Zt());break;case"Worker":t=`${$v(Zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e={}){return nr(r,"GET","/v2/passwordPolicy",tr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=6;class wI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:AI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new TI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Z0(this,{idToken:e}),s=await Fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Qi(this));const t=e?Lt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SI(this),t=new wI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await _I(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Wr(r){return Lt(r)}class Xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(r){xh=r}function cT(r){return xh.loadJS(r)}function CI(){return xh.recaptchaEnterpriseScript}function II(){return xh.gapiScript}function DI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new OI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class OI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MI="recaptcha-enterprise",hT="NO_RECAPTCHA";class xI{constructor(e){this.type=MI,this.auth=Wr(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{cI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new uI(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,h,p){const m=window.grecaptcha;Gv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(hT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!t&&Gv(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=CI();m.length!==0&&(m+=p),cT(m).then(()=>{o(p,u,h)}).catch(g=>{h(g)})}}).catch(p=>{h(p)})})}}async function Wv(r,e,t,s=!1,o=!1){const u=new xI(r);let h;if(o)h=hT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Wv(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Wv(r,e,t,t==="getOobCode");return s(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){const t=fm(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Bs(u,e??{}))return o;qn(o,"already-initialized")}return t.initialize({options:e})}function PI(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function kI(r,e,t){const s=Wr(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fT(e),{host:h,port:p}=LI(e),m=p===null?"":`:${p}`,g={url:`${u}//${h}${m}/`},E=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Bs(g,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,UI()}function fT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LI(r){const e=fT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Zv(h)}}}function Zv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function zI(r,e){return nr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,e){return lu(r,"POST","/v1/accounts:signInWithPassword",tr(r,e))}async function jI(r,e){return nr(r,"POST","/v1/accounts:sendOobCode",tr(r,e))}async function qI(r,e){return jI(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",tr(r,e))}async function FI(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",tr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends _m{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Kl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Kl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",BI);case"emailLink":return HI(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",zI);case"emailLink":return FI(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e){return lu(r,"POST","/v1/accounts:signInWithIdp",tr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="http://localhost";class qs extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=dm(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new qs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Xa(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xa(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xa(e,t)}buildRequest(){const e={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(r){const e=Ml(xl(r)).link,t=e?Ml(xl(e)).deep_link_id:null,s=Ml(xl(r)).deep_link_id;return(s?Ml(xl(s)).link:null)||s||t||e||r}class vm{constructor(e){var t,s,o,u,h,p;const m=Ml(xl(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,A=KI((o=m.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=QI(e);try{return new vm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,t){return Kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=vm.parseLink(t);return Ee(s,"argument-error"),Kl._fromEmailAndCode(e,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends uu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Pr.credential(t,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends uu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends uu{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Lr.credential(t,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,e){return lu(r,"POST","/v1/accounts:signUp",tr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Fi._fromIdTokenResponse(e,s,o),h=Jv(s);return new Hs({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Jv(s);return new Hs({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Jv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends er{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ph(e,t,s,o)}}function pT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function $I(r,e,t=!1){const s=await Gl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Hs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e,t=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Qi(s));const o="reauthenticate";try{const u=await Gl(r,pT(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=gm(u.idToken);Ee(h,s,"internal-error");const{sub:p}=h;return Ee(r.uid===p,s,"user-mismatch"),Hs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(r,e,t=!1){if(xn(r.app))return Promise.reject(Qi(r));const s="signIn",o=await pT(r,s,e),u=await Hs._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function WI(r,e){return mT(Wr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(r){const e=Wr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZI(r,e,t){const s=Wr(r);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qI)}async function JI(r,e,t){if(xn(r.app))return Promise.reject(Qi(r));const s=Wr(r),h=await dh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&gT(r),m}),p=await Hs._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function e1(r,e,t){return xn(r.app)?Promise.reject(Qi(r)):WI(Lt(r),fo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gT(r),s})}function t1(r,e,t,s){return Lt(r).onIdTokenChanged(e,t,s)}function n1(r,e,t){return Lt(r).beforeAuthStateChanged(e,t)}function i1(r,e,t,s){return Lt(r).onAuthStateChanged(e,t,s)}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1e3,s1=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);EI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,s1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},r1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const a1=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vT.type="SESSION";const ET=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async g=>g(t.origin,u)),m=await o1(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const g=Em("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function u1(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function c1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function f1(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",d1=1,gh="firebaseLocalStorage",AT="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function p1(){const r=indexedDB.deleteDatabase(ST);return new cu(r).toPromise()}function Up(){const r=indexedDB.open(ST,d1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:AT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await p1(),e(await Up()))})})}async function eE(r,e,t){const s=Ph(r,!0).put({[AT]:e,value:t});return new cu(s).toPromise()}async function m1(r,e){const t=Ph(r,!1).get(e),s=await new cu(t).toPromise();return s===void 0?null:s.value}function tE(r,e){const t=Ph(r,!0).delete(e);return new cu(t).toPromise()}const g1=800,y1=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>y1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(f1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await c1(),!this.activeServiceWorker)return;this.sender=new l1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await eE(e,mh,"1"),await tE(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>eE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>m1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const _1=wT;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r,e){return e?Gi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function E1(r){return mT(r.auth,new Tm(r),r.bypassAuthState)}function T1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),XI(t,new Tm(r),r.bypassAuthState)}async function S1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),$I(t,new Tm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return S1;case"reauthViaPopup":case"reauthViaRedirect":return T1;default:qn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new ou(2e3,1e4);class Qa extends bT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A1.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="pendingRedirect",eh=new Map;class b1 extends bT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await R1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R1(r,e){const t=D1(e),s=I1(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function C1(r,e){eh.set(r._key(),e)}function I1(r){return Gi(r._redirectPersistence)}function D1(r){return Jc(w1,r.config.apiKey,r.name)}async function N1(r,e,t=!1){if(xn(r.app))return Promise.reject(Qi(r));const s=Wr(r),o=v1(s,e),h=await new b1(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=10*60*1e3;class M1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!RT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O1&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(r,e={}){return nr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k1=/^https?/;async function L1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await V1(r);for(const t of e)try{if(U1(t))return}catch{}qn(r,"unauthorized-domain")}function U1(r){const e=kp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!k1.test(t))return!1;if(P1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new ou(3e4,6e4);function iE(){const r=hi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function B1(r){return new Promise((e,t)=>{var s,o,u;function h(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),t(ci(r,"network-request-failed"))},timeout:z1.get()})}if(!((o=(s=hi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hi().gapi)===null||u===void 0)&&u.load)h();else{const p=DI("iframefcb");return hi()[p]=()=>{gapi.load?h():t(ci(r,"network-request-failed"))},cT(`${II()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw th=null,e})}let th=null;function j1(r){return th=th||B1(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new ou(5e3,15e3),H1="__/auth/iframe",F1="emulator/auth/iframe",G1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q1(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?mm(e,F1):`https://${r.config.authDomain}/${H1}`,s={apiKey:e.apiKey,appName:r.name,v:ho},o=K1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${au(s).slice(1)}`}async function Y1(r){const e=await j1(r),t=hi().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:Q1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ci(r,"network-request-failed"),p=hi().setTimeout(()=>{u(h)},q1.get());function m(){hi().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X1=500,W1=600,Z1="_blank",J1="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(r,e,t,s=X1,o=W1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},$1),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Zt().toLowerCase();t&&(p=iT(g)?Z1:t),tT(g)&&(e=e||J1,m.scrollbars="yes");const E=Object.entries(m).reduce((w,[O,M])=>`${w}${O}=${M},`,"");if(vI(g)&&p!=="_self")return tD(e||"",p),new rE(null);const A=window.open(e||"",p,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new rE(A)}function tD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",iD="emulator/auth/handler",rD=encodeURIComponent("fac");async function sE(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ho,eventId:o};if(e instanceof dT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",zR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof uu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${rD}=${encodeURIComponent(m)}`:"";return`${sD(r)}?${au(p).slice(1)}${g}`}function sD({config:r}){return r.emulator?mm(r,iD):`https://${r.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=N1,this._overrideRedirectResult=C1}async _openPopup(e,t,s,o){var u;Wi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await sE(e,t,s,kp(),o);return eD(e,h,Em())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await sE(e,t,s,kp(),o);return u1(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Y1(e),s=new M1(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gp,{type:gp},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[gp];h!==void 0&&t(!!h),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=L1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lT()||nT()||ym()}}const oD=aD;var aE="@firebase/auth",oE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(r){Ja(new js("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(r)},g=new bI(s,o,u,m);return PI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new js("auth-internal",e=>{const t=Wr(e.getProvider("auth").getImmediate());return(s=>new lD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(aE,oE,uD(r)),jr(aE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,fD=z0("authIdTokenMaxAge")||hD;let lE=null;const dD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>fD)return;const o=t==null?void 0:t.token;lE!==o&&(lE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pD(r=H0()){const e=fm(r,"auth");if(e.isInitialized())return e.getImmediate();const t=VI(r,{popupRedirectResolver:oD,persistence:[_1,a1,ET]}),s=z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=dD(u.toString());n1(t,h,()=>h(t.currentUser)),t1(t,p=>h(p))}}const o=L0("auth");return o&&kI(t,`http://${o}`),t}function mD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}RI({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",mD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,CT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function R(){}R.prototype=b.prototype,C.D=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,P,L){for(var D=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)D[Et-2]=arguments[Et];return b.prototype[P].apply(N,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)N[P]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],P=C.g[2];var L=C.g[3],D=b+(L^R&(P^L))+N[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=L+(P^b&(R^P))+N[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(R^L&(b^R))+N[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(b^P&(L^b))+N[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=b+(L^R&(P^L))+N[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(P^b&(R^P))+N[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(R^L&(b^R))+N[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(b^P&(L^b))+N[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=b+(L^R&(P^L))+N[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(P^b&(R^P))+N[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(R^L&(b^R))+N[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(b^P&(L^b))+N[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=b+(L^R&(P^L))+N[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(P^b&(R^P))+N[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(R^L&(b^R))+N[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(b^P&(L^b))+N[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=b+(P^L&(R^P))+N[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(b^R))+N[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^R&(L^b))+N[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(P^L))+N[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(R^P))+N[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(b^R))+N[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^R&(L^b))+N[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(P^L))+N[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(R^P))+N[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(b^R))+N[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^R&(L^b))+N[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(P^L))+N[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(R^P))+N[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(b^R))+N[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^R&(L^b))+N[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(P^L))+N[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=b+(R^P^L)+N[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^P)+N[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^R)+N[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^b)+N[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=b+(R^P^L)+N[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^P)+N[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^R)+N[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^b)+N[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=b+(R^P^L)+N[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^P)+N[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^R)+N[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^b)+N[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=b+(R^P^L)+N[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^P)+N[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^R)+N[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^b)+N[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=b+(P^(R|~L))+N[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~P))+N[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~R))+N[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~b))+N[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=b+(P^(R|~L))+N[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~P))+N[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~R))+N[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~b))+N[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=b+(P^(R|~L))+N[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~P))+N[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~R))+N[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~b))+N[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=b+(P^(R|~L))+N[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~P))+N[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~R))+N[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~b))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var R=b-this.blockSize,N=this.B,P=this.h,L=0;L<b;){if(P==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(N[P++]=C.charCodeAt(L++),P==this.blockSize){o(this,N),P=0;break}}else for(;L<b;)if(N[P++]=C[L++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var R=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=R&255,R/=256;for(this.u(C),C=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)C[R++]=this.g[b]>>>N&255;return C};function u(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function h(C,b){this.h=b;for(var R=[],N=!0,P=C.length-1;0<=P;P--){var L=C[P]|0;N&&L==b||(R[P]=L,N=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(b){return new h([b|0],0>b?-1:0)}):new h([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return k(g(-C));for(var b=[],R=1,N=0;C>=R;N++)b[N]=C/R|0,R*=4294967296;return new h(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return k(E(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),N=A,P=0;P<C.length;P+=8){var L=Math.min(8,C.length-P),D=parseInt(C.substring(P,P+L),b);8>L?(L=g(Math.pow(b,L)),N=N.j(L).add(g(D))):(N=N.j(R),N=N.add(g(D)))}return N}var A=m(0),w=m(1),O=m(16777216);r=h.prototype,r.m=function(){if(G(this))return-k(this).m();for(var C=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(G(this))return"-"+k(this).toString(C);for(var b=g(Math.pow(C,6)),R=this,N="";;){var P=oe(R,b).g;R=Y(R,P.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=P,M(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function G(C){return C.h==-1}r.l=function(C){return C=Y(this,C),G(C)?-1:M(C)?0:1};function k(C){for(var b=C.g.length,R=[],N=0;N<b;N++)R[N]=~C.g[N];return new h(R,~C.h).add(w)}r.abs=function(){return G(this)?k(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],N=0,P=0;P<=b;P++){var L=N+(this.i(P)&65535)+(C.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);N=D>>>16,L&=65535,D&=65535,R[P]=D<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Y(C,b){return C.add(k(b))}r.j=function(C){if(M(this)||M(C))return A;if(G(this))return G(C)?k(this).j(k(C)):k(k(this).j(C));if(G(C))return k(this.j(k(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var b=this.g.length+C.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<C.g.length;P++){var L=this.i(N)>>>16,D=this.i(N)&65535,Et=C.i(P)>>>16,tt=C.i(P)&65535;R[2*N+2*P]+=D*tt,ne(R,2*N+2*P),R[2*N+2*P+1]+=L*tt,ne(R,2*N+2*P+1),R[2*N+2*P+1]+=D*Et,ne(R,2*N+2*P+1),R[2*N+2*P+2]+=L*Et,ne(R,2*N+2*P+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new h(R,0)};function ne(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function K(C,b){this.g=C,this.h=b}function oe(C,b){if(M(b))throw Error("division by zero");if(M(C))return new K(A,A);if(G(C))return b=oe(k(C),b),new K(k(b.g),k(b.h));if(G(b))return b=oe(C,k(b)),new K(k(b.g),b.h);if(30<C.g.length){if(G(C)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=b;0>=N.l(C);)R=re(R),N=re(N);var P=de(R,1),L=de(N,1);for(N=de(N,2),R=de(R,2);!M(N);){var D=L.add(N);0>=D.l(C)&&(P=P.add(R),L=D),N=de(N,1),R=de(R,1)}return b=Y(C,P.j(b)),new K(P,b)}for(P=A;0<=C.l(b);){for(R=Math.max(1,Math.floor(C.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(R),D=L.j(b);G(D)||0<D.l(C);)R-=N,L=g(R),D=L.j(b);M(L)&&(L=w),P=P.add(L),C=Y(C,D)}return new K(P,C)}r.A=function(C){return oe(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&C.i(N);return new h(R,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|C.i(N);return new h(R,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^C.i(N);return new h(R,this.h^C.h)};function re(C){for(var b=C.g.length+1,R=[],N=0;N<b;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(R,C.h)}function de(C,b){var R=b>>5;b%=32;for(var N=C.g.length-R,P=[],L=0;L<N;L++)P[L]=0<b?C.i(L+R)>>>b|C.i(L+R+1)<<32-b:C.i(L+R);return new h(P,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,qr=h}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Vl,DT,nh,zp,NT,OT,MT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,Q){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[z].apply(S,ae)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const z=c.length||0,Q=S.length||0;c.length=z+Q;for(let ae=0;ae<Q;ae++)c[z+ae]=S[ae]}else c.push(S)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var re=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function de(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,_){const S=tt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,Be=new Et,x=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}M(De,se);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Gn(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,y,_,S,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ts(c,y,S,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Gn(y,this.src,Q,!!S,z),y.fa=_,c.push(y)),y};function es(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(S,z,1),Q&&(rr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ts(c,y,_,S){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return z}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),vo={};function yu(c,y,_,S,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)yu(c,y[Q],_,S,z);return null}return _=_u(_),c&&c[It]?c.K(y,_,g(S)?!!S.capture:!1,z):En(c,y,_,!1,S,z)}function En(c,y,_,S,z,Q){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Pe=Ws(c);if(Pe||(c[ns]=Pe=new yi(c)),_=Pe.add(y,_,S,ae,Q),_.proxy)return _;if(S=tf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ye||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(is(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tf(){function c(_){return y.call(c.src,c.listener,_)}const y=nf;return c}function Eo(c,y,_,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Eo(c,y[Q],_,S,z);else S=g(S)?!!S.capture:!!S,_=_u(_),c&&c[It]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=ts(Q,_,S,z),-1<_&&(rr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ts(y,_,S,z)),(_=-1<c?y[c]:null)&&Xs(_))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])es(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(is(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ws(y))?(es(_,c),_.h==0&&(_.src=null,y[ns]=null)):rr(c)}}}function is(c){return c in vo?vo[c]:vo[c]="on"+c}function nf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Xs(c),c=_.call(S,y)}return c}function Ws(c){return c=c[ns],c instanceof yi?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function ot(){ue.call(this),this.i=new yi(this),this.M=this,this.F=null}M(ot,ue),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,y,_,S){Eo(this,c,y,_,S)};function Fe(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(S,c),N(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=y.g=_[Q];z=cn(ae,S,!0,y)&&z}if(ae=y.g=c,z=cn(ae,S,!0,y)&&z,z=cn(ae,S,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)ae=y.g=_[Q],z=cn(ae,S,!1,y)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)rr(_[S]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ot.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function cn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==_){var Pe=ae.listener,St=ae.ha||ae.src;ae.fa&&es(c.i,ae),z=Pe.call(St,S)!==!1&&z}}return z&&!S.defaultPrevented}function Kt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function vu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){ue.call(this),this.h=c,this.g={}}M(rs,ue);var ss=[];function as(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&Xs(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=p.JSON.stringify,Zs=p.JSON.parse,os=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function Ao(c){return c.h||(c.h=c.i())}function wo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){se.call(this,"d")}M(vi,se);function bo(){se.call(this,"c")}M(bo,se);var Kn={},Ro=null;function sr(){return Ro=Ro||new ot}Kn.La="serverreachability";function Js(c){se.call(this,Kn.La,c)}M(Js,se);function ar(c){const y=sr();Fe(y,new Js(y))}Kn.STAT_EVENT="statevent";function Eu(c,y){se.call(this,Kn.STAT_EVENT,c),this.stat=y}M(Eu,se);function nt(c){const y=sr();Fe(y,new Eu(y,c))}Kn.Ma="timingevent";function Tt(c,y){se.call(this,Kn.Ma,c),this.size=y}M(Tt,se);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Co(c,y,_,S,z,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Pe=Q.split("&"),St=0;St<Pe.length;St++){var ke=Pe[St].split("=");if(1<ke.length){var Nt=ke[0];ke=ke[1];var At=Nt.split("_");ae=2<=At.length&&At[1]=="type"?ae+(Nt+"="+ke+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function sf(c,y,_,S,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+ae})}function or(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,_)+(S?" "+S:"")})}function Tu(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Pn(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}M(Yn,So),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function Jt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var Io={},ea={};function kn(c,y,_){c.L=1,c.v=ds(hn(y)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,y){c.F=Date.now(),us(c),c.A=hn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Vo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ct,c.g=Lu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ss[0]=z.toString()),z=ss);for(var Q=0;Q<z.length;Q++){var ae=yu(_,z[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),Co(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const y=this.M;y&&bn(c)==3?y.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const At=bn(this.g);var y=this.g.Ba();const Di=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||At!=4||y==7||(y==8||0>=Di?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;t:if(Su(this)){var S=Du(this.g);c="";var z=S.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),$n(this);var ae="";break t}this.h.i=new p.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,sf(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),$n(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Au(this,ae),zt==ea){At==4&&(this.s=4,nt(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Io){this.s=4,nt(15),or(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,zt,null),cs(this,zt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ae.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,ae,"[Invalid Chunked Response]"),Ut(this),$n(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ts(Nt),Nt.M=!0,nt(11))}}else or(this.i,this.l,ae,null),cs(this,ae);At==4&&Ut(this),this.o&&!this.J&&(At==4?Vu(this.j,this):(this.o=!1,us(this)))}else cf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),$n(this)}}}catch{}finally{}};function Su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Au(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ea:(_=Number(y.substring(_,S)),isNaN(_)?Io:(S+=1,S+_>y.length?ea:(y=y.slice(S,S+_),c.C=S+_,y)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function us(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(w(c.ba,c),y)}function ur(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(ar(),nt(17)),Ut(this),this.s=2,$n(this)):wu(this,this.S-c)};function $n(c){c.j.G==0||c.J||Vu(c.j,c)}function Ut(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fa(_),ca(_);else break e;zo(_),nt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(w(_.Za,_),6e3));if(1>=na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((c.K||_.g==c)&&fa(_),!ne(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Nt=ke[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Di=ke[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const ni=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var Q=S.h;Q.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ia(Q,Q.h),Q.h=null))}if(S.D){const jo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(S.ya=jo,Qe(S.I,S.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=ku(S,S.J?S.ia:null,S.W),ae.K){en(S.h,ae);var Pe=ae,St=S.L;St&&(Pe.I=St),Pe.B&&(ur(Pe),us(Pe)),S.g=ae}else Mu(S);0<_.i.length&&ha(_)}else ke[0]!="stop"&&ke[0]!="close"||Ii(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ii(_,7):Lo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}ar(4)}catch{}}var bu=class{constructor(c,y){this.g=c,this.map=y}};function Si(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function na(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ia(c,y){c.g?c.g.add(y):c.h=y}function en(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Si.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Oo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ra(c),S=af(c),z=S.length,Q=0;Q<z;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var Q=c[_].substring(0,S);z=c[_].substring(S+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mt){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new wi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ai(this,_),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),cr(this,y[4]),this.l=Sn(y[5]||"",!0),Ai(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ps(y,Mo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ps(y,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ps(_,_.charAt(0)=="/"?lf:xo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ps(_,sa)),c.join("")};function hn(c){return new mt(c)}function fs(c,y,_){c.j=_?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ai(c,y,_){y instanceof wi?(c.i=y,Cu(c.i,c.h)):(_||(y=ps(y,uf)),c.i=new wi(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function ds(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,xo=/[#\?:]/g,lf=/[#\?]/g,uf=/[#\?@]/g,sa=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&of(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=wi.prototype,r.add=function(c,y){An(this),this.i=null,c=Xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function bi(c,y){An(c),y=Xn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ri(c,y){return An(c),y=Xn(c,y),c.g.has(y)}r.forEach=function(c,y){An(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let Q=0;Q<z.length;Q++)_.push(y[S])}return _},r.V=function(c){An(this);let y=[];if(typeof c=="string")Ri(this,c)&&(y=y.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return An(this),this.i=null,c=Xn(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vo(c,y,_){bi(c,y),0<_.length&&(c.i=null,c.g.set(Xn(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=Q;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function Xn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Cu(c,y){y&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(bi(this,S),Vo(this,z,_))},c)),c.j=y}function ms(c,y){const _=new Tn;if(p.Image){const S=new Image;S.onload=O(wn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=O(wn,_,"TestLoadImage: error",!1,y,S),S.onabort=O(wn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(wn,_,"TestLoadImage: timeout",!1,y,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ln(c,y){const _=new Tn,S=new AbortController,z=setTimeout(()=>{S.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function gs(){this.g=new os}function Wn(c,y,_){const S=_||"";try{Oo(c,function(z,Q){let ae=z;g(z)&&(ae=Pn(z)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(hr,So),hr.prototype.g=function(){return new Ci(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ci(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ci,ot),r=Ci.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):Jn(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let y="";return de(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Dt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(qe,ot);var aa=/^https?$/i,ys=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?Ao(this.o):Ao(Qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Iu(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Iu(this,Q)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oa(c),ei(c)}function oa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(c){if(c.h&&typeof h<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var z=String(c.D).match(hs)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),S=!aa.test(z?z.toLowerCase():"")}_=S}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Q=2<bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",oa(c)}}finally{ei(c)}}}}function ei(c,y){if(c.g){_s(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=S}catch{}}}function _s(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zs(y)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(c){const y={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ne(c[S]))continue;var _=P(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}C(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ua(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){nt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),ha(this)};function Lo(c){if(Nu(c),c.G==3){var y=c.U++,_=hn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Es(c,_),y=new Jt(c,c.j,y),y.L=2,y.v=ds(hn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Lu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Pu(c)}function ca(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Nu(c){ca(c),c.u&&(p.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ha(c){if(!ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||x(),ge||(le(),ge=!0),Be.add(y,c),c.B=0}}function hf(c,y){return na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(w(c.Ga,c,y),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Jt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ou(this,z,y),_=hn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Es(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(ko(Q)))+"&"+y:this.m&&Dt(_,this.m,Q)),ia(this.h,z),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),z.T=!0,kn(z,_,null)):kn(z,_,y),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||ta(this.h)||Uo(this))};function Uo(c,y){var _;y?_=y.l:_=c.U++;const S=hn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",_),Qe(S,"AID",c.T),Es(c,S),c.m&&c.o&&Dt(S,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,_),kn(_,S,y)}function Es(c,y){c.H&&de(c.H,function(_,S){Qe(y,S,_)}),c.l&&Oo({},function(_,S){Qe(y,S,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Pe=!0;for(let St=0;St<_;St++){let ke=z[St].g;const Nt=z[St].map;if(ke-=Q,0>ke)Q=Math.max(0,z[St].g-100),Pe=!1;else try{Wn(Nt,ae,"req"+ke+"_")}catch{S&&S(Nt)}}if(Pe){S=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||x(),ge||(le(),ge=!0),Be.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(w(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),ca(this),xu(this))};function Ts(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Dt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(hn(y)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ca(this),zo(this),nt(19))};function fa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Vu(c,y){var _=null;if(c.g==y){fa(c),Ts(c),c.g=null;var S=2}else if(Do(c.h,y))_=y.D,en(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=sr(),Fe(S,new Tt(S,_)),ha(c)}else Mu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&hf(c,y)||S==2&&zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Bo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const z=!S;S=new mt(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||fs(S,"https"),ds(S),z?ms(S.toString(),_):Ln(S.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Pu(c),Nu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Pu(c){if(c.G=0,c.ka=[],c.l){const y=No(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var S=_ instanceof mt?hn(_):new mt(_);if(S.g!="")y&&(S.g=y+"."+S.g),cr(S,S.s);else{var z=p.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new mt(null);S&&fs(Q,S),y&&(Q.g=y),z&&cr(Q,z),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Qe(S,_,y),Qe(S,"VER",c.la),Es(c,S),S}function Lu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new hr({eb:_})):new qe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){ot.call(this),this.g=new ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ti(this)}M(tn,ot),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Lo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);y.i.push(new bu(y.Ya++,c)),y.G==3&&ha(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,tn.aa.N.call(this)};function zu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(zu,vi);function Bu(){bo.call(this),this.status=1}M(Bu,bo);function ti(c){this.g=c}M(ti,Uu),ti.prototype.ua=function(){Fe(this.g,"a")},ti.prototype.ta=function(c){Fe(this.g,new zu(c))},ti.prototype.sa=function(c){Fe(this.g,new Bu)},ti.prototype.ra=function(){Fe(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,MT=function(){return new da},OT=function(){return sr()},NT=Kn,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,nh=lr,Ei.COMPLETE="complete",DT=Ei,wo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Vl=wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,IT=qe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",hE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new cm("@firebase/firestore");function Ha(){return Fs.logLevel}function he(r,...e){if(Fs.logLevel<=xe.DEBUG){const t=e.map(Sm);Fs.debug(`Firestore (${po}): ${r}`,...t)}}function Zi(r,...e){if(Fs.logLevel<=xe.ERROR){const t=e.map(Sm);Fs.error(`Firestore (${po}): ${r}`,...t)}}function eo(r,...e){if(Fs.logLevel<=xe.WARN){const t=e.map(Sm);Fs.warn(`Firestore (${po}): ${r}`,...t)}}function Sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function He(r,e){r||Se()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new xT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Xt(e)}}class vD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ED{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new vD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){He(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new fE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function Bp(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=VT(),h=AD(u.encode(dE(r,t)),u.encode(dE(e,t)));return h!==0?h:Ie(s,o)}}t+=s>65535?2:1}return Ie(r.length,e.length)}function dE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function AD(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ie(r[t],e[t]);return Ie(r.length,e.length)}function to(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,mE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*mE);return new Rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pE)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Rt(0,0))}static max(){return new we(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__name__";class ui{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=ui.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ie(e.length,t.length)}static compareSegments(e,t){const s=ui.isNumericId(e),o=ui.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ui.extractNumericId(e).compare(ui.extractNumericId(t)):Bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class et extends ui{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const wD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends ui{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return wD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new Ft([gE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function bD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new Fr(o,me.empty(),e)}function RD(r){return new Fr(r.readTime,r.key,Ql)}class Fr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fr(we.min(),me.empty(),Ql)}static max(){return new Fr(we.max(),me.empty(),Ql)}}function CD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==ID)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++u,h&&u===o&&t()},m=>s(m))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(E=>{h[g]=E,++p,p===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function ND(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function Lh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function OD(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="";function MD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=yE(e)),e=xD(r.get(t),e);return yE(e)}function xD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case kT:t+="";break;default:t+=u}}return t}function yE(r){return r+kT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Zr(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function LT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new vn([])}unionWith(e){let t=new Ct(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const VD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(He(!!r),typeof r=="string"){let e=0;const t=VD.exec(r);if(He(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",jT="__previous_value__",qT="__local_write_time__";function Uh(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||t===void 0?void 0:t.stringValue)===zT}function zh(r){const e=r.mapValue.fields[jT];return Uh(e)?zh(e):e}function Yl(r){const e=Gr(r.mapValue.fields[qT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,s,o,u,h,p,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const _h="(default)";class $l{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__type__",kD="__max__",Gc={mapValue:{}},FT="__vector__",vh="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Uh(r)?4:UD(r)?9007199254740991:LD(r)?10:11:Se()}function pi(r,e){if(r===e)return!0;const t=Qr(r);if(t!==Qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Gr(o.timestampValue),p=Gr(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=dt(o.doubleValue),p=dt(u.doubleValue);return h===p?yh(h)===yh(p):isNaN(h)&&isNaN(p)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(_E(h)!==_E(p))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(p[m]===void 0||!pi(h[m],p[m])))return!1;return!0}(r,e);default:return Se()}}function Xl(r,e){return(r.values||[]).find(t=>pi(t,e))!==void 0}function no(r,e){if(r===e)return 0;const t=Qr(r),s=Qr(e);if(t!==s)return Ie(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,h){const p=dt(u.integerValue||u.doubleValue),m=dt(h.integerValue||h.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return EE(r.timestampValue,e.timestampValue);case 4:return EE(Yl(r),Yl(e));case 5:return Bp(r.stringValue,e.stringValue);case 6:return function(u,h){const p=Kr(u),m=Kr(h);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const p=u.split("/"),m=h.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Ie(p[g],m[g]);if(E!==0)return E}return Ie(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const p=Ie(dt(u.latitude),dt(h.latitude));return p!==0?p:Ie(dt(u.longitude),dt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return TE(r.arrayValue,e.arrayValue);case 10:return function(u,h){var p,m,g,E;const A=u.fields||{},w=h.fields||{},O=(p=A[vh])===null||p===void 0?void 0:p.arrayValue,M=(m=w[vh])===null||m===void 0?void 0:m.arrayValue,G=Ie(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:TE(O,M)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Gc.mapValue&&h===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(h===Gc.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=h.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let A=0;A<m.length&&A<E.length;++A){const w=Bp(m[A],E[A]);if(w!==0)return w;const O=no(p[m[A]],g[E[A]]);if(O!==0)return O}return Ie(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Se()}}function EE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const t=Gr(r),s=Gr(e),o=Ie(t.seconds,s.seconds);return o!==0?o:Ie(t.nanos,s.nanos)}function TE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=no(t[o],s[o]);if(u)return u}return Ie(t.length,s.length)}function io(r){return jp(r)}function jp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Gr(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Kr(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return me.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=jp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${jp(t.fields[h])}`;return o+"}"}(r.mapValue):Se()}function ih(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zr(s.fields,(u,h)=>{o+=u.length+ih(h)}),o}(r.mapValue);default:throw Se()}}function Eh(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qp(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function SE(r){return!!r&&"nullValue"in r}function AE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function LD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[HT])===null||t===void 0?void 0:t.stringValue)===FT}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zr(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function UD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=zl(h):o.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Zr(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(zl(this.value))}}function GT(r){const e=[];return Zr(r.fields,(t,s)=>{const o=new Ft([t]);if(rh(s)){const u=GT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),un.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,we.min(),we.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,we.min(),we.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.position=e,this.inclusive=t}}function wE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=no(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!pi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function zD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class vt extends KT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new jD(e,t,s):t==="array-contains"?new FD(e,s):t==="in"?new GD(e,s):t==="not-in"?new KD(e,s):t==="array-contains-any"?new QD(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new qD(e,s):new HD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(no(t,this.value)):t!==null&&Qr(this.value)===Qr(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends KT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hn(e,t)}matches(e){return QT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function QT(r){return r.op==="and"}function YT(r){return BD(r)&&QT(r)}function BD(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Hp(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(YT(r))return r.filters.map(e=>Hp(e)).join(",");{const e=r.filters.map(t=>Hp(t)).join(",");return`${r.op}(${e})`}}function $T(r,e){return r instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,p)=>u&&$T(h,o.filters[p]),!0):!1}(r,e):void Se()}function XT(r){return r instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${io(t.value)}`}(r):r instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(XT).join(" ,")+"}"}(r):"Filter"}class jD extends vt{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class qD extends vt{constructor(e,t){super(e,"in",t),this.keys=WT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HD extends vt{constructor(e,t){super(e,"not-in",t),this.keys=WT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>me.fromName(s.referenceValue))}class FD extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wm(t)&&Xl(t.arrayValue,this.value)}}class GD extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xl(this.value.arrayValue,t)}}class KD extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Xl(this.value.arrayValue,t)}}class QD extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.le=null}}function RE(r,e=null,t=[],s=[],o=null,u=null,h=null){return new YD(r,e,t,s,o,u,h)}function bm(r){const e=be(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Hp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>io(s)).join(",")),e.le=t}return e.le}function Rm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!$T(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bE(r.startAt,e.startAt)&&bE(r.endAt,e.endAt)}function Fp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t=null,s=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $D(r,e,t,s,o,u,h,p){return new Qs(r,e,t,s,o,u,h,p)}function Cm(r){return new Qs(r)}function CE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Im(r){return r.collectionGroup!==null}function Wa(r){const e=be(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Ct(Ft.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Wl(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new Wl(Ft.keyField(),s))}return e.he}function fi(r){const e=be(r);return e.Pe||(e.Pe=XD(e,Wa(r))),e.Pe}function XD(r,e){if(r.limitType==="F")return RE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)});const t=r.endAt?new ro(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ro(r.startAt.position,r.startAt.inclusive):null;return RE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Gp(r,e){const t=r.filters.concat([e]);return new Qs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Th(r,e,t){return new Qs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bh(r,e){return Rm(fi(r),fi(e))&&r.limitType===e.limitType}function ZT(r){return`${bm(fi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>XT(o)).join(", ")}]`),Lh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>io(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(fi(r))}; limitType=${r.limitType})`}function jh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Wa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,p,m){const g=wE(h,p,m);return h.inclusive?g<=0:g<0}(s.startAt,Wa(s),o)||s.endAt&&!function(h,p,m){const g=wE(h,p,m);return h.inclusive?g>=0:g>0}(s.endAt,Wa(s),o))}(r,e)}function WD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JT(r){return(e,t)=>{let s=!1;for(const o of Wa(r)){const u=ZD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZD(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):function(u,h,p){const m=h.data.field(u),g=p.data.field(u);return m!==null&&g!==null?no(m,g):Se()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new at(me.comparator);function Ji(){return JD}const eS=new at(me.comparator);function Pl(...r){let e=eS;for(const t of r)e=e.insert(t.key,t);return e}function tS(r){let e=eS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Us(){return Bl()}function nS(){return Bl()}function Bl(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const eN=new at(me.comparator),tN=new Ct(me.comparator);function Ve(...r){let e=tN;for(const t of r)e=e.add(t);return e}const nN=new Ct(Ie);function iN(){return nN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function iS(r){return{integerValue:""+r}}function rN(r,e){return OD(e)?iS(e):Dm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function sN(r,e,t){return r instanceof Zl?function(o,u){const h={fields:{[BT]:{stringValue:zT},[qT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Uh(u)&&(u=zh(u)),u&&(h.fields[jT]=u),{mapValue:h}}(t,e):r instanceof Jl?sS(r,e):r instanceof eu?aS(r,e):function(o,u){const h=rS(o,u),p=IE(h)+IE(o.Ie);return qp(h)&&qp(o.Ie)?iS(p):Dm(o.serializer,p)}(r,e)}function aN(r,e,t){return r instanceof Jl?sS(r,e):r instanceof eu?aS(r,e):t}function rS(r,e){return r instanceof Sh?function(s){return qp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zl extends qh{}class Jl extends qh{constructor(e){super(),this.elements=e}}function sS(r,e){const t=oS(e);for(const s of r.elements)t.some(o=>pi(o,s))||t.push(s);return{arrayValue:{values:t}}}class eu extends qh{constructor(e){super(),this.elements=e}}function aS(r,e){let t=oS(e);for(const s of r.elements)t=t.filter(o=>!pi(o,s));return{arrayValue:{values:t}}}class Sh extends qh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function IE(r){return dt(r.integerValue||r.doubleValue)}function oS(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.field=e,this.transform=t}}function lN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?to(s.elements,o.elements,pi):s instanceof Sh&&o instanceof Sh?pi(s.Ie,o.Ie):s instanceof Zl&&o instanceof Zl}(r.transform,e.transform)}class uN{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function lS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cS(r.key,jn.none()):new hu(r.key,r.data,jn.none());{const t=r.data,s=un.empty();let o=new Ct(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Jr(r.key,s,new vn(o.toArray()),jn.none())}}function cN(r,e,t){r instanceof hu?function(o,u,h){const p=o.value.clone(),m=NE(o.fieldTransforms,u,h.transformResults);p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Jr?function(o,u,h){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=NE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(uS(o)),m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function jl(r,e,t,s){return r instanceof hu?function(u,h,p,m){if(!sh(u.precondition,h))return p;const g=u.value.clone(),E=OE(u.fieldTransforms,m,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Jr?function(u,h,p,m){if(!sh(u.precondition,h))return p;const g=OE(u.fieldTransforms,m,h),E=h.data;return E.setAll(uS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,t,s):function(u,h,p){return sh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(r,e,t)}function hN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rS(s.transform,o||null);u!=null&&(t===null&&(t=un.empty()),t.set(s.field,u))}return t||null}function DE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,h)=>lN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hu extends Hh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends Hh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function NE(r,e,t){const s=new Map;He(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,aN(h,p,t[o]))}return s}function OE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,sN(u,h,e))}return s}class cS extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fN extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=jl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=jl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=nS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const m=lS(h,p);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(t,s)=>DE(t,s))&&to(this.baseMutations,e.baseMutations,(t,s)=>DE(t,s))}}class Nm{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length);let o=function(){return eN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Nm(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function gN(r){switch(r){case Z.OK:return Se();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se()}}function hS(r){if(r===void 0)return Zi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case _t.OK:return Z.OK;case _t.CANCELLED:return Z.CANCELLED;case _t.UNKNOWN:return Z.UNKNOWN;case _t.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _t.INTERNAL:return Z.INTERNAL;case _t.UNAVAILABLE:return Z.UNAVAILABLE;case _t.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _t.NOT_FOUND:return Z.NOT_FOUND;case _t.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _t.ABORTED:return Z.ABORTED;case _t.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _t.DATA_LOSS:return Z.DATA_LOSS;default:return Se()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new qr([4294967295,4294967295],0);function ME(r){const e=VT().encode(r),t=new CT;return t.update(e),new Uint8Array(t.digest())}function xE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([t,s],0),new qr([o,u],0)]}class Om{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=qr.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(qr.fromNumber(s)));return o.compare(yN)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ME(e),[s,o]=xE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Om(u,o,t);return s.forEach(p=>h.insert(p)),h}insert(e){if(this.Ee===0)return;const t=ME(e),[s,o]=xE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Fh(we.min(),o,new at(Ie),Ji(),Ve())}}class fu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new fu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class fS{constructor(e,t){this.targetId=e,this.ge=t}}class dS{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.pe=0,this.ye=PE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new fu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=PE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _N{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ji(),this.$e=Kc(),this.Ue=Kc(),this.Ke=new at(Ie)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Fp(u))if(s===0){const h=new me(u.path);this.ze(t,h,Wt.newNoDocument(h,we.min()))}else He(s===1);else{const h=this.et(t);if(h!==s){const p=this.tt(e),m=p?this.nt(p,e,h):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=Kr(s).toUint8Array()}catch(m){if(m instanceof UT)return eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Om(h,o,u)}catch(m){return eo(m instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const p=this.Xe(h);if(p){if(u.current&&Fp(p.target)){const m=new me(p.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,Wt.newNoDocument(m,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Fh(e,t,this.Ke,this.Qe,s);return this.Qe=Ji(),this.$e=Kc(),this.Ue=Kc(),this.Ke=new at(Ie),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new VE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ct(Ie),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ct(Ie),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new VE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new at(me.comparator)}function PE(){return new at(me.comparator)}const vN={asc:"ASCENDING",desc:"DESCENDING"},EN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TN={and:"AND",or:"OR"};class SN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AN(r,e){return Ah(r,e.toTimestamp())}function di(r){return He(!!r),we.fromTimestamp(function(t){const s=Gr(t);return new Rt(s.seconds,s.nanos)}(r))}function Mm(r,e){return Qp(r,e).canonicalString()}function Qp(r,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function mS(r){const e=et.fromString(r);return He(ES(e)),e}function Yp(r,e){return Mm(r.databaseId,e.path)}function yp(r,e){const t=mS(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(yS(t))}function gS(r,e){return Mm(r.databaseId,e)}function wN(r){const e=mS(r);return e.length===4?et.emptyPath():yS(e)}function $p(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yS(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function kE(r,e,t){return{name:Yp(r,e),fields:t.value.mapValue.fields}}function bN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(g){const E=g.code===void 0?Z.UNKNOWN:hS(g.code);return new ce(E,g.message||"")}(h);t=new dS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yp(r,s.document.name),u=di(s.document.updateTime),h=s.document.createTime?di(s.document.createTime):we.min(),p=new un({mapValue:{fields:s.document.fields}}),m=Wt.newFoundDocument(o,u,h,p),g=s.targetIds||[],E=s.removedTargetIds||[];t=new ah(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yp(r,s.document),u=s.readTime?di(s.readTime):we.min(),h=Wt.newNoDocument(o,u),p=s.removedTargetIds||[];t=new ah([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yp(r,s.document),u=s.removedTargetIds||[];t=new ah([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new mN(o,u),p=s.targetId;t=new fS(p,h)}}return t}function RN(r,e){let t;if(e instanceof hu)t={update:kE(r,e.key,e.value)};else if(e instanceof cS)t={delete:Yp(r,e.key)};else if(e instanceof Jr)t={update:kE(r,e.key,e.data),updateMask:PN(e.fieldMask)};else{if(!(e instanceof fN))return Se();t={verify:Yp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const p=h.transform;if(p instanceof Zl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sh)return{fieldPath:h.field.canonicalString(),increment:p.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:AN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(r,e.precondition)),t}function CN(r,e){return r&&r.length>0?(He(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?di(o.updateTime):di(u);return h.isEqual(we.min())&&(h=di(u)),new uN(h,o.transformResults||[])}(t,e))):[]}function IN(r,e){return{documents:[gS(r,e.path)]}}function DN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=gS(r,o);const u=function(g){if(g.length!==0)return vS(Hn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:Ga(w.field),direction:MN(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Kp(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function NN(r){let e=wN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const w=_S(A);return w instanceof Hn&&YT(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(M){return new Wl(Ka(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(t.orderBy));let p=null;t.limit&&(p=function(A){let w;return w=typeof A=="object"?A.value:A,Lh(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(A){const w=!!A.before,O=A.values||[];return new ro(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const w=!A.before,O=A.values||[];return new ro(O,w)}(t.endAt)),$D(e,o,h,u,p,"F",m,g)}function ON(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _S(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ka(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(t.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ka(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(r):r.fieldFilter!==void 0?function(t){return vt.create(Ka(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(s=>_S(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(r):Se()}function MN(r){return vN[r]}function xN(r){return EN[r]}function VN(r){return TN[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ft.fromServerFormat(r.fieldPath)}function vS(r){return r instanceof vt?function(t){if(t.op==="=="){if(AE(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NAN"}};if(SE(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AE(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NAN"}};if(SE(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(t.field),op:xN(t.op),value:t.value}}}(r):r instanceof Hn?function(t){const s=t.getFilters().map(o=>vS(o));return s.length===1?s[0]:{compositeFilter:{op:VN(t.op),filters:s}}}(r):Se()}function PN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ES(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t,s,o,u=we.min(),h=we.min(),p=Gt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.Tt=e}}function LN(r){const e=NN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.Tn=new zN}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Fr.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class zN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(et.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(TS,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new so(0)}static Kn(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",BN=1048576;function zE([r,e],[t,s]){const o=Ie(r,t);return o===0?Ie(e,s):o}class jN{constructor(e){this.Hn=e,this.buffer=new Ct(zE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(UE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){go(t)?he(UE,"Ignoring IndexedDB error during garbage collection: ",t):await mo(t)}await this.er(3e5)})}}class HN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(kh.ae);const s=new jN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ha()<=xe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function FN(r,e){return new HN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&jl(s.mutation,o,vn.empty(),Rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Us();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Pl();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Us();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,p)=>{t.set(h,p)})})}computeViews(e,t,s,o){let u=Ji();const h=Bl(),p=function(){return Bl()}();return t.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Jr)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),jl(E.mutation,g,E.mutation.getFieldMask(),Rt.now())):h.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var A;return p.set(g,new KN(E,(A=h.get(g))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,t){const s=Bl();let o=new at((h,p)=>h-p),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const p of h)p.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let E=s.get(m)||vn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const A=(o.get(p.batchId)||Ve()).add(m);o=o.insert(p.batchId,A)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,A=nS();E.forEach(w=>{if(!u.has(w)){const O=lS(t.get(w),s.get(w));O!==null&&A.set(w,O),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Im(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Us());let p=Ql,m=u;return h.next(g=>te.forEach(g,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{m=m.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Ve())).next(E=>({batchId:p,changes:tS(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Pl();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,m=>{const g=function(A,w){return new Qs(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((m,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let p=Pl();return h.forEach((m,g)=>{const E=u.get(m);E!==void 0&&jl(E.mutation,g,vn.empty(),Rt.now()),jh(t,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:di(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LN(o.bundledQuery),readTime:di(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.overlays=new at(me.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Us();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Us(),u=t.length+1,h=new me(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Us(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Us(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return te.resolve(p)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new pN(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ve(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Vr=new Ct(Pt.mr),this.gr=new Ct(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Pt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new me(new et([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new me(new et([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=Ve();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Pt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return me.comparator(e.key,t.key)||Ie(e.Cr,t.Cr)}static pr(e,t){return Ie(e.Cr,t.Cr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Pt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dN(u,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Mr=this.Mr.add(new Pt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Am:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const p=this.Or(h.Cr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Ie);return t.forEach(o=>{const u=new Pt(o,0),h=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],p=>{s=s.add(p.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Pt(new me(u),0);let p=new Ct(Ie);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},h),te.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.kr=e,this.docs=function(){return new at(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=Ji();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ji();const h=t.path,p=new me(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||CD(RD(E),s)<=0||(o.has(E.key)||jh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new JN(this)}getSize(e){return te.resolve(this.size)}}class JN extends GN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.persistence=e,this.Qr=new Ys(t=>bm(t),Rm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xm,this.targetCount=0,this.Kr=so.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new so(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new XN,this.referenceDelegate=e(this),this.Hr=new e2(this),this.indexManager=new UN,this.remoteDocumentCache=function(o){return new ZN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new kN(t),this.Yr=new YN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $N,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new WN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new t2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class t2 extends DD{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.ti=new xm,this.ni=null}static ri(e){return new Vm(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=me.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.oi=new Ys(s=>MD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FN(this,t)}static ri(e,t){return new wh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(p=>{p||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pm(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xR()?8:ND(Zt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new n2;return this._s(e,t,h).next(p=>{if(u.result=p,this.Xi)return this.us(e,t,h,p.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ha()<=xe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Fa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(Ha()<=xe.DEBUG&&he("QueryEngine","Query:",Fa(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ha()<=xe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Fa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):te.resolve())}rs(e,t){if(CE(t))return te.resolve(null);let s=fi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Th(t,null,"F"),s=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,p);return this.ls(t,g,h,m.readTime)?this.rs(e,Th(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,o){return CE(t)||o.isEqual(we.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?te.resolve(null):(Ha()<=xe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(t)),this.hs(e,h,t,bD(o,Ql)).next(p=>p))})}cs(e,t){let s=new Ct(JT(e));return t.forEach((o,u)=>{jh(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ha()<=xe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Fa(t)),this.ns.getDocumentsMatchingQuery(e,t,Fr.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",r2=3e8;class s2{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new at(Ie),this.Is=new Ys(u=>bm(u),Rm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function a2(r,e,t,s){return new s2(r,e,t,s)}async function AS(r,e){const t=be(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],p=[];let m=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:p}))})})}function o2(r,e){const t=be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const A=g.batch,w=A.keys();let O=te.resolve();return w.forEach(M=>{O=O.next(()=>E.getEntry(m,M)).next(G=>{const k=g.docVersions.get(M);He(k!==null),G.version.compareTo(k)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Ve();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function wS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function l2(r,e){const t=be(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const p=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;p.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,A)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function(G,k,Y){return G.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=r2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(w,O,E)&&p.push(t.Hr.updateTargetData(u,O))});let m=Ji(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(u2(u,h,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(A=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return te.waitFor(p).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.Ts=o,u))}function u2(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Ji();return t.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):he(km,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function c2(r,e){const t=be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Am),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function h2(r,e){const t=be(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Ur(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Xp(r,e,t){const s=be(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!go(h))throw h;he(km,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function BE(r,e,t){const s=be(r);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,E){const A=be(m),w=A.Is.get(E);return w!==void 0?te.resolve(A.Ts.get(w)):A.Hr.getTargetData(g,E)}(s,h,fi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:Ve())).next(p=>(f2(s,WD(e),p),{documents:p,gs:u})))}function f2(r,e,t){let s=r.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class jE{constructor(){this.activeTargetIds=iN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.ho=new jE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class HE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Wp(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=Wp(),p=this.bo(e,t.toUriEncodedString());he(_p,`Sending RPC '${e}' ${h}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(he(_p,`Received RPC '${e}' ${h}: `,g),g),g=>{throw eo(_p,`RPC '${e}' ${h} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=m2[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class _2 extends g2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Wp();return new Promise((h,p)=>{const m=new IT;m.setWithCredentials(!0),m.listenOnce(DT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case nh.NO_ERROR:const E=m.getResponseJson();he($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case nh.TIMEOUT:he($t,`RPC '${e}' ${u} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const A=m.getStatus();if(he($t,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const M=function(k){const Y=k.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Y)>=0?Y:Z.UNKNOWN}(O.status);p(new ce(M,O.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he($t,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Wp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=MT(),p=OT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const E=u.join("");he($t,`Creating RPC '${e}' stream ${o}: ${E}`,m);const A=h.createWebChannel(E,m);let w=!1,O=!1;const M=new y2({Fo:k=>{O?he($t,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(he($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he($t,`RPC '${e}' stream ${o} sending:`,k),A.send(k))},Mo:()=>A.close()}),G=(k,Y,ne)=>{k.listen(Y,K=>{try{ne(K)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(A,Vl.EventType.OPEN,()=>{O||(he($t,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),G(A,Vl.EventType.CLOSE,()=>{O||(O=!0,he($t,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),G(A,Vl.EventType.ERROR,k=>{O||(O=!0,eo($t,`RPC '${e}' stream ${o} transport errored:`,k),M.Uo(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),G(A,Vl.EventType.MESSAGE,k=>{var Y;if(!O){const ne=k.data[0];He(!!ne);const K=ne,oe=(K==null?void 0:K.error)||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(oe){he($t,`RPC '${e}' stream ${o} received error:`,oe);const re=oe.status;let de=function(R){const N=_t[R];if(N!==void 0)return hS(N)}(re),C=oe.message;de===void 0&&(de=Z.INTERNAL,C="Unknown error status: "+re+" with message "+oe.message),O=!0,M.Uo(new ce(de,C)),A.close()}else he($t,`RPC '${e}' stream ${o} received:`,ne),M.Ko(ne)}}),G(p,NT.STAT_EVENT,k=>{k.stat===zp.PROXY?he($t,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===zp.NOPROXY&&he($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new SN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class RS{constructor(e,t,s,o,u,h,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Zi(t.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v2 extends RS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=bN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?di(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=$p(this.serializer),t.addTarget=function(u,h){let p;const m=h.target;if(p=Fp(m)?{documents:IN(u,m)}:{query:DN(u,m).ht},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=pS(u,h.resumeToken);const g=Kp(u,h.expectedCount);g!==null&&(p.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){p.readTime=Ah(u,h.snapshotVersion.toTimestamp());const g=Kp(u,h.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=ON(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=$p(this.serializer),t.removeTarget=e,this.I_(t)}}class E2 extends RS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=CN(e.writeResults,e.commitTime),s=di(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=$p(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>RN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{}class S2 extends T2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Qp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Co(e,Qp(t,s),o,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(Z.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class A2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class w2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{$s(this)&&(he(Gs,"Restarting streams for network reachability change."),await async function(m){const g=be(m);g.W_.add(4),await du(g),g.j_.set("Unknown"),g.W_.delete(4),await Kh(g)}(this))})}),this.j_=new A2(s,o)}}async function Kh(r){if($s(r))for(const e of r.G_)await e(!0)}async function du(r){for(const e of r.G_)await e(!1)}function CS(r,e){const t=be(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Bm(t)?zm(t):yo(t).c_()&&Um(t,e))}function Lm(r,e){const t=be(r),s=yo(t);t.K_.delete(e),s.c_()&&IS(t,e),t.K_.size===0&&(s.c_()?s.P_():$s(t)&&t.j_.set("Unknown"))}function Um(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yo(r).y_(e)}function IS(r,e){r.H_.Ne(e),yo(r).w_(e)}function zm(r){r.H_=new _N({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.j_.B_()}function Bm(r){return $s(r)&&!yo(r).u_()&&r.K_.size>0}function $s(r){return be(r).W_.size===0}function DS(r){r.H_=void 0}async function b2(r){r.j_.set("Online")}async function R2(r){r.K_.forEach((e,t)=>{Um(r,e)})}async function C2(r,e){DS(r),Bm(r)?(r.j_.q_(e),zm(r)):r.j_.set("Unknown")}async function I2(r,e,t){if(r.j_.set("Online"),e instanceof dS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){he(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(r,s)}else if(e instanceof ah?r.H_.We(e):e instanceof fS?r.H_.Ze(e):r.H_.je(e),!t.isEqual(we.min()))try{const s=await wS(r.localStore);t.compareTo(s)>=0&&await function(u,h){const p=u.H_.ot(h);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(m.resumeToken,h))}}),p.targetMismatches.forEach((m,g)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),IS(u,m);const A=new Ur(E.target,m,g,E.sequenceNumber);Um(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(r,t)}catch(s){he(Gs,"Failed to raise snapshot:",s),await bh(r,s)}}async function bh(r,e,t){if(!go(e))throw e;r.W_.add(1),await du(r),r.j_.set("Offline"),t||(t=()=>wS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(Gs,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Kh(r)})}function NS(r,e){return e().catch(t=>bh(r,t,e))}async function Qh(r){const e=be(r),t=Yr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Am;for(;D2(e);)try{const o=await c2(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,N2(e,o)}catch(o){await bh(e,o)}OS(e)&&MS(e)}function D2(r){return $s(r)&&r.U_.length<10}function N2(r,e){r.U_.push(e);const t=Yr(r);t.c_()&&t.S_&&t.b_(e.mutations)}function OS(r){return $s(r)&&!Yr(r).u_()&&r.U_.length>0}function MS(r){Yr(r).start()}async function O2(r){Yr(r).C_()}async function M2(r){const e=Yr(r);for(const t of r.U_)e.b_(t.mutations)}async function x2(r,e,t){const s=r.U_.shift(),o=Nm.from(s,e,t);await NS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qh(r)}async function V2(r,e){e&&Yr(r).S_&&await async function(s,o){if(function(h){return gN(h)&&h!==Z.ABORTED}(o.code)){const u=s.U_.shift();Yr(s).h_(),await NS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(r,e),OS(r)&&MS(r)}async function GE(r,e){const t=be(r);t.asyncQueue.verifyOperationInProgress(),he(Gs,"RemoteStore received new credentials");const s=$s(t);t.W_.add(3),await du(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Kh(t)}async function P2(r,e){const t=be(r);e?(t.W_.delete(2),await Kh(t)):e||(t.W_.add(2),await du(t),t.j_.set("Unknown"))}function yo(r){return r.J_||(r.J_=function(t,s,o){const u=be(t);return u.M_(),new v2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:b2.bind(null,r),No:R2.bind(null,r),Lo:C2.bind(null,r),p_:I2.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Bm(r)?zm(r):r.j_.set("Unknown")):(await r.J_.stop(),DS(r))})),r.J_}function Yr(r){return r.Y_||(r.Y_=function(t,s,o){const u=be(t);return u.M_(),new E2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:O2.bind(null,r),Lo:V2.bind(null,r),D_:M2.bind(null,r),v_:x2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Qh(r)):(await r.Y_.stop(),r.U_.length>0&&(he(Gs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,p=new jm(e,t,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),go(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=Pl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.Z_=new at(me.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ao{constructor(e,t,s,o,u,h,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(p=>{h.push({type:0,doc:p})}),new ao(e,t,Za.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class L2{constructor(){this.queries=QE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=be(t),u=o.queries;o.queries=QE(),u.forEach((h,p)=>{for(const m of p.ta)m.onError(s)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function QE(){return new Ys(r=>ZT(r),Bh)}async function xS(r,e){const t=be(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new k2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=qm(h,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Hm(t)}async function VS(r,e){const t=be(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function U2(r,e){const t=be(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.ta)p.oa(o)&&(s=!0);h.ea=o}}s&&Hm(t)}function z2(r,e,t){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Hm(r){r.ia.forEach(e=>{e.next()})}var Zp,YE;(YE=Zp||(Zp={}))._a="default",YE.Cache="cache";class PS{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.key=e}}class LS{constructor(e){this.key=e}}class B2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=JT(e),this.wa=new Za(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new KE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),O=jh(this.query,A)?A:null,M=!!w&&this.mutatedKeys.has(w.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;w&&O?w.data.isEqual(O.data)?M!==G&&(s.track({type:3,doc:O}),k=!0):this.va(w,O)||(s.track({type:2,doc:O}),k=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(p=!0)):!w&&O?(s.track({type:0,doc:O}),k=!0):w&&!O&&(s.track({type:1,doc:w}),k=!0,(m||g)&&(p=!0)),k&&(O?(h=h.add(O),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:p,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,A)=>function(O,M){const G=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return G(O)-G(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const p=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new ao(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new LS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new kS(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fm="SyncEngine";class j2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class q2{constructor(e){this.key=e,this.Ba=!1}}class H2{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ys(p=>ZT(p),Bh),this.qa=new Map,this.Qa=new Set,this.$a=new at(me.comparator),this.Ua=new Map,this.Ka=new xm,this.Wa={},this.Ga=new Map,this.za=so.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function F2(r,e,t=!0){const s=HS(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await US(s,e,t,!0),o}async function G2(r,e){const t=HS(r);await US(t,e,!0,!1)}async function US(r,e,t,s){const o=await h2(r.localStore,fi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await K2(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&CS(r.remoteStore,o),p}async function K2(r,e,t,s,o){r.Ha=(A,w,O)=>async function(G,k,Y,ne){let K=k.view.ba(Y);K.ls&&(K=await BE(G.localStore,k.query,!1).then(({documents:C})=>k.view.ba(C,K)));const oe=ne&&ne.targetChanges.get(k.targetId),re=ne&&ne.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(K,G.isPrimaryClient,oe,re);return XE(G,k.targetId,de.Ma),de.snapshot}(r,A,w,O);const u=await BE(r.localStore,e,!0),h=new B2(e,u.gs),p=h.ba(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(p,r.isPrimaryClient,m);XE(r,t,g.Ma);const E=new j2(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function Q2(r,e,t){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Bh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Lm(s.remoteStore,o.targetId),Jp(s,o.targetId)}).catch(mo)):(Jp(s,o.targetId),await Xp(s.localStore,o.targetId,!0))}async function Y2(r,e){const t=be(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(t.remoteStore,s.targetId))}async function $2(r,e,t){const s=nO(r);try{const o=await function(h,p){const m=be(h),g=Rt.now(),E=p.reduce((O,M)=>O.add(M.key),Ve());let A,w;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=Ji(),G=Ve();return m.ds.getEntries(O,E).next(k=>{M=k,M.forEach((Y,ne)=>{ne.isValidDocument()||(G=G.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(k=>{A=k;const Y=[];for(const ne of p){const K=hN(ne,A.get(ne.key).overlayedDocument);K!=null&&Y.push(new Jr(ne.key,K,GT(K.value.mapValue),jn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,Y,p)}).next(k=>{w=k;const Y=k.applyToLocalDocumentSet(A,G);return m.documentOverlayCache.saveOverlays(O,k.batchId,Y)})}).then(()=>({batchId:w.batchId,changes:tS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,p,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new at(Ie)),g=g.insert(p,m),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await pu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=qm(o,"Failed to persist write");t.reject(u)}}async function zS(r,e){const t=be(r);try{const s=await l2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?He(h.Ba):o.removedDocuments.size>0&&(He(h.Ba),h.Ba=!1))}),await pu(t,s,e)}catch(s){await mo(s)}}function $E(r,e,t){const s=be(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const p=h.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(h,p){const m=be(h);m.onlineState=p;let g=!1;m.queries.forEach((E,A)=>{for(const w of A.ta)w.sa(p)&&(g=!0)}),g&&Hm(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function X2(r,e,t){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new at(me.comparator);h=h.insert(u,Wt.newNoDocument(u,we.min()));const p=Ve().add(u),m=new Fh(we.min(),new Map,new at(Ie),h,p);await zS(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Gm(s)}else await Xp(s.localStore,e,!1).then(()=>Jp(s,e,t)).catch(mo)}async function W2(r,e){const t=be(r),s=e.batch.batchId;try{const o=await o2(t.localStore,e);jS(t,s,null),BS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await pu(t,o)}catch(o){await mo(o)}}async function Z2(r,e,t){const s=be(r);try{const o=await function(h,p){const m=be(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(A=>(He(A!==null),E=A.keys(),m.mutationQueue.removeMutationBatch(g,A))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);jS(s,e,t),BS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await pu(s,o)}catch(o){await mo(o)}}function BS(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function jS(r,e,t){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Jp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||qS(r,s)})}function qS(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Lm(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Gm(r))}function XE(r,e,t){for(const s of t)s instanceof kS?(r.Ka.addReference(s.key,e),J2(r,s)):s instanceof LS?(he(Fm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||qS(r,s.key)):Se()}function J2(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(he(Fm,"New document in limbo: "+t),r.Qa.add(s),Gm(r))}function Gm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new me(et.fromString(e)),s=r.za.next();r.Ua.set(s,new q2(t)),r.$a=r.$a.insert(t,s),CS(r.remoteStore,new Ur(fi(Cm(t.path)),s,"TargetPurposeLimboResolution",kh.ae))}}async function pu(r,e,t){const s=be(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{h.push(s.Ha(m,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Pm.Yi(m.targetId,g);u.push(A)}}))}),await Promise.all(h),s.La.p_(o),await async function(m,g){const E=be(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(g,w=>te.forEach(w.Hi,O=>E.persistence.referenceDelegate.addReference(A,w.targetId,O)).next(()=>te.forEach(w.Ji,O=>E.persistence.referenceDelegate.removeReference(A,w.targetId,O)))))}catch(A){if(!go(A))throw A;he(km,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const O=E.Ts.get(w),M=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(w,G)}}}(s.localStore,u))}async function eO(r,e){const t=be(r);if(!t.currentUser.isEqual(e)){he(Fm,"User change. New user:",e.toKey());const s=await AS(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new ce(Z.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(t,s.Rs)}}function tO(r,e){const t=be(r),s=t.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=t.qa.get(e);if(!u)return o;for(const h of u){const p=t.ka.get(h);o=o.unionWith(p.view.Sa)}return o}}function HS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X2.bind(null,e),e.La.p_=U2.bind(null,e.eventManager),e.La.Ja=z2.bind(null,e.eventManager),e}function nO(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z2.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return a2(this.persistence,new i2,e.initialUser,this.serializer)}Xa(e){return new SS(Vm.ri,this.serializer)}Za(e){return new d2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class iO extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){He(this.persistence.referenceDelegate instanceof wh);const s=this.persistence.referenceDelegate.garbageCollector;return new qN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new SS(s=>wh.ri(s,t),this.serializer)}}class em{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await P2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L2}()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),s=function(u){return new _2(u)}(e.databaseInfo);return function(u,h,p,m){return new S2(u,h,p,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,p){return new w2(s,o,u,h,p)}(this.localStore,this.datastore,e.asyncQueue,t=>$E(this.syncEngine,t,0),function(){return HE.D()?new HE:new p2}())}createSyncEngine(e,t){return function(o,u,h,p,m,g,E){const A=new H2(o,u,h,p,m,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=be(o);he(Gs,"RemoteStore shutting down."),u.W_.add(5),await du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class rO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=PT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he($r,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he($r,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=qm(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ep(r,e){r.asyncQueue.verifyOperationInProgress(),he($r,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await AS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function WE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await sO(r);he($r,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),r._onlineComponents=e}async function sO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he($r,"Using user provided OfflineComponentProvider");try{await Ep(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),await Ep(r,new Rh)}}else he($r,"Using default OfflineComponentProvider"),await Ep(r,new iO(void 0));return r._offlineComponents}async function GS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he($r,"Using user provided OnlineComponentProvider"),await WE(r,r._uninitializedComponentsProvider._online)):(he($r,"Using default OnlineComponentProvider"),await WE(r,new em))),r._onlineComponents}function aO(r){return GS(r).then(e=>e.syncEngine)}async function KS(r){const e=await GS(r),t=e.eventManager;return t.onListen=F2.bind(null,e.syncEngine),t.onUnlisten=Q2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Y2.bind(null,e.syncEngine),t}function oO(r,e,t={}){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,p,m,g){const E=new FS({next:w=>{E.su(),h.enqueueAndForget(()=>VS(u,A));const O=w.docs.has(p);!O&&w.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&m&&m.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new PS(Cm(p.path),E,{includeMetadataChanges:!0,Ta:!0});return xS(u,A)}(await KS(r),r.asyncQueue,e,t,s)),s.promise}function lO(r,e,t={}){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,p,m,g){const E=new FS({next:w=>{E.su(),h.enqueueAndForget(()=>VS(u,A)),w.fromCache&&m.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new PS(p,E,{includeMetadataChanges:!0,Ta:!0});return xS(u,A)}(await KS(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(r,e,t){if(!t)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uO(r,e,t,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function JE(r){if(!me.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e0(r){if(me.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function mi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yh(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firestore.googleapis.com",t0=!0;class n0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$S,this.ssl=t0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:t0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BN)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new gD;switch(s.type){case"firstParty":return new ED(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ZE.get(t);s&&(he("ComponentProvider","Removing Datastore"),ZE.delete(t),s.terminate())}(this),Promise.resolve()}}function cO(r,e,t,s={}){var o;const u=(r=mi(r,$h))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u.host!==$S&&u.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Bs(m,h)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xt.MOCK_USER;else{g=RR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(A)}r._authCredentials=new yD(new xT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ir(this.firestore,e,this._query)}}class rn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Hr extends ir{constructor(e,t,s){super(e,t,Cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new me(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function XS(r,e,...t){if(r=Lt(r),YS("collection","path",e),r instanceof $h){const s=et.fromString(e,...t);return e0(s),new Hr(r,null,s)}{if(!(r instanceof rn||r instanceof Hr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return e0(s),new Hr(r.firestore,null,s)}}function Ch(r,e,...t){if(r=Lt(r),arguments.length===1&&(e=PT.newId()),YS("doc","path",e),r instanceof $h){const s=et.fromString(e,...t);return JE(s),new rn(r,null,new me(s))}{if(!(r instanceof rn||r instanceof Hr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return JE(s),new rn(r.firestore,r instanceof Hr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bS(this,"async_queue_retry"),this.Su=()=>{const s=vp();s&&he(i0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!go(e))throw e;he(i0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let p=h.message||"";return h.stack&&(p=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),p}(s);throw Zi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=jm.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class _o extends $h{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new r0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function hO(r,e){const t=typeof r=="object"?r:H0(),s=typeof r=="string"?r:_h,o=fm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wR("firestore");u&&cO(o,...u)}return o}function Km(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fO(r),r._firestoreClient}function fO(r){var e,t,s;const o=r._freezeSettings(),u=function(p,m,g,E){return new PD(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,QS(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Gt.fromBase64String(e))}catch(t){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^__.*__$/;class pO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class WS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class $m{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ih(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ZS(this.Lu)&&dO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gh(e)}ju(e,t,s,o=!1){return new $m({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(r){const e=r._freezeSettings(),t=Gh(r._databaseId);return new mO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function JS(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);Wm("Data must be an object, but it was:",h,s);const p=tA(s,h);let m,g;if(u.merge)m=new vn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=tm(e,A,t);if(!h.contains(w))throw new ce(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);iA(E,w)||E.push(w)}m=new vn(E),g=h.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,g=h.fieldTransforms;return new pO(new un(p),m,g)}class Zh extends Wh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class Xm extends Wh{_toFieldTransform(e){return new oN(e.path,new Zl)}isEqual(e){return e instanceof Xm}}function gO(r,e,t,s){const o=r.ju(1,e,t);Wm("Data must be an object, but it was:",o,s);const u=[],h=un.empty();Zr(s,(m,g)=>{const E=Zm(e,m,t);g=Lt(g);const A=o.Uu(E);if(g instanceof Zh)u.push(E);else{const w=gu(g,A);w!=null&&(u.push(E),h.set(E,w))}});const p=new vn(u);return new WS(h,p,o.fieldTransforms)}function yO(r,e,t,s,o,u){const h=r.ju(1,e,t),p=[tm(e,s,t)],m=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(tm(e,u[w])),m.push(u[w+1]);const g=[],E=un.empty();for(let w=p.length-1;w>=0;--w)if(!iA(g,p[w])){const O=p[w];let M=m[w];M=Lt(M);const G=h.Uu(O);if(M instanceof Zh)g.push(O);else{const k=gu(M,G);k!=null&&(g.push(O),E.set(O,k))}}const A=new vn(g);return new WS(E,A,h.fieldTransforms)}function eA(r,e,t,s=!1){return gu(t,r.ju(s?4:3,e))}function gu(r,e){if(nA(r=Lt(r)))return Wm("Unsupported field value:",e,r),tA(r,e);if(r instanceof Wh)return function(s,o){if(!ZS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const p of s){let m=gu(p,o.Ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:pS(o.serializer,s._byteString)};if(s instanceof rn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ym)return function(h,p){return{mapValue:{fields:{[HT]:{stringValue:FT},[vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return Dm(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Yh(s)}`)}(r,e)}function tA(r,e){const t={};return LT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(r,(s,o)=>{const u=gu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function nA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Qm||r instanceof oo||r instanceof rn||r instanceof Wh||r instanceof Ym)}function Wm(r,e,t){if(!nA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Yh(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function tm(r,e,t){if((e=Lt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Zm(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,t)}const _O=new RegExp("[~\\*/\\[\\]]");function Zm(r,e,t){if(e.search(_O)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Xh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ih(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new ce(Z.INVALID_ARGUMENT,p+r+m)}function iA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vO extends Jm{data(){return super.data()}}function eg(r,e){return typeof e=="string"?Zm(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class Jh extends tg{}function s0(r,e,...t){let s=[];e instanceof tg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(m=>m instanceof ig).length,p=u.filter(m=>m instanceof ng).length;if(h>1||h>0&&p>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ng extends Jh{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ng(e,t,s)}_apply(e){const t=this._parse(e);return rA(e._query,t),new ir(e.firestore,e.converter,Gp(e._query,t))}_parse(e){const t=mu(e.firestore);return function(u,h,p,m,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){u0(A,E);const M=[];for(const G of A)M.push(l0(m,u,G));w={arrayValue:{values:M}}}else w=l0(m,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||u0(A,E),w=eA(p,h,A,E==="in"||E==="not-in");return vt.create(g,E,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends tg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const p=u.getFlattenedFilters();for(const m of p)rA(h,m),h=Gp(h,m)}(e._query,t),new ir(e.firestore,e.converter,Gp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends Jh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,h)}(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Qs(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function a0(r,e="asc"){const t=e,s=eg("orderBy",r);return rg._create(s,t)}class sg extends Jh{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new sg(e,t,s)}_apply(e){return new ir(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function o0(r){return sg._create("limit",r,"F")}class ag extends Jh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ag(e,t,s)}_apply(e){const t=SO(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(o,u){return new Qs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(e._query,t))}}function TO(...r){return ag._create("startAfter",r,!1)}function SO(r,e,t,s){if(t[0]=Lt(t[0]),t[0]instanceof Jm)return function(u,h,p,m,g){if(!m)throw new ce(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const E=[];for(const A of Wa(u))if(A.field.isKeyField())E.push(Eh(h,m.key));else{const w=m.data.field(A.field);if(Uh(w))throw new ce(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const O=A.field.canonicalString();throw new ce(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}E.push(w)}return new ro(E,g)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const o=mu(r.firestore);return function(h,p,m,g,E,A){const w=h.explicitOrderBy;if(E.length>w.length)throw new ce(Z.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let M=0;M<E.length;M++){const G=E[M];if(w[M].field.isKeyField()){if(typeof G!="string")throw new ce(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!Im(h)&&G.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const k=h.path.child(et.fromString(G));if(!me.isDocumentKey(k))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const Y=new me(k);O.push(Eh(p,Y))}else{const k=eA(m,g,G);O.push(k)}}return new ro(O,A)}(r._query,r.firestore._databaseId,o,e,t,s)}}function l0(r,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Im(e)&&t.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!me.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Eh(r,new me(s))}if(t instanceof rn)return Eh(r,t._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function u0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(r,e){const t=function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class AO{convertValue(e,t="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zr(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>dt(h.doubleValue));return new Ym(u)}convertGeoPoint(e){return new Qm(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=Gr(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);He(ES(s));const o=new $l(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(t)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aA extends Jm{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class oh extends aA{data(e={}){return super.data(e)}}class wO{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new oh(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(p=>{const m=new oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:bO(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(r){r=mi(r,rn);const e=mi(r.firestore,_o);return oO(Km(e),r._key).then(t=>OO(e,r,t))}class oA extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}}function CO(r){r=mi(r,ir);const e=mi(r.firestore,_o),t=Km(e),s=new oA(e);return EO(r._query),lO(t,r._query).then(o=>new wO(e,s,r,o))}function IO(r,e,t){r=mi(r,rn);const s=mi(r.firestore,_o),o=sA(r.converter,e);return og(s,[JS(mu(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,jn.none())])}function DO(r,e,t,...s){r=mi(r,rn);const o=mi(r.firestore,_o),u=mu(o);let h;return h=typeof(e=Lt(e))=="string"||e instanceof Xh?yO(u,"updateDoc",r._key,e,t,s):gO(u,"updateDoc",r._key,e),og(o,[h.toMutation(r._key,jn.exists(!0))])}function NO(r,e){const t=mi(r.firestore,_o),s=Ch(r),o=sA(r.converter,e);return og(t,[JS(mu(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function og(r,e){return function(s,o){const u=new Yi;return s.asyncQueue.enqueueAndForget(async()=>$2(await aO(s),o,u)),u.promise}(Km(r),e)}function OO(r,e,t){const s=t.docs.get(e._key),o=new oA(r);return new aA(r,o,e._key,s,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}function Dh(){return new Xm("serverTimestamp")}(function(e,t=!0){(function(o){po=o})(ho),Ja(new js("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new _o(new _D(s.getProvider("auth-internal")),new TD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),jr(cE,hE,e),jr(cE,hE,"esm2017")})();const MO={apiKey:"AIzaSyCwzvqfwiGFPOwxVk2hJlv_Jzp8XBAVT7A",authDomain:"mediabox-1772f.firebaseapp.com",projectId:"mediabox-1772f",storageBucket:"mediabox-1772f.firebasestorage.app",messagingSenderId:"148968605688",appId:"1:148968605688:web:1c447eead001c2d26c780d"},lA=q0(MO),zs=pD(lA),tu=hO(lA),xO="_topbar_j3bob_5",VO="_logo_j3bob_21",PO="_searchInput_j3bob_29",kO="_actions_j3bob_57",LO="_addButton_j3bob_71",UO="_editButton_j3bob_73",qa={topbar:xO,logo:VO,searchInput:PO,actions:kO,addButton:LO,editButton:UO},zO="_profile_1jbz1_5",BO="_icon_1jbz1_13",jO="_dropdown_1jbz1_23",Tp={profile:zO,icon:BO,dropdown:jO};function qO({isOpen:r,onToggle:e}){const t=j.useRef(null),s=iu(),o=()=>{localStorage.removeItem("token"),s("/login")};return j.useEffect(()=>{function u(h){t.current&&!t.current.contains(h.target)&&typeof e=="function"&&e(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[e]),$.jsxs("div",{ref:t,className:Tp.profile,children:[$.jsx("span",{className:Tp.icon,onClick:()=>typeof e=="function"&&e(!r),children:""}),r&&$.jsxs("div",{className:Tp.dropdown,children:[$.jsx("button",{children:"Configuraes"}),$.jsx("button",{onClick:o,children:"Logout"})]})]})}function HO({onAdd:r,onEdit:e,profileOpen:t,onToggleProfile:s}){return $.jsxs("nav",{className:qa.topbar,children:[$.jsx("div",{className:qa.logo,children:$.jsx("img",{src:"/MediaBox/MediaBoxLogo.png",alt:"MediaBox Logo"})}),$.jsx("input",{type:"text",className:qa.searchInput,placeholder:"Buscar por ttulo ou tag"}),$.jsxs("div",{className:qa.actions,children:[$.jsx("button",{onClick:r,className:qa.addButton,children:""}),$.jsx("button",{onClick:e,className:qa.editButton,children:""}),$.jsx(qO,{isOpen:t,onToggle:s})]})]})}function FO({loadMore:r,hasMore:e,children:t}){const s=j.useRef();return j.useEffect(()=>{if(!e)return;const o=new IntersectionObserver(([u])=>{u.isIntersecting&&r()},{rootMargin:"200px"});return o.observe(s.current),()=>o.disconnect()},[r,e]),$.jsxs($.Fragment,{children:[t,e&&$.jsx("div",{ref:s,style:{height:1}})]})}const GO="_table_ks8nn_5",KO="_capaImg_ks8nn_185",QO="_emptyState_ks8nn_197",YO="_selectedRow_ks8nn_213",$O="_tableContainer_ks8nn_281",ql={table:GO,capaImg:KO,emptyState:QO,selectedRow:YO,tableContainer:$O},XO="_reviewStars_1ppqk_5",WO={reviewStars:XO};function ZO({rating:r,max:e=5}){const t=Math.max(0,Math.min(r,e)),s=`${(e-t)/e*100}%`;return $.jsx("div",{className:WO.reviewStars,title:`${t} de ${e} estrelas`,style:{"--overlay-percent":s}})}function JO({item:r,isSelected:e,onSelect:t}){var s,o;return $.jsxs("tr",{className:e?ql.selectedRow:"",onClick:t,children:[$.jsx("td",{children:$.jsx("img",{src:r.capa,alt:r.titulo,className:ql.capaImg})}),$.jsx("td",{children:r.titulo}),$.jsx("td",{children:r.tipo}),$.jsx("td",{children:r.progresso}),$.jsx("td",{children:((o=(s=r.dataInclusao)==null?void 0:s.toDate)==null?void 0:o.call(s).toLocaleDateString())||r.dataInclusao}),$.jsx("td",{children:Array.isArray(r.genero)?r.genero.join(", "):r.genero}),$.jsx("td",{title:r.comentario,children:r.comentario}),$.jsx("td",{children:$.jsx(ZO,{rating:r.nota})})]})}function eM({items:r,selectedId:e,onSelect:t,onRatingChange:s}){return r.length?$.jsx("div",{className:ql.tableContainer,children:$.jsxs("table",{className:ql.table,children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:"Capa"}),$.jsx("th",{children:"Ttulo"}),$.jsx("th",{children:"Tipo"}),$.jsx("th",{children:"Progresso"}),$.jsx("th",{children:"Data de Incluso"}),$.jsx("th",{children:"Gnero"}),$.jsx("th",{children:"Comentrio"}),$.jsx("th",{children:"Nota"})]})}),$.jsx("tbody",{children:r.map(o=>$.jsx(JO,{item:o,isSelected:o.id===e,onSelect:()=>t(o),onRatingChange:s},o.id))})]})}):$.jsx("div",{className:ql.emptyState,children:$.jsx("p",{children:"Nenhuma mdia cadastrada."})})}var Sp,c0;function tM(){if(c0)return Sp;c0=1;var r=!1,e,t,s,o,u,h,p,m,g,E,A,w,O,M,G;function k(){if(!r){r=!0;var ne=navigator.userAgent,K=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(ne),oe=/(Mac OS X)|(Windows)|(Linux)/.exec(ne);if(w=/\b(iPhone|iP[ao]d)/.exec(ne),O=/\b(iP[ao]d)/.exec(ne),E=/Android/i.exec(ne),M=/FBAN\/\w+;/i.exec(ne),G=/Mobile/i.exec(ne),A=!!/Win64/.exec(ne),K){e=K[1]?parseFloat(K[1]):K[5]?parseFloat(K[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var re=/(?:Trident\/(\d+.\d+))/.exec(ne);h=re?parseFloat(re[1])+4:e,t=K[2]?parseFloat(K[2]):NaN,s=K[3]?parseFloat(K[3]):NaN,o=K[4]?parseFloat(K[4]):NaN,o?(K=/(?:Chrome\/(\d+\.\d+))/.exec(ne),u=K&&K[1]?parseFloat(K[1]):NaN):u=NaN}else e=t=s=u=o=NaN;if(oe){if(oe[1]){var de=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(ne);p=de?parseFloat(de[1].replace("_",".")):!0}else p=!1;m=!!oe[2],g=!!oe[3]}else p=m=g=!1}}var Y={ie:function(){return k()||e},ieCompatibilityMode:function(){return k()||h>e},ie64:function(){return Y.ie()&&A},firefox:function(){return k()||t},opera:function(){return k()||s},webkit:function(){return k()||o},safari:function(){return Y.webkit()},chrome:function(){return k()||u},windows:function(){return k()||m},osx:function(){return k()||p},linux:function(){return k()||g},iphone:function(){return k()||w},mobile:function(){return k()||w||O||E||G},nativeApp:function(){return k()||M},android:function(){return k()||E},ipad:function(){return k()||O}};return Sp=Y,Sp}var Ap,h0;function nM(){if(h0)return Ap;h0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return Ap=e,Ap}var wp,f0;function iM(){if(f0)return wp;f0=1;var r=nM(),e;r.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(s,o){if(!r.canUseDOM||o&&!("addEventListener"in document))return!1;var u="on"+s,h=u in document;if(!h){var p=document.createElement("div");p.setAttribute(u,"return;"),h=typeof p[u]=="function"}return!h&&e&&s==="wheel"&&(h=document.implementation.hasFeature("Events.wheel","3.0")),h}return wp=t,wp}var bp,d0;function rM(){if(d0)return bp;d0=1;var r=tM(),e=iM(),t=10,s=40,o=800;function u(h){var p=0,m=0,g=0,E=0;return"detail"in h&&(m=h.detail),"wheelDelta"in h&&(m=-h.wheelDelta/120),"wheelDeltaY"in h&&(m=-h.wheelDeltaY/120),"wheelDeltaX"in h&&(p=-h.wheelDeltaX/120),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(p=m,m=0),g=p*t,E=m*t,"deltaY"in h&&(E=h.deltaY),"deltaX"in h&&(g=h.deltaX),(g||E)&&h.deltaMode&&(h.deltaMode==1?(g*=s,E*=s):(g*=o,E*=o)),g&&!p&&(p=g<1?-1:1),E&&!m&&(m=E<1?-1:1),{spinX:p,spinY:m,pixelX:g,pixelY:E}}return u.getEventType=function(){return r.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},bp=u,bp}var Rp,p0;function sM(){return p0||(p0=1,Rp=rM()),Rp}var aM=sM();const oM=Pw(aM);function lM(r,e,t,s,o,u){u===void 0&&(u=0);var h=lo(r,e,u),p=h.width,m=h.height,g=Math.min(p,t),E=Math.min(m,s);return g>E*o?{width:E*o,height:E}:{width:g,height:g/o}}function uM(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function Ol(r,e,t,s,o){o===void 0&&(o=0);var u=lo(e.width,e.height,o),h=u.width,p=u.height;return{x:m0(r.x,h,t.width,s),y:m0(r.y,p,t.height,s)}}function m0(r,e,t,s){var o=e*s/2-t/2;return ef(r,-o,o)}function g0(r,e){return Math.sqrt(Math.pow(r.y-e.y,2)+Math.pow(r.x-e.x,2))}function y0(r,e){return Math.atan2(e.y-r.y,e.x-r.x)*180/Math.PI}function cM(r,e,t,s,o,u,h){u===void 0&&(u=0),h===void 0&&(h=!0);var p=h?hM:fM,m=lo(e.width,e.height,u),g=lo(e.naturalWidth,e.naturalHeight,u),E={x:p(100,((m.width-t.width/o)/2-r.x/o)/m.width*100),y:p(100,((m.height-t.height/o)/2-r.y/o)/m.height*100),width:p(100,t.width/m.width*100/o),height:p(100,t.height/m.height*100/o)},A=Math.round(p(g.width,E.width*g.width/100)),w=Math.round(p(g.height,E.height*g.height/100)),O=g.width>=g.height*s,M=O?{width:Math.round(w*s),height:w}:{width:A,height:Math.round(A/s)},G=Vt(Vt({},M),{x:Math.round(p(g.width-M.width,E.x*g.width/100)),y:Math.round(p(g.height-M.height,E.y*g.height/100))});return{croppedAreaPercentages:E,croppedAreaPixels:G}}function hM(r,e){return Math.min(r,Math.max(0,e))}function fM(r,e){return e}function dM(r,e,t,s,o,u){var h=lo(e.width,e.height,t),p=ef(s.width/h.width*(100/r.width),o,u),m={x:p*h.width/2-s.width/2-h.width*p*(r.x/100),y:p*h.height/2-s.height/2-h.height*p*(r.y/100)};return{crop:m,zoom:p}}function pM(r,e,t){var s=uM(e);return t.height>t.width?t.height/(r.height*s):t.width/(r.width*s)}function mM(r,e,t,s,o,u){t===void 0&&(t=0);var h=lo(e.naturalWidth,e.naturalHeight,t),p=ef(pM(r,e,s),o,u),m=s.height>s.width?s.height/r.height:s.width/r.width,g={x:((h.width-r.width)/2-r.x)*m,y:((h.height-r.height)/2-r.y)*m};return{crop:g,zoom:p}}function _0(r,e){return{x:(e.x+r.x)/2,y:(e.y+r.y)/2}}function gM(r){return r*Math.PI/180}function lo(r,e,t){var s=gM(t);return{width:Math.abs(Math.cos(s)*r)+Math.abs(Math.sin(s)*e),height:Math.abs(Math.sin(s)*r)+Math.abs(Math.cos(s)*e)}}function ef(r,e,t){return Math.min(Math.max(r,e),t)}function Yc(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var yM=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,_M=1,vM=3,EM=1,uA=function(r){JC(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cropperRef=j.createRef(),t.imageRef=j.createRef(),t.videoRef=j.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var s=!0;t.resizeObserver=new window.ResizeObserver(function(o){if(s){s=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(s){return s.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturemove",t.onGestureMove),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var s=t.computeSizes();s&&(t.emitCropData(),t.setInitialCrop(s)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(s){if(t.props.initialCroppedAreaPercentages){var o=dM(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),u=o.crop,h=o.zoom;t.props.onCropChange(u),t.props.onZoomChange&&t.props.onZoomChange(h)}else if(t.props.initialCroppedAreaPixels){var p=mM(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),u=p.crop,h=p.zoom;t.props.onCropChange(u),t.props.onZoomChange&&t.props.onZoomChange(h)}},t.computeSizes=function(){var s,o,u,h,p,m,g=t.imageRef.current||t.videoRef.current;if(g&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var E=t.containerRect.width/t.containerRect.height,A=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,w=((u=t.imageRef.current)===null||u===void 0?void 0:u.naturalHeight)||((h=t.videoRef.current)===null||h===void 0?void 0:h.videoHeight)||0,O=g.offsetWidth<A||g.offsetHeight<w,M=A/w,G=void 0;if(O)switch(t.state.mediaObjectFit){default:case"contain":G=E>M?{width:t.containerRect.height*M,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/M};break;case"horizontal-cover":G={width:t.containerRect.width,height:t.containerRect.width/M};break;case"vertical-cover":G={width:t.containerRect.height*M,height:t.containerRect.height};break}else G={width:g.offsetWidth,height:g.offsetHeight};t.mediaSize=Vt(Vt({},G),{naturalWidth:A,naturalHeight:w}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var k=t.props.cropSize?t.props.cropSize:lM(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((p=t.state.cropSize)===null||p===void 0?void 0:p.height)!==k.height||((m=t.state.cropSize)===null||m===void 0?void 0:m.width)!==k.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(k),t.setState({cropSize:k},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(k),k}},t.saveContainerPosition=function(){if(t.containerRef){var s=t.containerRef.getBoundingClientRect();t.containerPosition={x:s.left,y:s.top}}},t.onMouseDown=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(s)))},t.onMouseMove=function(s){return t.onDrag(e.getMousePoint(s))},t.onScroll=function(s){t.currentDoc&&(s.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(s){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(s))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),s.touches.length===2?t.onPinchStart(s):s.touches.length===1&&t.onDragStart(e.getTouchPoint(s.touches[0]))))},t.onTouchMove=function(s){s.preventDefault(),s.touches.length===2?t.onPinchMove(s):s.touches.length===1&&t.onDrag(e.getTouchPoint(s.touches[0]))},t.onGestureStart=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureMove),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureMove=function(s){if(s.preventDefault(),!t.isTouching){var o=e.getMousePoint(s),u=t.gestureZoomStart-1+s.scale;if(t.setNewZoom(u,o,{shouldUpdatePosition:!0}),t.props.onRotationChange){var h=t.gestureRotationStart+s.rotation;t.props.onRotationChange(h)}}},t.onGestureEnd=function(s){t.cleanEvents()},t.onDragStart=function(s){var o,u,h=s.x,p=s.y;t.dragStartPosition={x:h,y:p},t.dragStartCrop=Vt({},t.props.crop),(u=(o=t.props).onInteractionStart)===null||u===void 0||u.call(o)},t.onDrag=function(s){var o=s.x,u=s.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(o===void 0||u===void 0)){var h=o-t.dragStartPosition.x,p=u-t.dragStartPosition.y,m={x:t.dragStartCrop.x+h,y:t.dragStartCrop.y+p},g=t.props.restrictPosition?Ol(m,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):m;t.props.onCropChange(g)}}))},t.onDragStopped=function(){var s,o;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(o=(s=t.props).onInteractionEnd)===null||o===void 0||o.call(s)},t.onWheel=function(s){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(s))){s.preventDefault();var o=e.getMousePoint(s),u=oM(s).pixelY,h=t.props.zoom-u*t.props.zoomSpeed/200;t.setNewZoom(h,o,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var p,m;return(m=(p=t.props).onInteractionStart)===null||m===void 0?void 0:m.call(p)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var p,m;return(m=(p=t.props).onInteractionEnd)===null||m===void 0?void 0:m.call(p)})},250)}},t.getPointOnContainer=function(s,o){var u=s.x,h=s.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(u-o.x),y:t.containerRect.height/2-(h-o.y)}},t.getPointOnMedia=function(s){var o=s.x,u=s.y,h=t.props,p=h.crop,m=h.zoom;return{x:(o+p.x)/m,y:(u+p.y)/m}},t.setNewZoom=function(s,o,u){var h=u===void 0?{}:u,p=h.shouldUpdatePosition,m=p===void 0?!0:p;if(!(!t.state.cropSize||!t.props.onZoomChange)){var g=ef(s,t.props.minZoom,t.props.maxZoom);if(m){var E=t.getPointOnContainer(o,t.containerPosition),A=t.getPointOnMedia(E),w={x:A.x*g-E.x,y:A.y*g-E.y},O=t.props.restrictPosition?Ol(w,t.mediaSize,t.state.cropSize,g,t.props.rotation):w;t.props.onCropChange(O)}t.props.onZoomChange(g)}},t.getCropData=function(){if(!t.state.cropSize)return null;var s=t.props.restrictPosition?Ol(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return cM(s,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var s=t.getCropData();if(s){var o=s.croppedAreaPercentages,u=s.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(o,u),t.props.onCropAreaChange&&t.props.onCropAreaChange(o,u)}},t.emitCropAreaChange=function(){var s=t.getCropData();if(s){var o=s.croppedAreaPercentages,u=s.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(o,u)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var s=t.props.restrictPosition?Ol(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(s),t.emitCropData()}},t.onKeyDown=function(s){var o,u,h=t.props,p=h.crop,m=h.onCropChange,g=h.keyboardStep,E=h.zoom,A=h.rotation,w=g;if(t.state.cropSize){s.shiftKey&&(w*=.2);var O=Vt({},p);switch(s.key){case"ArrowUp":O.y-=w,s.preventDefault();break;case"ArrowDown":O.y+=w,s.preventDefault();break;case"ArrowLeft":O.x-=w,s.preventDefault();break;case"ArrowRight":O.x+=w,s.preventDefault();break;default:return}t.props.restrictPosition&&(O=Ol(O,t.mediaSize,t.state.cropSize,E,A)),s.repeat||(u=(o=t.props).onInteractionStart)===null||u===void 0||u.call(o),m(O)}},t.onKeyUp=function(s){var o,u;switch(s.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":s.preventDefault();break;default:return}t.emitCropData(),(u=(o=t.props).onInteractionEnd)===null||u===void 0||u.call(o)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=yM,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,s;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((s=this.styleRef.parentNode)===null||s===void 0||s.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var s,o,u,h,p,m,g,E,A;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((s=t.cropSize)===null||s===void 0?void 0:s.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((u=t.cropSize)===null||u===void 0?void 0:u.width)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.width)?this.computeSizes():(((p=t.crop)===null||p===void 0?void 0:p.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((g=t.crop)===null||g===void 0?void 0:g.y)!==((E=this.props.crop)===null||E===void 0?void 0:E.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((A=this.videoRef.current)===null||A===void 0||A.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,s=t.cropSize,o=t.aspect;return s?s.width/s.height:o},e.prototype.getObjectFit=function(){var t,s,o,u;if(this.props.objectFit==="cover"){var h=this.imageRef.current||this.videoRef.current;if(h&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var p=this.containerRect.width/this.containerRect.height,m=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,g=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((u=this.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,E=m/g;return E<p?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var s=e.getTouchPoint(t.touches[0]),o=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=g0(s,o),this.lastPinchRotation=y0(s,o),this.onDragStart(_0(s,o))},e.prototype.onPinchMove=function(t){var s=this;if(!(!this.currentDoc||!this.currentWindow)){var o=e.getTouchPoint(t.touches[0]),u=e.getTouchPoint(t.touches[1]),h=_0(o,u);this.onDrag(h),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var p=g0(o,u),m=s.props.zoom*(p/s.lastPinchDistance);s.setNewZoom(m,h,{shouldUpdatePosition:!1}),s.lastPinchDistance=p;var g=y0(o,u),E=s.props.rotation+(g-s.lastPinchRotation);s.props.onRotationChange&&s.props.onRotationChange(E),s.lastPinchRotation=g})}},e.prototype.render=function(){var t=this,s,o=this.props,u=o.image,h=o.video,p=o.mediaProps,m=o.cropperProps,g=o.transform,E=o.crop,A=E.x,w=E.y,O=o.rotation,M=o.zoom,G=o.cropShape,k=o.showGrid,Y=o.style,ne=Y.containerStyle,K=Y.cropAreaStyle,oe=Y.mediaStyle,re=o.classes,de=re.containerClassName,C=re.cropAreaClassName,b=re.mediaClassName,R=(s=this.state.mediaObjectFit)!==null&&s!==void 0?s:this.getObjectFit();return j.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(P){return t.containerRef=P},"data-testid":"container",style:ne,className:Yc("reactEasyCrop_Container",de)},u?j.createElement("img",Vt({alt:"",className:Yc("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},p,{src:u,ref:this.imageRef,style:Vt(Vt({},oe),{transform:g||"translate(".concat(A,"px, ").concat(w,"px) rotate(").concat(O,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):h&&j.createElement("video",Vt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Yc("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},p,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Vt(Vt({},oe),{transform:g||"translate(".concat(A,"px, ").concat(w,"px) rotate(").concat(O,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(h)?h:[{src:h}]).map(function(N){return j.createElement("source",Vt({key:N.src},N))})),this.state.cropSize&&j.createElement("div",Vt({ref:this.cropperRef,style:Vt(Vt({},K),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Yc("reactEasyCrop_CropArea",G==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",C)},m)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:vM,minZoom:_M,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:EM},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(j.Component);function cA(r,e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const s=t.getContext("2d");return new Promise((o,u)=>{const h=new Image;h.crossOrigin="anonymous",h.src=r,h.onload=()=>{s.drawImage(h,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const p=t.toDataURL("image/jpeg");o(p)},h.onerror=p=>u(p)})}const TM="_backdrop_1523z_1",SM="_modal_1523z_27",AM="_fileInputLabel_1523z_95",wM="_fileInput_1523z_95",bM="_preview_1523z_147",RM="_buttons_1523z_167",CM="_cropContainer_1523z_215",IM="_cropActions_1523z_243",kt={backdrop:TM,modal:SM,fileInputLabel:AM,fileInput:wM,preview:bM,buttons:RM,cropContainer:CM,cropActions:IM};function DM({onClose:r,onSuccess:e}){const[t,s]=j.useState({capa:"",titulo:"",tipo:"Filme",progresso:"",dataInclusao:"",genero:"",comentario:"",nota:""}),o=j.useRef(null),u=j.useRef(),h=new Date().toISOString().split("T")[0],[p,m]=j.useState(!1),[g,E]=j.useState(null),[A,w]=j.useState({x:0,y:0}),[O,M]=j.useState(1),[G,k]=j.useState(null),Y=C=>{C.target===u.current&&r()},ne=C=>{const b=C.target.files[0];b&&(E(URL.createObjectURL(b)),m(!0))},K=j.useCallback((C,b)=>{k(b)},[]),oe=async()=>{try{const C=await cA(g,G);s(b=>({...b,capa:C})),m(!1)}catch(C){console.error(C)}},re=C=>{const{name:b,value:R}=C.target;s(N=>({...N,[b]:R})),b==="comentario"&&o.current&&(o.current.style.height="auto",o.current.style.height=o.current.scrollHeight+"px")},de=async C=>{if(C.preventDefault(),!t.capa){alert("Por favor, faa upload da capa antes de salvar.");return}const b=(t.genero||"").split(/[;\s]+/).map(D=>D.trim()).filter(Boolean),R={titulo:t.titulo,tipo:t.tipo,progresso:t.progresso,dataInclusao:t.dataInclusao||Dh(),genero:b,comentario:t.comentario,nota:t.nota===""?0:Number(t.nota),capa:t.capa,createdAt:Dh()},N=zs.currentUser.uid,P=XS(tu,"Usuarios",N,"midias"),L=await NO(P,R);e({id:L.id,...R}),r()};return $.jsx("div",{ref:u,className:kt.backdrop,onClick:Y,children:$.jsxs("div",{className:kt.modal,children:[$.jsx("h2",{children:"Adicionar Mdia"}),p&&g?$.jsxs($.Fragment,{children:[$.jsx("div",{className:kt.cropContainer,children:$.jsx(uA,{image:g,crop:A,zoom:O,aspect:2/3,onCropChange:w,onZoomChange:M,onCropComplete:K})}),$.jsxs("div",{className:kt.cropActions,children:[$.jsx("button",{type:"button",onClick:()=>m(!1),children:"Cancelar"}),$.jsx("button",{type:"submit",onClick:oe,children:"Aplicar Corte"})]})]}):$.jsxs("form",{onSubmit:de,children:[$.jsxs("label",{className:kt.fileInputLabel,children:[t.capa?"Alterar Capa":"Upload da Capa",$.jsx("input",{name:"capa",type:"file",accept:"image/*",onChange:ne,className:kt.fileInput})]}),t.capa&&$.jsx("img",{src:t.capa,alt:"Preview Capa",className:kt.preview}),$.jsx("input",{name:"titulo",placeholder:"Ttulo",value:t.titulo,onChange:re,required:!0}),$.jsx("select",{name:"tipo",value:t.tipo,onChange:re,children:["Filme","Srie","Anime","Livro","Mang","Manhwa","Light Novel","Outro"].map(C=>$.jsx("option",{children:C},C))}),$.jsx("input",{name:"progresso",placeholder:"Progresso",value:t.progresso,onChange:re}),$.jsx("input",{name:"dataInclusao",type:"date",value:t.dataInclusao,min:"1800-01-01",max:h,onChange:re}),$.jsx("input",{name:"genero",placeholder:"Gneros (separe por ; ou espao)",value:t.genero,onChange:re}),$.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,ref:o,value:t.comentario,onChange:re,onInput:re}),$.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota (05)",value:t.nota,onChange:re}),$.jsxs("div",{className:kt.buttons,children:[$.jsx("button",{type:"button",onClick:r,children:"Cancelar"}),$.jsx("button",{type:"submit",className:kt.saveButton,children:"Salvar"})]})]})]})})}function NM({media:r,onClose:e,onSuccess:t}){const[s,o]=j.useState({...r}),u=j.useRef(),[h,p]=j.useState(!1),[m,g]=j.useState(null),[E,A]=j.useState({x:0,y:0}),[w,O]=j.useState(1),[M,G]=j.useState(null),k=new Date().toISOString().split("T")[0];j.useEffect(()=>{o({...r})},[r]);const Y=C=>{C.target===u.current&&e()},ne=C=>{const b=C.target.files[0];b&&(g(URL.createObjectURL(b)),p(!0))},K=j.useCallback((C,b)=>{G(b)},[]),oe=async()=>{const C=await cA(m,M);o(b=>({...b,capa:C})),p(!1)},re=C=>{const{name:b,value:R}=C.target;o(N=>({...N,[b]:R}))},de=async C=>{C.preventDefault();const R=(Array.isArray(s.genero)?s.genero.join(" "):s.genero||"").split(/[;\s]+/).map(D=>D.trim()).filter(Boolean),N={titulo:s.titulo,tipo:s.tipo,progresso:s.progresso,dataInclusao:s.dataInclusao||Dh(),genero:R,comentario:s.comentario,nota:Number(s.nota),capa:s.capa,updatedAt:Dh()},P=zs.currentUser.uid,L=Ch(tu,"Usuarios",P,"midias",r.id);await DO(L,N),t({id:r.id,...N}),e()};return $.jsx("div",{ref:u,className:kt.backdrop,onClick:Y,children:$.jsxs("div",{className:kt.modal,children:[$.jsx("h2",{children:"Editar Mdia"}),h&&m?$.jsxs($.Fragment,{children:[$.jsx("div",{className:kt.cropContainer,children:$.jsx(uA,{image:m,crop:E,zoom:w,aspect:2/3,onCropChange:A,onZoomChange:O,onCropComplete:K})}),$.jsxs("div",{className:kt.cropActions,children:[$.jsx("button",{type:"button",onClick:()=>p(!1),children:"Cancelar"}),$.jsx("button",{type:"button",onClick:oe,children:"Aplicar Corte"})]})]}):$.jsxs("form",{onSubmit:de,children:[$.jsxs("label",{className:kt.fileInputLabel,children:["Upload da Capa",$.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:kt.fileInput})]}),s.capa&&$.jsx("img",{src:s.capa,alt:"Preview",className:kt.preview}),$.jsx("input",{name:"titulo",placeholder:"Ttulo",value:s.titulo,onChange:re,required:!0}),$.jsx("select",{name:"tipo",value:s.tipo,onChange:re,children:["Filme","Srie","Anime","Livro","Mang","Manhwa","Outro"].map(C=>$.jsx("option",{children:C},C))}),$.jsx("input",{name:"progresso",placeholder:"Progresso",value:s.progresso,onChange:re}),$.jsx("input",{name:"dataInclusao",type:"date",min:"1800-01-01",max:k,value:s.dataInclusao,onChange:re}),$.jsx("input",{name:"genero",placeholder:"Gneros",value:s.genero,onChange:re}),$.jsx("textarea",{name:"comentario",placeholder:"Comentrio",minLength:5,value:s.comentario,onChange:re,rows:4,style:{minHeight:"6rem",resize:"vertical"}}),$.jsx("input",{name:"nota",type:"number",min:"0",max:"5",placeholder:"Nota",value:s.nota,onChange:re}),$.jsxs("div",{className:kt.buttons,children:[$.jsx("button",{type:"button",onClick:e,children:"Cancelar"}),$.jsx("button",{type:"submit",className:kt.saveButton,children:"Salvar"})]})]})]})})}const OM="_container_p0v8t_21",MM={container:OM};function xM(){const[r,e]=j.useState(null),[t,s]=j.useState(!0),[o,u]=j.useState([]),[h,p]=j.useState(null),[m,g]=j.useState(!0),[E,A]=j.useState(!1),[w,O]=j.useState(!1),[M,G]=j.useState(null),[k,Y]=j.useState(!1),ne=iu();j.useEffect(()=>{const R=i1(zs,N=>{N?e(N):ne("/login",{replace:!0}),s(!1)});return()=>R()},[ne]);const K=r&&XS(tu,"Usuarios",r.uid,"midias"),oe=async()=>{if(!K)return;let R=s0(K,a0("dataInclusao","desc"),o0(20));h&&(R=s0(K,a0("dataInclusao","desc"),TO(h),o0(20)));const N=await CO(R),P=N.docs.map(D=>({id:D.id,...D.data()}));u(D=>{const Et=new Set(D.map(X=>X.id)),tt=P.filter(X=>!Et.has(X.id));return[...D,...tt]});const L=N.docs[N.docs.length-1];p(L),g(N.docs.length===20)};j.useEffect(()=>{!t&&r&&(u([]),p(null),g(!0),oe())},[t,r]);const re=R=>{u(N=>[R,...N])},de=R=>{G(R)},C=()=>{if(!M)return alert("Selecione uma mdia");O(!0)},b=R=>{u(N=>N.map(P=>P.id===R.id?R:P))};return t?null:$.jsxs("div",{className:MM.container,children:[$.jsx(HO,{onAdd:()=>A(!0),onEdit:C,profileOpen:k,onToggleProfile:Y}),E&&$.jsx(DM,{onClose:()=>A(!1),onSuccess:re}),w&&$.jsx(NM,{media:M,onClose:()=>O(!1),onSuccess:R=>{b(R),O(!1)}}),$.jsx(FO,{loadMore:oe,hasMore:m,children:$.jsx(eM,{items:o,selectedId:M==null?void 0:M.id,onSelect:de,onRatingChange:(R,N)=>u(P=>P.map(L=>L.id===R?{...L,nota:N}:L))})})]})}const VM="_container_1hk6h_25",PM="_switchContainer_1hk6h_49",kM="_switchText_1hk6h_155",LM="_card_1hk6h_169",UM="_input_1hk6h_195",zM="_submitButton_1hk6h_223",BM="_forgotLink_1hk6h_253",li={container:VM,switchContainer:PM,switchText:kM,card:LM,input:UM,submitButton:zM,forgotLink:BM},jM="_checkmark_clbbt_11",qM="_checkmark__circle_clbbt_37",HM="_checkmark__check_clbbt_55",Cp={checkmark:jM,checkmark__circle:qM,checkmark__check:HM},FM=()=>$.jsxs("svg",{className:Cp.checkmark,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[$.jsx("circle",{className:Cp.checkmark__circle,cx:"26",cy:"26",r:"25",fill:"none"}),$.jsx("path",{className:Cp.checkmark__check,fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]});function GM(){const[r,e]=j.useState(!0),[t,s]=j.useState(""),[o,u]=j.useState(""),[h,p]=j.useState(""),[m,g]=j.useState(""),[E,A]=j.useState(!1),[w,O]=j.useState(!1),M=iu(),G=j.useRef(null),k=()=>{e(!r),s(""),u(""),p(""),g("")},Y=async K=>{K.preventDefault();const oe=K.target;if(!oe.checkValidity()){oe.reportValidity();return}if(!r&&o!==m){const re=oe.querySelector('input[placeholder="Confirme sua Senha"]');re.setCustomValidity("Senhas diferentes"),re.reportValidity();return}A(!0);try{if(r){await e1(zs,t,o);const re=zs.currentUser,de=await RO(Ch(tu,"Usuarios",re.uid));de.exists()&&sessionStorage.setItem("userProfile",JSON.stringify(de.data()))}else{const{user:re}=await JI(zs,t,o);await IO(Ch(tu,"Usuarios",re.uid),{nome:h,email:t}),sessionStorage.setItem("userProfile",JSON.stringify({nome:h,email:t}))}O(!0),setTimeout(()=>M("/home"),1e3)}catch(re){console.error("Erro Firebase:",re);const de=document.querySelector("form"),C=de.querySelector('input[type="email"]'),b=de.querySelector('input[type="password"]');switch(re.code){case"auth/user-not-found":C.setCustomValidity("Usurio no encontrado"),C.reportValidity();break;case"auth/wrong-password":b.setCustomValidity("Senha incorreta"),b.reportValidity();break;case"auth/email-already-in-use":C.setCustomValidity("E-mail j cadastrado"),C.reportValidity();break;default:b.setCustomValidity("Erro na autenticao"),b.reportValidity()}}finally{A(!1)}},ne=async K=>{K.preventDefault();const oe=G.current;if(!oe.checkValidity()){oe.reportValidity();return}try{await ZI(zs,t),alert("Link de redefinio enviado! Verifique sua caixa de entrada.")}catch{oe.setCustomValidity("No foi possvel enviar o email"),oe.reportValidity()}};return $.jsx("div",{className:li.container,children:$.jsxs("div",{className:li.card,children:[$.jsx("h1",{children:r?"Login":"Cadastre-se"}),$.jsxs("form",{onSubmit:Y,noValidate:!0,children:[!r&&$.jsx("input",{type:"text",placeholder:"Seu Nome",autoComplete:"name",required:!0,className:li.input,value:h,onChange:K=>{K.target.setCustomValidity(""),p(K.target.value)},minLength:2}),$.jsx("input",{ref:G,type:"email",placeholder:"Seu Email",autoComplete:"email",required:!0,className:li.input,value:t,onChange:K=>{K.target.setCustomValidity(""),s(K.target.value)}}),$.jsx("input",{type:"password",placeholder:"Sua Senha",autoComplete:r?"current-password":"new-password",required:!0,className:li.input,value:o,onChange:K=>{K.target.setCustomValidity(""),u(K.target.value)},minLength:6}),!r&&$.jsx("input",{type:"password",placeholder:"Confirme sua Senha",autoComplete:"new-password",required:!0,className:li.input,value:m,onChange:K=>{K.target.setCustomValidity(""),g(K.target.value)},minLength:6}),w?$.jsx(FM,{}):$.jsx("button",{type:"submit",className:li.submitButton,disabled:E,children:E?r?"Entrando...":"Registrando...":r?"Entrar":"Registrar"}),r&&$.jsx("button",{type:"button",className:li.forgotLink,onClick:ne,children:"Esqueceu sua senha?"})]}),$.jsxs("div",{className:li.switchContainer,children:[$.jsx("span",{className:li.switchText,children:r?"Novo por aqui? Deslize para se inscrever!":"J  cadastrado? Faa o login!"}),$.jsx("input",{type:"checkbox",id:"switch",checked:!r,onChange:k}),$.jsx("label",{htmlFor:"switch"})]})]})})}function KM(){return $.jsx(aR,{children:$.jsxs(kb,{children:[$.jsx($c,{path:"/",element:$.jsx(Vb,{to:"/login",replace:!0})}),$.jsx($c,{path:"/login",element:$.jsx(GM,{})}),$.jsx($c,{path:"/home",element:$.jsx(xM,{})})]})})}Gw.createRoot(document.getElementById("root")).render($.jsx(j.StrictMode,{children:$.jsx(KM,{})}));
